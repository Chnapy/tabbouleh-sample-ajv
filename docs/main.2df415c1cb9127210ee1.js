!function(e){function t(t){for(var n,u,c=t[0],f=t[1],a=t[2],p=0,l=[];p<c.length;p++)u=c[p],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&l.push(o[u][0]),o[u]=0;for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(e[n]=f[n]);for(s&&s(t);l.length;)l.shift()();return i.push.apply(i,a||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,c=1;c<r.length;c++){var f=r[c];0!==o[f]&&(n=!1)}n&&(i.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},o={0:0},i=[];function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="";var c=window.webpackJsonp=window.webpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var a=0;a<c.length;a++)t(c[a]);var s=f;i.push([49,1]),r()}({0:function(e,t,r){"use strict";(function(e,n){r.d(t,"a",function(){return b}),r.d(t,"b",function(){return g}),r.d(t,"c",function(){return m});var o,i,u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */!function(e){!function(t){var r="object"==typeof u?u:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(e);function i(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===r.Reflect?r.Reflect=e:o=i(r.Reflect,o),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",u="function"==typeof Object.create,c={__proto__:[]}instanceof Array,f=!u&&!c,a={create:u?function(){return x(Object.create(null))}:c?function(){return x({__proto__:null})}:function(){return x({})},has:f?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:f?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},s=Object.getPrototypeOf(Function),p="object"==typeof n&&n.env&&"true"===n.env.REFLECT_METADATA_USE_MAP_POLYFILL,l=p||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,o=r+1;o<n;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,o)},t.prototype.entries=function(){return new r(this._keys,this._values,u)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function o(e,t){return t}function u(e,t){return[e,t]}}():Map,y=p||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new l}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,h=new(p||"function"!=typeof WeakMap?function(){var e=16,r=a.create(),n=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&a.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?a.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+c()}while(a.has(r,e));return r[e]=!0,e}function i(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:a.create()})}return e[n]}function u(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function c(){var t,r=(t=e,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):u(new Uint8Array(t),t):u(new Array(t),t));r[6]=79&r[6]|64,r[8]=191&r[8]|128;for(var n="",o=0;o<e;++o){var i=r[o];4!==o&&6!==o&&8!==o||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function d(e,t,r){var n=h.get(e);if(w(n)){if(!r)return;n=new l,h.set(e,n)}var o=n.get(t);if(w(o)){if(!r)return;o=new l,n.set(t,o)}return o}function v(e,t,r){var n=d(t,r,!1);return!w(n)&&!!n.has(e)}function g(e,t,r){var n=d(t,r,!1);if(!w(n))return n.get(e)}function _(e,t,r,n){d(r,n,!0).set(e,t)}function m(e,t){var r=[],n=d(e,t,!1);if(w(n))return r;for(var o=function(e){var t=T(e,i);if(!E(t))throw new TypeError;var r=t.call(e);if(!S(r))throw new TypeError;return r}(n.keys()),u=0;;){var c=M(o);if(!c)return r.length=u,r;var f=c.value;try{r[u]=f}catch(e){try{N(o)}finally{throw e}}u++}}function b(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function w(e){return void 0===e}function O(e){return null===e}function S(e){return"object"==typeof e?null!==e:"function"==typeof e}function R(e,t){switch(b(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",n=T(e,o);if(void 0!==n){var i=n.call(e,r);if(S(i))throw new TypeError;return i}return function(e,t){if("string"===t){var r=e.toString;if(E(r))if(!S(o=r.call(e)))return o;if(E(n=e.valueOf))if(!S(o=n.call(e)))return o}else{var n;if(E(n=e.valueOf))if(!S(o=n.call(e)))return o;var o,i=e.toString;if(E(i))if(!S(o=i.call(e)))return o}throw new TypeError}(e,"default"===r?"number":r)}function j(e){var t=R(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function P(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function E(e){return"function"==typeof e}function k(e){return"function"==typeof e}function T(e,t){var r=e[t];if(null!=r){if(!E(r))throw new TypeError;return r}}function M(e){var t=e.next();return!t.done&&t}function N(e){var t=e.return;t&&t.call(e)}function J(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===s)return t;if(t!==s)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var o=n.constructor;return"function"!=typeof o?t:o===e?t:o}function x(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,t,r,n){if(w(r)){if(!P(e))throw new TypeError;if(!k(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!w(n)&&!O(n)){if(!k(n))throw new TypeError;t=n}}return t}(e,t)}if(!P(e))throw new TypeError;if(!S(t))throw new TypeError;if(!S(n)&&!w(n)&&!O(n))throw new TypeError;return O(n)&&(n=void 0),function(e,t,r,n){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,r,n);if(!w(i)&&!O(i)){if(!S(i))throw new TypeError;n=i}}return n}(e,t,r=j(r),n)}),e("metadata",function(e,t){return function(r,n){if(!S(r))throw new TypeError;if(!w(n)&&!function(e){switch(b(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;_(e,t,r,n)}}),e("defineMetadata",function(e,t,r,n){if(!S(r))throw new TypeError;return w(n)||(n=j(n)),_(e,t,r,n)}),e("hasMetadata",function(e,t,r){if(!S(t))throw new TypeError;return w(r)||(r=j(r)),function e(t,r,n){var o=v(t,r,n);if(o)return!0;var i=J(r);if(!O(i))return e(t,i,n);return!1}(e,t,r)}),e("hasOwnMetadata",function(e,t,r){if(!S(t))throw new TypeError;return w(r)||(r=j(r)),v(e,t,r)}),e("getMetadata",function(e,t,r){if(!S(t))throw new TypeError;return w(r)||(r=j(r)),function e(t,r,n){var o=v(t,r,n);if(o)return g(t,r,n);var i=J(r);if(!O(i))return e(t,i,n);return}(e,t,r)}),e("getOwnMetadata",function(e,t,r){if(!S(t))throw new TypeError;return w(r)||(r=j(r)),g(e,t,r)}),e("getMetadataKeys",function(e,t){if(!S(e))throw new TypeError;return w(t)||(t=j(t)),function e(t,r){var n=m(t,r);var o=J(t);if(null===o)return n;var i=e(o,r);if(i.length<=0)return n;if(n.length<=0)return i;var u=new y;var c=[];for(var f=0,a=n;f<a.length;f++){var s=a[f];u.has(s)||(u.add(s),c.push(s))}for(var p=0,l=i;p<l.length;p++){s=l[p];u.has(s)||(u.add(s),c.push(s))}return c}(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!S(e))throw new TypeError;return w(t)||(t=j(t)),m(e,t)}),e("deleteMetadata",function(e,t,r){if(!S(t))throw new TypeError;w(r)||(r=j(r));var n=d(t,r,!1);if(w(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var o=h.get(t);return o.delete(r),o.size>0||(h.delete(t),!0)})}(o)}()}(o||(o={})),function(e){e.TYPE="design:type",e.JSON_SCHEMA="tabbouleh:schema",e.JSON_PROPERTY="tabbouleh:property",e.JSON_REFERENCE="tabbouleh:references"}(i||(i={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var f=function(){return(f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(){function e(){}return e.getJSONSchemaType=function(e){switch(e){case Array:return{type:"array"};case Number:return{type:"number"};case String:return{type:"string"};case Object:return{type:"object"};default:return{type:"null"}}},e.getJSONPropertySchema=function(t,r,n){var o=f({},t,r);if(o.$ref)return o;var i=e.getJSONSchemaType(n);return f({},i,o)},e.getReflectProperties=function(e){return Reflect.getMetadata(i.JSON_PROPERTY,e)||{}},e.setReflectProperties=function(e,t){Reflect.defineMetadata(i.JSON_PROPERTY,t,e)},e.defineReflectProperties=function(t,r,n){var o=e.getReflectProperties(t),u=Reflect.getMetadata(i.JSON_SCHEMA,t,r)||{},c=Reflect.getMetadata(i.TYPE,t,r),a=e.getJSONPropertySchema(u,n,c);o[r]=f({},o[r]||{},a),e.setReflectProperties(t,o)},e}(),s=function(e){return"Class called by Tabbouleh but not decorated with @JSONSchema: "+e},p=function(e){function t(r){var n=e.call(this,s(r&&r.name?r.name:r))||this;return Error.call(n),Error.captureStackTrace(n,n.constructor),Object.setPrototypeOf(n,t.prototype),n}return function(e,t){function r(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Error),l=function(e){return e&&e.name&&e.prototype},y=function(){function e(){}return e.computeJSONReferences=function(t,r,n){var o=!n;if(n=n||t,!r){var i=h.getReflectSchema(n)||{};r=i.definitions||{}}e.getReferences(t.name,t.prototype).forEach(function(o){var i,u=o.targetFn();if(!l(u))throw new p(u);if(u!==n){var c=e.generateSchemaID(u);r[c]||(r[c]=h.getComputedJSONSchema(u,r,n))}var f={$ref:e.generateRef(u,n)},s=o.jsonPropertyKey?((i={})[o.jsonPropertyKey]=f,i):f;a.defineReflectProperties(t.prototype,o.key,s)}),Object.keys(r).length&&o&&h.defineReflectSchema(n,{definitions:r})},e.addReference=function(t,r,n,o){var i=t.constructor.name,u={className:i,key:r,jsonPropertyKey:n,targetFn:o},c=e.getReflectReference(t)||{},f=c[i]||[];f=f.filter(function(e){return e.key!==u.key||e.jsonPropertyKey!==u.jsonPropertyKey}),c[i]=f,f.push(u),e.setReflectReference(t,c)},e.getReferences=function(t,r){return(e.getReflectReference(r)||{})[t]||[]},e.generateRef=function(t,r){return t===r?"#":"#/definitions/"+e.generateSchemaID(t)},e.generateSchemaID=function(e){return"_"+e.name+"_"},e.getReflectReference=function(e){return Reflect.getMetadata(i.JSON_REFERENCE,e)},e.setReflectReference=function(e,t){Reflect.defineMetadata(i.JSON_REFERENCE,t,e)},e}(),h=function(){function e(){}return e.getComputedJSONSchema=function(t,r,n){y.computeJSONReferences(t,r,n);var o=e.getReflectSchema(t);if(!o)throw new p(t);return o.properties=a.getReflectProperties(t.prototype),o},e.defineReflectSchema=function(t,r){var n=e.getReflectSchema(t)||a.getJSONPropertySchema({},{},Object);Object.assign(n,r),e.setReflectSchema(t,n)},e.getReflectSchema=function(e){return Reflect.getMetadata(i.JSON_SCHEMA,e.prototype)},e.setReflectSchema=function(e,t){Reflect.defineMetadata(i.JSON_SCHEMA,t,e.prototype)},e}(),d=function(){function e(){}return e.generateJSONSchema=function(e){return h.getComputedJSONSchema(e)},e.generateMultipleJSONSchemas=function(t){for(var r={},n=0,o=Object.keys(t);n<o.length;n++){var i=o[n],u=t[i];r[i]=e.generateJSONSchema(u)}return r},e}(),v=function(e){return void 0===e&&(e={}),function(t){h.defineReflectSchema(t,e)}};function g(e){if("object"==typeof e)return v(e);v()(e)}var _=function(){function e(){}return e.defineProperties=function(t,r){if(1===t.length){var n=t[0];return e.compute(r,n)}var o=t[0],i=t[1];e.compute(r)(o,i)},e.compute=function(e,t){return void 0===t&&(t={}),t=f({},e,t),function(e,r,n){var o={};Object.keys(t).forEach(function(n){var i=n,u=t[i];"function"==typeof u?y.addReference(e,r,i,u):o[i]=u}),a.defineReflectProperties(e,r,o)}},e}();function m(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _.defineProperties(e,{type:"string"})}function b(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&"function"==typeof e[0]?function(t,r,n){var o=e[0];y.addReference(t,r,null,o)}:_.defineProperties(e,{type:"object"})}t.d=d}).call(this,r(14),r(15))},49:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(13),i=r.n(o),u=function(e,t,r,n){var o,i=arguments.length,u=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(u=(i<3?o(u):i>3?o(t,r,u):o(t,r))||u);return i>3&&u&&Object.defineProperty(t,r,u),u},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(){}return u([n.c,c("design:type",String)],e.prototype,"street",void 0),u([n.c,c("design:type",String)],e.prototype,"city",void 0),e=u([Object(n.b)({required:["street","city"]})],e)}(),a=function(e,t,r,n){var o,i=arguments.length,u=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(u=(i<3?o(u):i>3?o(t,r,u):o(t,r))||u);return i>3&&u&&Object.defineProperty(t,r,u),u},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(){}return a([Object(n.a)(function(){return f}),s("design:type",f)],e.prototype,"address",void 0),e=a([Object(n.b)({required:["name","age","address"]})],e)}(),l=document.getElementById("schema-output"),y=document.getElementById("data-input"),h=document.getElementById("state-output");function d(e){h.classList.remove("success"),h.classList.add("error"),h.innerHTML="<br/><br/>"+e.map(function(e){return e.dataPath+" => "+e.message}).join("<br/>")}function v(e,t){try{var r=t(JSON.parse(e));console.log("validate result:",r),r.valid?(h.classList.remove("error"),h.classList.add("success")):d(r.errors)}catch(e){console.error(e),d([{dataPath:e.name,message:e.message}])}}var g=n.d.generateJSONSchema(p);console.log("schema:",g);var _=(new i.a).compile(g);!function(e,t,r){l.innerText=JSON.stringify(e,void 0,"\t"),y.onkeyup=function(e){v(e.currentTarget.value,r)},y.value=JSON.stringify(t,void 0,"\t"),v(y.value,r)}(g,{name:"Toto",age:28,address:{city:"Paris",street:"56 rue Saint Martin"}},function(e){return{valid:_(e),errors:_.errors||[]}})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL3RhYmJvdWxlaC9kaXN0L3RhYmJvdWxlaC5lczUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VzZXJBZGRyZXNzLnRzIiwid2VicGFjazovLy8uL3NyYy9Vc2VyRGF0YS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZG9tTWFuaXB1bGF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjAiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsIlJlZmxlY3QkMSIsIlJFRkxFQ1RfS0VZIiwiY29tbW9uanNHbG9iYWwiLCJnbG9iYWxUaGlzIiwiZ2xvYmFsIiwic2VsZiIsIlJlZmxlY3QiLCJmYWN0b3J5Iiwicm9vdCIsInRoaXMiLCJGdW5jdGlvbiIsImV4cG9ydGVyIiwibWFrZUV4cG9ydGVyIiwidGFyZ2V0IiwicHJldmlvdXMiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImhhc093biIsInN1cHBvcnRzU3ltYm9sIiwidG9QcmltaXRpdmVTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsIml0ZXJhdG9yU3ltYm9sIiwiaXRlcmF0b3IiLCJzdXBwb3J0c0NyZWF0ZSIsInN1cHBvcnRzUHJvdG8iLCJfX3Byb3RvX18iLCJBcnJheSIsImRvd25MZXZlbCIsIkhhc2hNYXAiLCJNYWtlRGljdGlvbmFyeSIsImhhcyIsIm1hcCIsInVuZGVmaW5lZCIsImZ1bmN0aW9uUHJvdG90eXBlIiwiZ2V0UHJvdG90eXBlT2YiLCJ1c2VQb2x5ZmlsbCIsInByb2Nlc3MiLCJlbnYiLCJfTWFwIiwiTWFwIiwiZW50cmllcyIsImNhY2hlU2VudGluZWwiLCJhcnJheVNlbnRpbmVsIiwiTWFwSXRlcmF0b3IiLCJrZXlzIiwidmFsdWVzIiwic2VsZWN0b3IiLCJfaW5kZXgiLCJfa2V5cyIsIl92YWx1ZXMiLCJfc2VsZWN0b3IiLCJuZXh0IiwiaW5kZXgiLCJkb25lIiwidGhyb3ciLCJlcnJvciIsInJldHVybiIsIl9jYWNoZUtleSIsIl9jYWNoZUluZGV4IiwiX2ZpbmQiLCJzZXQiLCJkZWxldGUiLCJzaXplIiwiY2xlYXIiLCJnZXRLZXkiLCJnZXRWYWx1ZSIsImdldEVudHJ5IiwiaW5zZXJ0IiwiaW5kZXhPZiIsIl8iLCJDcmVhdGVNYXBQb2x5ZmlsbCIsIl9TZXQiLCJTZXQiLCJfbWFwIiwiYWRkIiwiTWV0YWRhdGEiLCJXZWFrTWFwIiwiVVVJRF9TSVpFIiwicm9vdEtleSIsIkNyZWF0ZVVuaXF1ZUtleSIsIl9rZXkiLCJ0YWJsZSIsIkdldE9yQ3JlYXRlV2Vha01hcFRhYmxlIiwiQ3JlYXRlVVVJRCIsIkZpbGxSYW5kb21CeXRlcyIsImJ1ZmZlciIsIk1hdGgiLCJyYW5kb20iLCJVaW50OEFycmF5IiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwibXNDcnlwdG8iLCJvZmZzZXQiLCJieXRlIiwidG9TdHJpbmciLCJ0b0xvd2VyQ2FzZSIsIkNyZWF0ZVdlYWtNYXBQb2x5ZmlsbCIsIkdldE9yQ3JlYXRlTWV0YWRhdGFNYXAiLCJPIiwiUCIsIkNyZWF0ZSIsInRhcmdldE1ldGFkYXRhIiwiSXNVbmRlZmluZWQiLCJtZXRhZGF0YU1hcCIsIk9yZGluYXJ5SGFzT3duTWV0YWRhdGEiLCJNZXRhZGF0YUtleSIsIk9yZGluYXJ5R2V0T3duTWV0YWRhdGEiLCJPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhIiwiTWV0YWRhdGFWYWx1ZSIsIk9yZGluYXJ5T3duTWV0YWRhdGFLZXlzIiwib2JqIiwibWV0aG9kIiwiR2V0TWV0aG9kIiwiSXNDYWxsYWJsZSIsIlR5cGVFcnJvciIsIklzT2JqZWN0IiwiR2V0SXRlcmF0b3IiLCJrIiwiSXRlcmF0b3JTdGVwIiwibmV4dFZhbHVlIiwiZSIsIkl0ZXJhdG9yQ2xvc2UiLCJUeXBlIiwieCIsIklzTnVsbCIsIlRvUHJpbWl0aXZlIiwiaW5wdXQiLCJQcmVmZXJyZWRUeXBlIiwiaGludCIsImV4b3RpY1RvUHJpbSIsInRvU3RyaW5nXzEiLCJ2YWx1ZU9mIiwidG9TdHJpbmdfMiIsIk9yZGluYXJ5VG9QcmltaXRpdmUiLCJUb1Byb3BlcnR5S2V5IiwiYXJndW1lbnQiLCJUb1N0cmluZyIsIklzQXJyYXkiLCJpc0FycmF5IiwiSXNDb25zdHJ1Y3RvciIsIlYiLCJmdW5jIiwiZiIsIk9yZGluYXJ5R2V0UHJvdG90eXBlT2YiLCJwcm90byIsInByb3RvdHlwZVByb3RvIiwiY29uc3RydWN0b3IiLCJfXyIsImRlY29yYXRvcnMiLCJwcm9wZXJ0eUtleSIsImF0dHJpYnV0ZXMiLCJkZWNvcmF0ZWQiLCJkZWNvcmF0b3IiLCJEZWNvcmF0ZUNvbnN0cnVjdG9yIiwiZGVzY3JpcHRvciIsIkRlY29yYXRlUHJvcGVydHkiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJJc1Byb3BlcnR5S2V5IiwiT3JkaW5hcnlIYXNNZXRhZGF0YSIsInBhcmVudCIsIk9yZGluYXJ5R2V0TWV0YWRhdGEiLCJPcmRpbmFyeU1ldGFkYXRhS2V5cyIsIm93bktleXMiLCJwYXJlbnRLZXlzIiwiX2kiLCJvd25LZXlzXzEiLCJfYSIsInBhcmVudEtleXNfMSIsImV4dGVuZFN0YXRpY3MiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX2Fzc2lnbiIsImFzc2lnbiIsImFyZ3VtZW50cyIsIlByb3BlcnR5RW5naW5lIiwiZ2V0SlNPTlNjaGVtYVR5cGUiLCJ0eXBlVFMiLCJ0eXBlIiwiTnVtYmVyIiwiU3RyaW5nIiwiZ2V0SlNPTlByb3BlcnR5U2NoZW1hIiwicmVmbGVjdEVudGl0eSIsInBhcmFtRW50aXR5IiwicGFydGlhbEVudGl0eSIsIiRyZWYiLCJ0eXBlRW50aXR5IiwiZ2V0UmVmbGVjdFByb3BlcnRpZXMiLCJnZXRNZXRhZGF0YSIsIkpTT05fUFJPUEVSVFkiLCJzZXRSZWZsZWN0UHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJkZWZpbmVNZXRhZGF0YSIsImRlZmluZVJlZmxlY3RQcm9wZXJ0aWVzIiwicmVmbGVjdFNjaGVtYSIsIkpTT05fU0NIRU1BIiwidHlwZVNjaGVtYSIsIlRZUEUiLCJmdWxsU2NoZW1hIiwibXNnIiwiTm90QUpzb25TY2hlbWFFcnJvciIsIl9zdXBlciIsIl90aGlzIiwiRXJyb3IiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIl9fZXh0ZW5kcyIsIlV0aWwiLCJSZWZlcmVuY2VFbmdpbmUiLCJjb21wdXRlSlNPTlJlZmVyZW5jZXMiLCJkZWZpbml0aW9ucyIsInJvb3RUYXJnZXQiLCJpc1Jvb3QiLCJyb290VGFyZ2V0U2NoZW1hIiwiU2NoZW1hRW5naW5lIiwiZ2V0UmVmbGVjdFNjaGVtYSIsImdldFJlZmVyZW5jZXMiLCJmb3JFYWNoIiwiYSIsInJlZlRhcmdldCIsInRhcmdldEZuIiwidGFyZ2V0SUQiLCJnZW5lcmF0ZVNjaGVtYUlEIiwiZ2V0Q29tcHV0ZWRKU09OU2NoZW1hIiwicmVmU2NoZW1hIiwiZ2VuZXJhdGVSZWYiLCJqc29uUHJvcGVydHlLZXkiLCJkZWZpbmVSZWZsZWN0U2NoZW1hIiwiYWRkUmVmZXJlbmNlIiwicHJvdG90eXBlU291cmNlIiwianNvblByb3BlcnR5IiwiY2xhc3NUYXJnZXRGbiIsImNsYXNzTmFtZSIsInJlZmVyZW5jZSIsInJlZmVyZW5jZU1hcCIsImdldFJlZmxlY3RSZWZlcmVuY2UiLCJyZWZNYXBDbGFzcyIsImZpbHRlciIsInNldFJlZmxlY3RSZWZlcmVuY2UiLCJwcm90b3R5cGVUYXJnZXQiLCJKU09OX1JFRkVSRU5DRSIsInNjaGVtYSIsImNsYXNzU2NoZW1hIiwic2V0UmVmbGVjdFNjaGVtYSIsIlRhYmJvdWxlaCIsImdlbmVyYXRlSlNPTlNjaGVtYSIsImdlbmVyYXRlTXVsdGlwbGVKU09OU2NoZW1hcyIsImNvbXB1dGUiLCJKU09OU2NoZW1hIiwiYXJnIiwiRGVjb3JhdG9yRW5naW5lIiwiZGVmaW5lUHJvcGVydGllcyIsImFyZ3MiLCJkZWZhdWx0VmFsdWVzIiwidmFsdWVTY2hlbWEiLCJfayIsInYiLCJKU09OU3RyaW5nIiwiSlNPTk9iamVjdCIsImNsYXNzRm4iLCJVc2VyQWRkcmVzcyIsInJlcXVpcmVkIiwiVXNlckRhdGEiLCJzY2hlbWFPdXRwdXQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZGF0YUlucHV0Iiwic3RhdGVPdXRwdXQiLCJvbkVycm9yIiwiZXJyb3JzIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiaW5uZXJIVE1MIiwiZGF0YVBhdGgiLCJtZXNzYWdlIiwiam9pbiIsIm9uQ2hhbmdlIiwiZG9WYWxpZGF0ZSIsIkpTT04iLCJwYXJzZSIsImNvbnNvbGUiLCJsb2ciLCJ2YWxpZCIsInZhbGlkYXRlIiwiY29tcGlsZSIsImRlZmF1bHREYXRhIiwiaW5uZXJUZXh0Iiwic3RyaW5naWZ5Iiwib25rZXl1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UyxJQUdwQlgsRUFBVXpSLE1BQVFxUyxLQUFLUyxVQUFVRixPQUFhNVAsRUFBVyxNQUV6RG1QLEVBQVNWLEVBQVV6UixNQUFPb1MsR0NwQjlCWSxDQUFRaEQsRUFuQnNCLENBQzFCelEsS0FBTSxPQUNOMFQsSUFBSyxHQUNMQyxRQUFTLENBQ0xDLEtBQU0sUUFDTkMsT0FBUSx3QkFLaEIsU0FBb0JsVyxHQUdoQixNQUFPLENBQ0h1VixNQUhVQyxFQUFTeFYsR0FJbkIwVSxPQUFRYyxFQUFTZCxRQUFVIiwiZmlsZSI6Im1haW4uMmRmNDE1YzFjYjkxMjcyMTBlZTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDA6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goWzQ5LDFdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwidmFyIGNvbW1vbmpzR2xvYmFsID0gdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsVGhpcyA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmIDoge307XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChDKSBNaWNyb3NvZnQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cblxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xudmFyIFJlZmxlY3QkMTtcbihmdW5jdGlvbiAoUmVmbGVjdCkge1xuICAgIC8vIE1ldGFkYXRhIFByb3Bvc2FsXG4gICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS9cbiAgICAoZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICAgICAgdmFyIHJvb3QgPSB0eXBlb2YgY29tbW9uanNHbG9iYWwgPT09IFwib2JqZWN0XCIgPyBjb21tb25qc0dsb2JhbCA6XG4gICAgICAgICAgICB0eXBlb2Ygc2VsZiA9PT0gXCJvYmplY3RcIiA/IHNlbGYgOlxuICAgICAgICAgICAgICAgIHR5cGVvZiB0aGlzID09PSBcIm9iamVjdFwiID8gdGhpcyA6XG4gICAgICAgICAgICAgICAgICAgIEZ1bmN0aW9uKFwicmV0dXJuIHRoaXM7XCIpKCk7XG4gICAgICAgIHZhciBleHBvcnRlciA9IG1ha2VFeHBvcnRlcihSZWZsZWN0KTtcbiAgICAgICAgaWYgKHR5cGVvZiByb290LlJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJvb3QuUmVmbGVjdCA9IFJlZmxlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBleHBvcnRlciA9IG1ha2VFeHBvcnRlcihyb290LlJlZmxlY3QsIGV4cG9ydGVyKTtcbiAgICAgICAgfVxuICAgICAgICBmYWN0b3J5KGV4cG9ydGVyKTtcbiAgICAgICAgZnVuY3Rpb24gbWFrZUV4cG9ydGVyKHRhcmdldCwgcHJldmlvdXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0W2tleV0gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHsgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXMpXG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0pKGZ1bmN0aW9uIChleHBvcnRlcikge1xuICAgICAgICB2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbiAgICAgICAgLy8gZmVhdHVyZSB0ZXN0IGZvciBTeW1ib2wgc3VwcG9ydFxuICAgICAgICB2YXIgc3VwcG9ydHNTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIHZhciB0b1ByaW1pdGl2ZVN5bWJvbCA9IHN1cHBvcnRzU3ltYm9sICYmIHR5cGVvZiBTeW1ib2wudG9QcmltaXRpdmUgIT09IFwidW5kZWZpbmVkXCIgPyBTeW1ib2wudG9QcmltaXRpdmUgOiBcIkBAdG9QcmltaXRpdmVcIjtcbiAgICAgICAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gc3VwcG9ydHNTeW1ib2wgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciAhPT0gXCJ1bmRlZmluZWRcIiA/IFN5bWJvbC5pdGVyYXRvciA6IFwiQEBpdGVyYXRvclwiO1xuICAgICAgICB2YXIgc3VwcG9ydHNDcmVhdGUgPSB0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gXCJmdW5jdGlvblwiOyAvLyBmZWF0dXJlIHRlc3QgZm9yIE9iamVjdC5jcmVhdGUgc3VwcG9ydFxuICAgICAgICB2YXIgc3VwcG9ydHNQcm90byA9IHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXk7IC8vIGZlYXR1cmUgdGVzdCBmb3IgX19wcm90b19fIHN1cHBvcnRcbiAgICAgICAgdmFyIGRvd25MZXZlbCA9ICFzdXBwb3J0c0NyZWF0ZSAmJiAhc3VwcG9ydHNQcm90bztcbiAgICAgICAgdmFyIEhhc2hNYXAgPSB7XG4gICAgICAgICAgICAvLyBjcmVhdGUgYW4gb2JqZWN0IGluIGRpY3Rpb25hcnkgbW9kZSAoYS5rLmEuIFwic2xvd1wiIG1vZGUgaW4gdjgpXG4gICAgICAgICAgICBjcmVhdGU6IHN1cHBvcnRzQ3JlYXRlXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBNYWtlRGljdGlvbmFyeShPYmplY3QuY3JlYXRlKG51bGwpKTsgfVxuICAgICAgICAgICAgICAgIDogc3VwcG9ydHNQcm90b1xuICAgICAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE1ha2VEaWN0aW9uYXJ5KHsgX19wcm90b19fOiBudWxsIH0pOyB9XG4gICAgICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4gTWFrZURpY3Rpb25hcnkoe30pOyB9LFxuICAgICAgICAgICAgaGFzOiBkb3duTGV2ZWxcbiAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gaGFzT3duLmNhbGwobWFwLCBrZXkpOyB9XG4gICAgICAgICAgICAgICAgOiBmdW5jdGlvbiAobWFwLCBrZXkpIHsgcmV0dXJuIGtleSBpbiBtYXA7IH0sXG4gICAgICAgICAgICBnZXQ6IGRvd25MZXZlbFxuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKG1hcCwga2V5KSB7IHJldHVybiBoYXNPd24uY2FsbChtYXAsIGtleSkgPyBtYXBba2V5XSA6IHVuZGVmaW5lZDsgfVxuICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKG1hcCwga2V5KSB7IHJldHVybiBtYXBba2V5XTsgfSxcbiAgICAgICAgfTtcbiAgICAgICAgLy8gTG9hZCBnbG9iYWwgb3Igc2hpbSB2ZXJzaW9ucyBvZiBNYXAsIFNldCwgYW5kIFdlYWtNYXBcbiAgICAgICAgdmFyIGZ1bmN0aW9uUHJvdG90eXBlID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKEZ1bmN0aW9uKTtcbiAgICAgICAgdmFyIHVzZVBvbHlmaWxsID0gdHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgcHJvY2Vzcy5lbnYgJiYgcHJvY2Vzcy5lbnZbXCJSRUZMRUNUX01FVEFEQVRBX1VTRV9NQVBfUE9MWUZJTExcIl0gPT09IFwidHJ1ZVwiO1xuICAgICAgICB2YXIgX01hcCA9ICF1c2VQb2x5ZmlsbCAmJiB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIE1hcC5wcm90b3R5cGUuZW50cmllcyA9PT0gXCJmdW5jdGlvblwiID8gTWFwIDogQ3JlYXRlTWFwUG9seWZpbGwoKTtcbiAgICAgICAgdmFyIF9TZXQgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIFNldCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTZXQucHJvdG90eXBlLmVudHJpZXMgPT09IFwiZnVuY3Rpb25cIiA/IFNldCA6IENyZWF0ZVNldFBvbHlmaWxsKCk7XG4gICAgICAgIHZhciBfV2Vha01hcCA9ICF1c2VQb2x5ZmlsbCAmJiB0eXBlb2YgV2Vha01hcCA9PT0gXCJmdW5jdGlvblwiID8gV2Vha01hcCA6IENyZWF0ZVdlYWtNYXBQb2x5ZmlsbCgpO1xuICAgICAgICAvLyBbW01ldGFkYXRhXV0gaW50ZXJuYWwgc2xvdFxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeS1vYmplY3QtaW50ZXJuYWwtbWV0aG9kcy1hbmQtaW50ZXJuYWwtc2xvdHNcbiAgICAgICAgdmFyIE1ldGFkYXRhID0gbmV3IF9XZWFrTWFwKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBcHBsaWVzIGEgc2V0IG9mIGRlY29yYXRvcnMgdG8gYSBwcm9wZXJ0eSBvZiBhIHRhcmdldCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSBkZWNvcmF0b3JzIEFuIGFycmF5IG9mIGRlY29yYXRvcnMuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgdG8gZGVjb3JhdGUuXG4gICAgICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzIChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGRlc2NyaXB0b3IgZm9yIHRoZSB0YXJnZXQga2V5LlxuICAgICAgICAgKiBAcmVtYXJrcyBEZWNvcmF0b3JzIGFyZSBhcHBsaWVkIGluIHJldmVyc2Ugb3JkZXIuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIEV4YW1wbGUgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIsXG4gICAgICAgICAqICAgICAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIsXG4gICAgICAgICAqICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIikpKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIixcbiAgICAgICAgICogICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIikpKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFJc0FycmF5KGRlY29yYXRvcnMpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdChhdHRyaWJ1dGVzKSAmJiAhSXNVbmRlZmluZWQoYXR0cmlidXRlcykgJiYgIUlzTnVsbChhdHRyaWJ1dGVzKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmIChJc051bGwoYXR0cmlidXRlcykpXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gRGVjb3JhdGVQcm9wZXJ0eShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghSXNBcnJheShkZWNvcmF0b3JzKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNDb25zdHJ1Y3Rvcih0YXJnZXQpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRlQ29uc3RydWN0b3IoZGVjb3JhdG9ycywgdGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImRlY29yYXRlXCIsIGRlY29yYXRlKTtcbiAgICAgICAgLy8gNC4xLjIgUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSlcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jcmVmbGVjdC5tZXRhZGF0YVxuICAgICAgICAvKipcbiAgICAgICAgICogQSBkZWZhdWx0IG1ldGFkYXRhIGRlY29yYXRvciBmYWN0b3J5IHRoYXQgY2FuIGJlIHVzZWQgb24gYSBjbGFzcywgY2xhc3MgbWVtYmVyLCBvciBwYXJhbWV0ZXIuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBUaGUga2V5IGZvciB0aGUgbWV0YWRhdGEgZW50cnkuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YVZhbHVlIFRoZSB2YWx1ZSBmb3IgdGhlIG1ldGFkYXRhIGVudHJ5LlxuICAgICAgICAgKiBAcmV0dXJucyBBIGRlY29yYXRvciBmdW5jdGlvbi5cbiAgICAgICAgICogQHJlbWFya3NcbiAgICAgICAgICogSWYgYG1ldGFkYXRhS2V5YCBpcyBhbHJlYWR5IGRlZmluZWQgZm9yIHRoZSB0YXJnZXQgYW5kIHRhcmdldCBrZXksIHRoZVxuICAgICAgICAgKiBtZXRhZGF0YVZhbHVlIGZvciB0aGF0IGtleSB3aWxsIGJlIG92ZXJ3cml0dGVuLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvciwgVHlwZVNjcmlwdCBvbmx5KVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlLCBUeXBlU2NyaXB0IG9ubHkpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgICAgIHByb3BlcnR5O1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZCgpIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZCgpIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkgJiYgIUlzUHJvcGVydHlLZXkocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVjb3JhdG9yO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwibWV0YWRhdGFcIiwgbWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5lIGEgdW5pcXVlIG1ldGFkYXRhIGVudHJ5IG9uIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBBIGtleSB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhVmFsdWUgQSB2YWx1ZSB0aGF0IGNvbnRhaW5zIGF0dGFjaGVkIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRvIGRlZmluZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGRlY29yYXRvciBmYWN0b3J5IGFzIG1ldGFkYXRhLXByb2R1Y2luZyBhbm5vdGF0aW9uLlxuICAgICAgICAgKiAgICAgZnVuY3Rpb24gTXlBbm5vdGF0aW9uKG9wdGlvbnMpOiBEZWNvcmF0b3Ige1xuICAgICAgICAgKiAgICAgICAgIHJldHVybiAodGFyZ2V0LCBrZXk/KSA9PiBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgdGFyZ2V0LCBrZXkpO1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVmaW5lTWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZGVmaW5lTWV0YWRhdGFcIiwgZGVmaW5lTWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyBhIHZhbHVlIGluZGljYXRpbmcgd2hldGhlciB0aGUgdGFyZ2V0IG9iamVjdCBvciBpdHMgcHJvdG90eXBlIGNoYWluIGhhcyB0aGUgcHJvdmlkZWQgbWV0YWRhdGEga2V5IGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBBIGtleSB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBtZXRhZGF0YSBrZXkgd2FzIGRlZmluZWQgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbjsgb3RoZXJ3aXNlLCBgZmFsc2VgLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc01ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc01ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc01ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc01ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5SGFzTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiaGFzTWV0YWRhdGFcIiwgaGFzTWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyBhIHZhbHVlIGluZGljYXRpbmcgd2hldGhlciB0aGUgdGFyZ2V0IG9iamVjdCBoYXMgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEga2V5IHdhcyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0OyBvdGhlcndpc2UsIGBmYWxzZWAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzT3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzT3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzT3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzT3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBoYXNPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJoYXNPd25NZXRhZGF0YVwiLCBoYXNPd25NZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSB2YWx1ZSBmb3IgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBvbiB0aGUgdGFyZ2V0IG9iamVjdCBvciBpdHMgcHJvdG90eXBlIGNoYWluLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIFRoZSBtZXRhZGF0YSB2YWx1ZSBmb3IgdGhlIG1ldGFkYXRhIGtleSBpZiBmb3VuZDsgb3RoZXJ3aXNlLCBgdW5kZWZpbmVkYC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldE1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUdldE1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImdldE1ldGFkYXRhXCIsIGdldE1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIG1ldGFkYXRhIHZhbHVlIGZvciB0aGUgcHJvdmlkZWQgbWV0YWRhdGEga2V5IG9uIHRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIFRoZSBtZXRhZGF0YSB2YWx1ZSBmb3IgdGhlIG1ldGFkYXRhIGtleSBpZiBmb3VuZDsgb3RoZXJ3aXNlLCBgdW5kZWZpbmVkYC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldE93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUdldE93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImdldE93bk1ldGFkYXRhXCIsIGdldE93bk1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIG1ldGFkYXRhIGtleXMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0IG9iamVjdCBvciBpdHMgcHJvdG90eXBlIGNoYWluLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB1bmlxdWUgbWV0YWRhdGEga2V5cy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRNZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlNZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRNZXRhZGF0YUtleXNcIiwgZ2V0TWV0YWRhdGFLZXlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIHVuaXF1ZSBtZXRhZGF0YSBrZXlzIGRlZmluZWQgb24gdGhlIHRhcmdldCBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHVuaXF1ZSBtZXRhZGF0YSBrZXlzLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldE93bk1ldGFkYXRhS2V5cyh0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyh0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImdldE93bk1ldGFkYXRhS2V5c1wiLCBnZXRPd25NZXRhZGF0YUtleXMpO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVsZXRlcyB0aGUgbWV0YWRhdGEgZW50cnkgZnJvbSB0aGUgdGFyZ2V0IG9iamVjdCB3aXRoIHRoZSBwcm92aWRlZCBrZXkuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YUtleSBBIGtleSB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBtZXRhZGF0YSBlbnRyeSB3YXMgZm91bmQgYW5kIGRlbGV0ZWQ7IG90aGVyd2lzZSwgZmFsc2UuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZGVsZXRlTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBkZWxldGVNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKHRhcmdldCwgcHJvcGVydHlLZXksIC8qQ3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIW1ldGFkYXRhTWFwLmRlbGV0ZShtZXRhZGF0YUtleSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhTWFwLnNpemUgPiAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgdmFyIHRhcmdldE1ldGFkYXRhID0gTWV0YWRhdGEuZ2V0KHRhcmdldCk7XG4gICAgICAgICAgICB0YXJnZXRNZXRhZGF0YS5kZWxldGUocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgaWYgKHRhcmdldE1ldGFkYXRhLnNpemUgPiAwKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgTWV0YWRhdGEuZGVsZXRlKHRhcmdldCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImRlbGV0ZU1ldGFkYXRhXCIsIGRlbGV0ZU1ldGFkYXRhKTtcbiAgICAgICAgZnVuY3Rpb24gRGVjb3JhdGVDb25zdHJ1Y3RvcihkZWNvcmF0b3JzLCB0YXJnZXQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRlZCA9IGRlY29yYXRvcih0YXJnZXQpO1xuICAgICAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQoZGVjb3JhdGVkKSAmJiAhSXNOdWxsKGRlY29yYXRlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc0NvbnN0cnVjdG9yKGRlY29yYXRlZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGRlY29yYXRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIERlY29yYXRlUHJvcGVydHkoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgZGVzY3JpcHRvcikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVjb3JhdG9yID0gZGVjb3JhdG9yc1tpXTtcbiAgICAgICAgICAgICAgICB2YXIgZGVjb3JhdGVkID0gZGVjb3JhdG9yKHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpO1xuICAgICAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQoZGVjb3JhdGVkKSAmJiAhSXNOdWxsKGRlY29yYXRlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdChkZWNvcmF0ZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdG9yID0gZGVjb3JhdGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgQ3JlYXRlKSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0TWV0YWRhdGEgPSBNZXRhZGF0YS5nZXQoTyk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQodGFyZ2V0TWV0YWRhdGEpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFDcmVhdGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGFyZ2V0TWV0YWRhdGEgPSBuZXcgX01hcCgpO1xuICAgICAgICAgICAgICAgIE1ldGFkYXRhLnNldChPLCB0YXJnZXRNZXRhZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSB0YXJnZXRNZXRhZGF0YS5nZXQoUCk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFDcmVhdGUpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGFNYXAgPSBuZXcgX01hcCgpO1xuICAgICAgICAgICAgICAgIHRhcmdldE1ldGFkYXRhLnNldChQLCBtZXRhZGF0YU1hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWV0YWRhdGFNYXA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjEuMSBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWhhc21ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5SGFzTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBoYXNPd24gPSBPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKTtcbiAgICAgICAgICAgIGlmIChoYXNPd24pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmICghSXNOdWxsKHBhcmVudCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5SGFzTWV0YWRhdGEoTWV0YWRhdGFLZXksIHBhcmVudCwgUCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjIuMSBPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWhhc293bm1ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5SGFzT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLypDcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBUb0Jvb2xlYW4obWV0YWRhdGFNYXAuaGFzKE1ldGFkYXRhS2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjMuMSBPcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWdldG1ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5R2V0TWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBoYXNPd24gPSBPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKTtcbiAgICAgICAgICAgIGlmIChoYXNPd24pXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTyk7XG4gICAgICAgICAgICBpZiAoIUlzTnVsbChwYXJlbnQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBwYXJlbnQsIFApO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNC4xIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5Z2V0b3dubWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlHZXRPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiBtZXRhZGF0YU1hcC5nZXQoTWV0YWRhdGFLZXkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS41LjEgT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTWV0YWRhdGFWYWx1ZSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnlkZWZpbmVvd25tZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBNZXRhZGF0YVZhbHVlLCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIC8qQ3JlYXRlKi8gdHJ1ZSk7XG4gICAgICAgICAgICBtZXRhZGF0YU1hcC5zZXQoTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS42LjEgT3JkaW5hcnlNZXRhZGF0YUtleXMoTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnltZXRhZGF0YWtleXNcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlNZXRhZGF0YUtleXMoTywgUCkge1xuICAgICAgICAgICAgdmFyIG93bktleXMgPSBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pO1xuICAgICAgICAgICAgaWYgKHBhcmVudCA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gb3duS2V5cztcbiAgICAgICAgICAgIHZhciBwYXJlbnRLZXlzID0gT3JkaW5hcnlNZXRhZGF0YUtleXMocGFyZW50LCBQKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRLZXlzLmxlbmd0aCA8PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBvd25LZXlzO1xuICAgICAgICAgICAgaWYgKG93bktleXMubGVuZ3RoIDw9IDApXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudEtleXM7XG4gICAgICAgICAgICB2YXIgc2V0ID0gbmV3IF9TZXQoKTtcbiAgICAgICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG93bktleXNfMSA9IG93bktleXM7IF9pIDwgb3duS2V5c18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBvd25LZXlzXzFbX2ldO1xuICAgICAgICAgICAgICAgIHZhciBoYXNLZXkgPSBzZXQuaGFzKGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0LmFkZChrZXkpO1xuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBfYSA9IDAsIHBhcmVudEtleXNfMSA9IHBhcmVudEtleXM7IF9hIDwgcGFyZW50S2V5c18xLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBwYXJlbnRLZXlzXzFbX2FdO1xuICAgICAgICAgICAgICAgIHZhciBoYXNLZXkgPSBzZXQuaGFzKGtleSk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0LmFkZChrZXkpO1xuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNy4xIE9yZGluYXJ5T3duTWV0YWRhdGFLZXlzKE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5b3dubWV0YWRhdGFrZXlzXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5T3duTWV0YWRhdGFLZXlzKE8sIFApIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIC8qQ3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgICAgIHZhciBrZXlzT2JqID0gbWV0YWRhdGFNYXAua2V5cygpO1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gR2V0SXRlcmF0b3Ioa2V5c09iaik7XG4gICAgICAgICAgICB2YXIgayA9IDA7XG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5sZW5ndGggPSBrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG5leHRWYWx1ZSA9IEl0ZXJhdG9yVmFsdWUobmV4dCk7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAga2V5c1trXSA9IG5leHRWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBrKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gNiBFQ01BU2NyaXB0IERhdGEgVHlwMGVzIGFuZCBWYWx1ZXNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZWNtYXNjcmlwdC1kYXRhLXR5cGVzLWFuZC12YWx1ZXNcbiAgICAgICAgZnVuY3Rpb24gVHlwZSh4KSB7XG4gICAgICAgICAgICBpZiAoeCA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gMSAvKiBOdWxsICovO1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgeCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjogcmV0dXJuIDAgLyogVW5kZWZpbmVkICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6IHJldHVybiAyIC8qIEJvb2xlYW4gKi87XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOiByZXR1cm4gMyAvKiBTdHJpbmcgKi87XG4gICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOiByZXR1cm4gNCAvKiBTeW1ib2wgKi87XG4gICAgICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOiByZXR1cm4gNSAvKiBOdW1iZXIgKi87XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiByZXR1cm4geCA9PT0gbnVsbCA/IDEgLyogTnVsbCAqLyA6IDYgLyogT2JqZWN0ICovO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiA2IC8qIE9iamVjdCAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuMSBUaGUgVW5kZWZpbmVkIFR5cGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcy11bmRlZmluZWQtdHlwZVxuICAgICAgICBmdW5jdGlvbiBJc1VuZGVmaW5lZCh4KSB7XG4gICAgICAgICAgICByZXR1cm4geCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIDYuMS4yIFRoZSBOdWxsIFR5cGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcy1udWxsLXR5cGVcbiAgICAgICAgZnVuY3Rpb24gSXNOdWxsKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4ID09PSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIDYuMS41IFRoZSBTeW1ib2wgVHlwZVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzLXN5bWJvbC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzU3ltYm9sKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuNyBUaGUgT2JqZWN0IFR5cGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb2JqZWN0LXR5cGVcbiAgICAgICAgZnVuY3Rpb24gSXNPYmplY3QoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiB4ID09PSBcIm9iamVjdFwiID8geCAhPT0gbnVsbCA6IHR5cGVvZiB4ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xIFR5cGUgQ29udmVyc2lvblxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10eXBlLWNvbnZlcnNpb25cbiAgICAgICAgLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRvcHJpbWl0aXZlXG4gICAgICAgIGZ1bmN0aW9uIFRvUHJpbWl0aXZlKGlucHV0LCBQcmVmZXJyZWRUeXBlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKFR5cGUoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwIC8qIFVuZGVmaW5lZCAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBOdWxsICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSAyIC8qIEJvb2xlYW4gKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDMgLyogU3RyaW5nICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSA0IC8qIFN5bWJvbCAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgNSAvKiBOdW1iZXIgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBoaW50ID0gUHJlZmVycmVkVHlwZSA9PT0gMyAvKiBTdHJpbmcgKi8gPyBcInN0cmluZ1wiIDogUHJlZmVycmVkVHlwZSA9PT0gNSAvKiBOdW1iZXIgKi8gPyBcIm51bWJlclwiIDogXCJkZWZhdWx0XCI7XG4gICAgICAgICAgICB2YXIgZXhvdGljVG9QcmltID0gR2V0TWV0aG9kKGlucHV0LCB0b1ByaW1pdGl2ZVN5bWJvbCk7XG4gICAgICAgICAgICBpZiAoZXhvdGljVG9QcmltICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZXhvdGljVG9QcmltLmNhbGwoaW5wdXQsIGhpbnQpO1xuICAgICAgICAgICAgICAgIGlmIChJc09iamVjdChyZXN1bHQpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeVRvUHJpbWl0aXZlKGlucHV0LCBoaW50ID09PSBcImRlZmF1bHRcIiA/IFwibnVtYmVyXCIgOiBoaW50KTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMS4xIE9yZGluYXJ5VG9QcmltaXRpdmUoTywgaGludClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3JkaW5hcnl0b3ByaW1pdGl2ZVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeVRvUHJpbWl0aXZlKE8sIGhpbnQpIHtcbiAgICAgICAgICAgIGlmIChoaW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvU3RyaW5nXzEgPSBPLnRvU3RyaW5nO1xuICAgICAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHRvU3RyaW5nXzEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0b1N0cmluZ18xLmNhbGwoTyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZU9mID0gTy52YWx1ZU9mO1xuICAgICAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHZhbHVlT2YpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB2YWx1ZU9mLmNhbGwoTyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlT2YgPSBPLnZhbHVlT2Y7XG4gICAgICAgICAgICAgICAgaWYgKElzQ2FsbGFibGUodmFsdWVPZikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHZhbHVlT2YuY2FsbChPKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc09iamVjdChyZXN1bHQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRvU3RyaW5nXzIgPSBPLnRvU3RyaW5nO1xuICAgICAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHRvU3RyaW5nXzIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0b1N0cmluZ18yLmNhbGwoTyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMS4yIFRvQm9vbGVhbihhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLzIwMTYvI3NlYy10b2Jvb2xlYW5cbiAgICAgICAgZnVuY3Rpb24gVG9Cb29sZWFuKGFyZ3VtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gISFhcmd1bWVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMTIgVG9TdHJpbmcoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRvc3RyaW5nXG4gICAgICAgIGZ1bmN0aW9uIFRvU3RyaW5nKGFyZ3VtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIiArIGFyZ3VtZW50O1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMS4xNCBUb1Byb3BlcnR5S2V5KGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3Byb3BlcnR5a2V5XG4gICAgICAgIGZ1bmN0aW9uIFRvUHJvcGVydHlLZXkoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBUb1ByaW1pdGl2ZShhcmd1bWVudCwgMyAvKiBTdHJpbmcgKi8pO1xuICAgICAgICAgICAgaWYgKElzU3ltYm9sKGtleSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIHJldHVybiBUb1N0cmluZyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMiBUZXN0aW5nIGFuZCBDb21wYXJpc29uIE9wZXJhdGlvbnNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdGVzdGluZy1hbmQtY29tcGFyaXNvbi1vcGVyYXRpb25zXG4gICAgICAgIC8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzYXJyYXlcbiAgICAgICAgZnVuY3Rpb24gSXNBcnJheShhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXlcbiAgICAgICAgICAgICAgICA/IEFycmF5LmlzQXJyYXkoYXJndW1lbnQpXG4gICAgICAgICAgICAgICAgOiBhcmd1bWVudCBpbnN0YW5jZW9mIE9iamVjdFxuICAgICAgICAgICAgICAgICAgICA/IGFyZ3VtZW50IGluc3RhbmNlb2YgQXJyYXlcbiAgICAgICAgICAgICAgICAgICAgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnQpID09PSBcIltvYmplY3QgQXJyYXldXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4yLjMgSXNDYWxsYWJsZShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXNjYWxsYWJsZVxuICAgICAgICBmdW5jdGlvbiBJc0NhbGxhYmxlKGFyZ3VtZW50KSB7XG4gICAgICAgICAgICAvLyBOT1RFOiBUaGlzIGlzIGFuIGFwcHJveGltYXRpb24gYXMgd2UgY2Fubm90IGNoZWNrIGZvciBbW0NhbGxdXSBpbnRlcm5hbCBtZXRob2QuXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4yLjQgSXNDb25zdHJ1Y3Rvcihhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXNjb25zdHJ1Y3RvclxuICAgICAgICBmdW5jdGlvbiBJc0NvbnN0cnVjdG9yKGFyZ3VtZW50KSB7XG4gICAgICAgICAgICAvLyBOT1RFOiBUaGlzIGlzIGFuIGFwcHJveGltYXRpb24gYXMgd2UgY2Fubm90IGNoZWNrIGZvciBbW0NvbnN0cnVjdF1dIGludGVybmFsIG1ldGhvZC5cbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgYXJndW1lbnQgPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjIuNyBJc1Byb3BlcnR5S2V5KGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pc3Byb3BlcnR5a2V5XG4gICAgICAgIGZ1bmN0aW9uIElzUHJvcGVydHlLZXkoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoVHlwZShhcmd1bWVudCkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDMgLyogU3RyaW5nICovOiByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjYXNlIDQgLyogU3ltYm9sICovOiByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4zIE9wZXJhdGlvbnMgb24gT2JqZWN0c1xuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vcGVyYXRpb25zLW9uLW9iamVjdHNcbiAgICAgICAgLy8gNy4zLjkgR2V0TWV0aG9kKFYsIFApXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWdldG1ldGhvZFxuICAgICAgICBmdW5jdGlvbiBHZXRNZXRob2QoViwgUCkge1xuICAgICAgICAgICAgdmFyIGZ1bmMgPSBWW1BdO1xuICAgICAgICAgICAgaWYgKGZ1bmMgPT09IHVuZGVmaW5lZCB8fCBmdW5jID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoIUlzQ2FsbGFibGUoZnVuYykpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40IE9wZXJhdGlvbnMgb24gSXRlcmF0b3IgT2JqZWN0c1xuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vcGVyYXRpb25zLW9uLWl0ZXJhdG9yLW9iamVjdHNcbiAgICAgICAgZnVuY3Rpb24gR2V0SXRlcmF0b3Iob2JqKSB7XG4gICAgICAgICAgICB2YXIgbWV0aG9kID0gR2V0TWV0aG9kKG9iaiwgaXRlcmF0b3JTeW1ib2wpO1xuICAgICAgICAgICAgaWYgKCFJc0NhbGxhYmxlKG1ldGhvZCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpOyAvLyBmcm9tIENhbGxcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IG1ldGhvZC5jYWxsKG9iaik7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KGl0ZXJhdG9yKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICByZXR1cm4gaXRlcmF0b3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjQgSXRlcmF0b3JWYWx1ZShpdGVyUmVzdWx0KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvMjAxNi8jc2VjLWl0ZXJhdG9ydmFsdWVcbiAgICAgICAgZnVuY3Rpb24gSXRlcmF0b3JWYWx1ZShpdGVyUmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlclJlc3VsdC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjQuNSBJdGVyYXRvclN0ZXAoaXRlcmF0b3IpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWl0ZXJhdG9yc3RlcFxuICAgICAgICBmdW5jdGlvbiBJdGVyYXRvclN0ZXAoaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyBmYWxzZSA6IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pdGVyYXRvcmNsb3NlXG4gICAgICAgIGZ1bmN0aW9uIEl0ZXJhdG9yQ2xvc2UoaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIHZhciBmID0gaXRlcmF0b3JbXCJyZXR1cm5cIl07XG4gICAgICAgICAgICBpZiAoZilcbiAgICAgICAgICAgICAgICBmLmNhbGwoaXRlcmF0b3IpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDkuMSBPcmRpbmFyeSBPYmplY3QgSW50ZXJuYWwgTWV0aG9kcyBhbmQgSW50ZXJuYWwgU2xvdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3JkaW5hcnktb2JqZWN0LWludGVybmFsLW1ldGhvZHMtYW5kLWludGVybmFsLXNsb3RzXG4gICAgICAgIC8vIDkuMS4xLjEgT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1vcmRpbmFyeWdldHByb3RvdHlwZW9mXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTykge1xuICAgICAgICAgICAgdmFyIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBPICE9PSBcImZ1bmN0aW9uXCIgfHwgTyA9PT0gZnVuY3Rpb25Qcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gVHlwZVNjcmlwdCBkb2Vzbid0IHNldCBfX3Byb3RvX18gaW4gRVM1LCBhcyBpdCdzIG5vbi1zdGFuZGFyZC5cbiAgICAgICAgICAgIC8vIFRyeSB0byBkZXRlcm1pbmUgdGhlIHN1cGVyY2xhc3MgY29uc3RydWN0b3IuIENvbXBhdGlibGUgaW1wbGVtZW50YXRpb25zXG4gICAgICAgICAgICAvLyBtdXN0IGVpdGhlciBzZXQgX19wcm90b19fIG9uIGEgc3ViY2xhc3MgY29uc3RydWN0b3IgdG8gdGhlIHN1cGVyY2xhc3MgY29uc3RydWN0b3IsXG4gICAgICAgICAgICAvLyBvciBlbnN1cmUgZWFjaCBjbGFzcyBoYXMgYSB2YWxpZCBgY29uc3RydWN0b3JgIHByb3BlcnR5IG9uIGl0cyBwcm90b3R5cGUgdGhhdFxuICAgICAgICAgICAgLy8gcG9pbnRzIGJhY2sgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBub3QgdGhlIHNhbWUgYXMgRnVuY3Rpb24uW1tQcm90b3R5cGVdXSwgdGhlbiB0aGlzIGlzIGRlZmluYXRlbHkgaW5oZXJpdGVkLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgY2FzZSB3aGVuIGluIEVTNiBvciB3aGVuIHVzaW5nIF9fcHJvdG9fXyBpbiBhIGNvbXBhdGlibGUgYnJvd3Nlci5cbiAgICAgICAgICAgIGlmIChwcm90byAhPT0gZnVuY3Rpb25Qcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gSWYgdGhlIHN1cGVyIHByb3RvdHlwZSBpcyBPYmplY3QucHJvdG90eXBlLCBudWxsLCBvciB1bmRlZmluZWQsIHRoZW4gd2UgY2Fubm90IGRldGVybWluZSB0aGUgaGVyaXRhZ2UuXG4gICAgICAgICAgICB2YXIgcHJvdG90eXBlID0gTy5wcm90b3R5cGU7XG4gICAgICAgICAgICB2YXIgcHJvdG90eXBlUHJvdG8gPSBwcm90b3R5cGUgJiYgT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvdHlwZSk7XG4gICAgICAgICAgICBpZiAocHJvdG90eXBlUHJvdG8gPT0gbnVsbCB8fCBwcm90b3R5cGVQcm90byA9PT0gT2JqZWN0LnByb3RvdHlwZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvdG87XG4gICAgICAgICAgICAvLyBJZiB0aGUgY29uc3RydWN0b3Igd2FzIG5vdCBhIGZ1bmN0aW9uLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgdmFyIGNvbnN0cnVjdG9yID0gcHJvdG90eXBlUHJvdG8uY29uc3RydWN0b3I7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnN0cnVjdG9yICE9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBzb21lIGtpbmQgb2Ygc2VsZi1yZWZlcmVuY2UsIHRoZW4gd2UgY2Fubm90IGRldGVybWluZSB0aGUgaGVyaXRhZ2UuXG4gICAgICAgICAgICBpZiAoY29uc3RydWN0b3IgPT09IE8pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gd2UgaGF2ZSBhIHByZXR0eSBnb29kIGd1ZXNzIGF0IHRoZSBoZXJpdGFnZS5cbiAgICAgICAgICAgIHJldHVybiBjb25zdHJ1Y3RvcjtcbiAgICAgICAgfVxuICAgICAgICAvLyBuYWl2ZSBNYXAgc2hpbVxuICAgICAgICBmdW5jdGlvbiBDcmVhdGVNYXBQb2x5ZmlsbCgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZVNlbnRpbmVsID0ge307XG4gICAgICAgICAgICB2YXIgYXJyYXlTZW50aW5lbCA9IFtdO1xuICAgICAgICAgICAgdmFyIE1hcEl0ZXJhdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIE1hcEl0ZXJhdG9yKGtleXMsIHZhbHVlcywgc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0ga2V5cztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gdmFsdWVzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBNYXBJdGVyYXRvci5wcm90b3R5cGVbXCJAQGl0ZXJhdG9yXCJdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcbiAgICAgICAgICAgICAgICBNYXBJdGVyYXRvci5wcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfTtcbiAgICAgICAgICAgICAgICBNYXBJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5faW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5fa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLl9zZWxlY3Rvcih0aGlzLl9rZXlzW2luZGV4XSwgdGhpcy5fdmFsdWVzW2luZGV4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggKyAxID49IHRoaXMuX2tleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiByZXN1bHQsIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlLnRocm93ID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbmRleCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlLnJldHVybiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdmFsdWUsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXBJdGVyYXRvcjtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIE1hcCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVLZXkgPSBjYWNoZVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gLTI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXAucHJvdG90eXBlLCBcInNpemVcIiwge1xuICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX2tleXMubGVuZ3RoOyB9LFxuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIGZhbHNlKSA+PSAwOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLl9maW5kKGtleSwgLyppbnNlcnQqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbmRleCA+PSAwID8gdGhpcy5fdmFsdWVzW2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZChrZXksIC8qaW5zZXJ0Ki8gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZChrZXksIC8qaW5zZXJ0Ki8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpemUgPSB0aGlzLl9rZXlzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBpbmRleCArIDE7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzW2kgLSAxXSA9IHRoaXMuX2tleXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzW2kgLSAxXSA9IHRoaXMuX3ZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMubGVuZ3RoLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMubGVuZ3RoLS07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSB0aGlzLl9jYWNoZUtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlS2V5ID0gY2FjaGVTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gLTI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUtleSA9IGNhY2hlU2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlSW5kZXggPSAtMjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMsIGdldEtleSk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcy5fa2V5cywgdGhpcy5fdmFsdWVzLCBnZXRWYWx1ZSk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMuX2tleXMsIHRoaXMuX3ZhbHVlcywgZ2V0RW50cnkpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVbXCJAQGl0ZXJhdG9yXCJdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZVtpdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmVudHJpZXMoKTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLl9maW5kID0gZnVuY3Rpb24gKGtleSwgaW5zZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9jYWNoZUtleSAhPT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gdGhpcy5fa2V5cy5pbmRleE9mKHRoaXMuX2NhY2hlS2V5ID0ga2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVJbmRleCA8IDAgJiYgaW5zZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gdGhpcy5fa2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlSW5kZXg7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWFwO1xuICAgICAgICAgICAgfSgpKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEtleShrZXksIF8pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VmFsdWUoXywgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRFbnRyeShrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtrZXksIHZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBuYWl2ZSBTZXQgc2hpbVxuICAgICAgICBmdW5jdGlvbiBDcmVhdGVTZXRQb2x5ZmlsbCgpIHtcbiAgICAgICAgICAgIHJldHVybiAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gU2V0KCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tYXAgPSBuZXcgX01hcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU2V0LnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9tYXAuc2l6ZTsgfSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHRoaXMuX21hcC5oYXModmFsdWUpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuc2V0KHZhbHVlLCB2YWx1ZSksIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHRoaXMuX21hcC5kZWxldGUodmFsdWUpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7IHRoaXMuX21hcC5jbGVhcigpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX21hcC5rZXlzKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9tYXAudmFsdWVzKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLmVudHJpZXMoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5rZXlzKCk7IH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNldDtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgV2Vha01hcCBzaGltXG4gICAgICAgIGZ1bmN0aW9uIENyZWF0ZVdlYWtNYXBQb2x5ZmlsbCgpIHtcbiAgICAgICAgICAgIHZhciBVVUlEX1NJWkUgPSAxNjtcbiAgICAgICAgICAgIHZhciBrZXlzID0gSGFzaE1hcC5jcmVhdGUoKTtcbiAgICAgICAgICAgIHZhciByb290S2V5ID0gQ3JlYXRlVW5pcXVlS2V5KCk7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFdlYWtNYXAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gSGFzaE1hcC5oYXModGFibGUsIHRoaXMuX2tleSkgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gR2V0T3JDcmVhdGVXZWFrTWFwVGFibGUodGFyZ2V0LCAvKmNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlICE9PSB1bmRlZmluZWQgPyBIYXNoTWFwLmdldCh0YWJsZSwgdGhpcy5fa2V5KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGFibGVbdGhpcy5fa2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gR2V0T3JDcmVhdGVXZWFrTWFwVGFibGUodGFyZ2V0LCAvKmNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlICE9PSB1bmRlZmluZWQgPyBkZWxldGUgdGFibGVbdGhpcy5fa2V5XSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IG5vdCBhIHJlYWwgY2xlYXIsIGp1c3QgbWFrZXMgdGhlIHByZXZpb3VzIGRhdGEgdW5yZWFjaGFibGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5ID0gQ3JlYXRlVW5pcXVlS2V5KCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gV2Vha01hcDtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVVbmlxdWVLZXkoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleTtcbiAgICAgICAgICAgICAgICBkb1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBcIkBAV2Vha01hcEBAXCIgKyBDcmVhdGVVVUlEKCk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKEhhc2hNYXAuaGFzKGtleXMsIGtleSkpO1xuICAgICAgICAgICAgICAgIGtleXNba2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgY3JlYXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNPd24uY2FsbCh0YXJnZXQsIHJvb3RLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcm9vdEtleSwgeyB2YWx1ZTogSGFzaE1hcC5jcmVhdGUoKSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtyb290S2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIEZpbGxSYW5kb21CeXRlcyhidWZmZXIsIHNpemUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyW2ldID0gTWF0aC5yYW5kb20oKSAqIDB4ZmYgfCAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBHZW5SYW5kb21CeXRlcyhzaXplKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBVaW50OEFycmF5ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShzaXplKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbXNDcnlwdG8gIT09IFwidW5kZWZpbmVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KHNpemUpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZpbGxSYW5kb21CeXRlcyhuZXcgVWludDhBcnJheShzaXplKSwgc2l6ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBGaWxsUmFuZG9tQnl0ZXMobmV3IEFycmF5KHNpemUpLCBzaXplKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIENyZWF0ZVVVSUQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBHZW5SYW5kb21CeXRlcyhVVUlEX1NJWkUpO1xuICAgICAgICAgICAgICAgIC8vIG1hcmsgYXMgcmFuZG9tIC0gUkZDIDQxMjIgwqcgNC40XG4gICAgICAgICAgICAgICAgZGF0YVs2XSA9IGRhdGFbNl0gJiAweDRmIHwgMHg0MDtcbiAgICAgICAgICAgICAgICBkYXRhWzhdID0gZGF0YVs4XSAmIDB4YmYgfCAweDgwO1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG9mZnNldCA9IDA7IG9mZnNldCA8IFVVSURfU0laRTsgKytvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ5dGUgPSBkYXRhW29mZnNldF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgPT09IDQgfHwgb2Zmc2V0ID09PSA2IHx8IG9mZnNldCA9PT0gOClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIi1cIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJ5dGUgPCAxNilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIjBcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGJ5dGUudG9TdHJpbmcoMTYpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdXNlcyBhIGhldXJpc3RpYyB1c2VkIGJ5IHY4IGFuZCBjaGFrcmEgdG8gZm9yY2UgYW4gb2JqZWN0IGludG8gZGljdGlvbmFyeSBtb2RlLlxuICAgICAgICBmdW5jdGlvbiBNYWtlRGljdGlvbmFyeShvYmopIHtcbiAgICAgICAgICAgIG9iai5fXyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmouX187XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9XG4gICAgfSk7XG59KShSZWZsZWN0JDEgfHwgKFJlZmxlY3QkMSA9IHt9KSk7XG5cbi8qKlxyXG4gKiBLZXlzIHVzZWQgd2l0aCByZWZsZWN0LW1ldGFkYXRhXHJcbiAqL1xyXG52YXIgUkVGTEVDVF9LRVk7XHJcbihmdW5jdGlvbiAoUkVGTEVDVF9LRVkpIHtcclxuICAgIC8qKlxyXG4gICAgICogSW5mZXIgYSBwcm9wZXJ0eSB0eXBlXHJcbiAgICAgKi9cclxuICAgIFJFRkxFQ1RfS0VZW1wiVFlQRVwiXSA9IFwiZGVzaWduOnR5cGVcIjtcclxuICAgIC8qKlxyXG4gICAgICogQ29uY2VybnMganNvbiBzY2hlbWFcclxuICAgICAqL1xyXG4gICAgUkVGTEVDVF9LRVlbXCJKU09OX1NDSEVNQVwiXSA9IFwidGFiYm91bGVoOnNjaGVtYVwiO1xyXG4gICAgLyoqXHJcbiAgICAgKiBDb25jZXJucyBvYmplY3QgcHJvcGVydGllcyBzY2hlbWFcclxuICAgICAqL1xyXG4gICAgUkVGTEVDVF9LRVlbXCJKU09OX1BST1BFUlRZXCJdID0gXCJ0YWJib3VsZWg6cHJvcGVydHlcIjtcclxuICAgIC8qKlxyXG4gICAgICogQ29uY2VybnMgcmVmZXJlbmNlc1xyXG4gICAgICovXHJcbiAgICBSRUZMRUNUX0tFWVtcIkpTT05fUkVGRVJFTkNFXCJdID0gXCJ0YWJib3VsZWg6cmVmZXJlbmNlc1wiO1xyXG59KShSRUZMRUNUX0tFWSB8fCAoUkVGTEVDVF9LRVkgPSB7fSkpO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xuXG4vKipcclxuICogSGFuZGxlIGFsbCBKU09OUHJvcGVydHkgY29uY2VybnMuXHJcbiAqL1xyXG52YXIgUHJvcGVydHlFbmdpbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQcm9wZXJ0eUVuZ2luZSgpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRnJvbSBhIGNsYXNzLCByZXR1cm4gYSBKU09OU2NoZW1hIHdoaWNoIG1heSBjb250YWluIG9ubHkgdGhlICd0eXBlJyBhc3NvY2lhdGVkIHRvIHRoaXMgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHR5cGVUU1xyXG4gICAgICovXHJcbiAgICBQcm9wZXJ0eUVuZ2luZS5nZXRKU09OU2NoZW1hVHlwZSA9IGZ1bmN0aW9uICh0eXBlVFMpIHtcclxuICAgICAgICBzd2l0Y2ggKHR5cGVUUykge1xyXG4gICAgICAgICAgICBjYXNlIEFycmF5OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnYXJyYXknXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjYXNlIE51bWJlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ251bWJlcidcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNhc2UgU3RyaW5nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY2FzZSBPYmplY3Q6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdvYmplY3QnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbnVsbCdcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgSlNPTiBTY2hlbWEgZm9yIGEgcHJvcGVydHkuXHJcbiAgICAgKiBEZWZpbmUgc2NoZW1hICd0eXBlJyBvbmx5IGlmIG5vICckcmVmJyBpcyBkZWZpbmVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByZWZsZWN0RW50aXR5IHBhcnRpYWwgc2NoZW1hIGdldCBieSByZWZsZWN0aW9uXHJcbiAgICAgKiBAcGFyYW0gcGFyYW1FbnRpdHkgcGFydGlhbCBzY2hlbWEgZ2l2ZW4gaW4gcGFyYW1cclxuICAgICAqIEBwYXJhbSB0eXBlVFMgcmVmbGVjdGVkIHR5cGUgb2YgdGhlIHByb3BlcnR5XHJcbiAgICAgKi9cclxuICAgIFByb3BlcnR5RW5naW5lLmdldEpTT05Qcm9wZXJ0eVNjaGVtYSA9IGZ1bmN0aW9uIChyZWZsZWN0RW50aXR5LCBwYXJhbUVudGl0eSwgdHlwZVRTKSB7XHJcbiAgICAgICAgdmFyIHBhcnRpYWxFbnRpdHkgPSBfX2Fzc2lnbih7fSwgcmVmbGVjdEVudGl0eSwgcGFyYW1FbnRpdHkpO1xyXG4gICAgICAgIGlmIChwYXJ0aWFsRW50aXR5LiRyZWYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnRpYWxFbnRpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0eXBlRW50aXR5ID0gUHJvcGVydHlFbmdpbmUuZ2V0SlNPTlNjaGVtYVR5cGUodHlwZVRTKTtcclxuICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIHR5cGVFbnRpdHksIHBhcnRpYWxFbnRpdHkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGJ5IHJlZmxlY3Rpb24gSlNPTiBwcm9wZXJ0aWVzIChha2EgSlNPTlNjaGVtYS5wcm9wZXJ0aWVzKSBvZiB0aGUgSlNPTlNjaGVtYS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcHJvdG90eXBlIHByb3RvdHlwZSBvZiB0aGUgSlNPTlNjaGVtYSBjbGFzc1xyXG4gICAgICovXHJcbiAgICBQcm9wZXJ0eUVuZ2luZS5nZXRSZWZsZWN0UHJvcGVydGllcyA9IGZ1bmN0aW9uIChwcm90b3R5cGUpIHtcclxuICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXRNZXRhZGF0YShSRUZMRUNUX0tFWS5KU09OX1BST1BFUlRZLCBwcm90b3R5cGUpIHx8IHt9O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVmaW5lIGJ5IHJlZmxlY3Rpb24gSlNPTiBwcm9wZXJ0aWVzIChha2EgSlNPTlNjaGVtYS5wcm9wZXJ0aWVzKSBvZiB0aGUgSlNPTlNjaGVtYS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcHJvdG90eXBlIHByb3RvdHlwZSBvZiB0aGUgSlNPTlNjaGVtYSBjbGFzc1xyXG4gICAgICogQHBhcmFtIHByb3BlcnRpZXMgSlNPTlNjaGVtYS5wcm9wZXJ0aWVzIG9mIHRoZSBKU09OU2NoZW1hXHJcbiAgICAgKi9cclxuICAgIFByb3BlcnR5RW5naW5lLnNldFJlZmxlY3RQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xyXG4gICAgICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoUkVGTEVDVF9LRVkuSlNPTl9QUk9QRVJUWSwgcHJvcGVydGllcywgcHJvdG90eXBlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERlZmluZSBKU09OIHNjaGVtYSBvZiB0aGUgZ2l2ZW4gcHJvcGVydHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHByb3RvdHlwZSBwcm90b3R5cGUgb2YgdGhlIEpTT05TY2hlbWEgY2xhc3NcclxuICAgICAqIEBwYXJhbSBrZXkgcHJvcGVydHkga2V5IG9mIHRoZSBKU09OU2NoZW1hIGNsYXNzXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgcGFydGlhbCBzY2hlbWEgZ2l2ZW4gaW4gcGFyYW1cclxuICAgICAqL1xyXG4gICAgUHJvcGVydHlFbmdpbmUuZGVmaW5lUmVmbGVjdFByb3BlcnRpZXMgPSBmdW5jdGlvbiAocHJvdG90eXBlLCBrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgLy8gZ2V0IGV4aXN0aW5nIHByb3BlcnRpZXNcclxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IFByb3BlcnR5RW5naW5lLmdldFJlZmxlY3RQcm9wZXJ0aWVzKHByb3RvdHlwZSk7XHJcbiAgICAgICAgLy8gZ2V0IHRoZSBqc29uIHNjaGVtYSBvZiB0aGUgcHJvcGVydHlcclxuICAgICAgICB2YXIgcmVmbGVjdFNjaGVtYSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoUkVGTEVDVF9LRVkuSlNPTl9TQ0hFTUEsIHByb3RvdHlwZSwga2V5KSB8fCB7fTtcclxuICAgICAgICAvLyBnZXQgdGhlIGluZmVyZWQgdHlwZSBvZiB0aGUgcHJvcGVydHlcclxuICAgICAgICB2YXIgdHlwZVNjaGVtYSA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoUkVGTEVDVF9LRVkuVFlQRSwgcHJvdG90eXBlLCBrZXkpO1xyXG4gICAgICAgIC8vIGNvbnN0cnVjdCB0aGUgZmluYWwgc2NoZW1hXHJcbiAgICAgICAgdmFyIGZ1bGxTY2hlbWEgPSBQcm9wZXJ0eUVuZ2luZS5nZXRKU09OUHJvcGVydHlTY2hlbWEocmVmbGVjdFNjaGVtYSwgdmFsdWUsIHR5cGVTY2hlbWEpO1xyXG4gICAgICAgIC8vIGFkZCB0aGUgc2NoZW1hIHRvIGV4aXN0aW5nIHByb3BlcnRpZXNcclxuICAgICAgICBwcm9wZXJ0aWVzW2tleV0gPSBfX2Fzc2lnbih7fSwgKHByb3BlcnRpZXNba2V5XSB8fCB7fSksIGZ1bGxTY2hlbWEpO1xyXG4gICAgICAgIFByb3BlcnR5RW5naW5lLnNldFJlZmxlY3RQcm9wZXJ0aWVzKHByb3RvdHlwZSwgcHJvcGVydGllcyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFByb3BlcnR5RW5naW5lO1xyXG59KCkpO1xuXG52YXIgbXNnID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgIHJldHVybiBcIkNsYXNzIGNhbGxlZCBieSBUYWJib3VsZWggYnV0IG5vdCBkZWNvcmF0ZWQgd2l0aCBASlNPTlNjaGVtYTogXCIgKyBuYW1lO1xyXG59O1xyXG4vKipcclxuICogVG8gdGhyb3cgd2hlbiBhbiBleHBlY3RlZCBKU09OIFNjaGVtYSBjbGFzcyBpcyBub3QgKG9yIHVuZGVmaW5lZCkuXHJcbiAqL1xyXG52YXIgTm90QUpzb25TY2hlbWFFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhOb3RBSnNvblNjaGVtYUVycm9yLCBfc3VwZXIpO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IHRoZSBmYWlsaW5nIHRhcmdldFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBOb3RBSnNvblNjaGVtYUVycm9yKHRhcmdldCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1zZyh0YXJnZXQgJiYgdGFyZ2V0Lm5hbWUgPyB0YXJnZXQubmFtZSA6IHRhcmdldCkpIHx8IHRoaXM7XHJcbiAgICAgICAgRXJyb3IuY2FsbChfdGhpcyk7XHJcbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoX3RoaXMsIF90aGlzLmNvbnN0cnVjdG9yKTtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoX3RoaXMsIE5vdEFKc29uU2NoZW1hRXJyb3IucHJvdG90eXBlKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTm90QUpzb25TY2hlbWFFcnJvcjtcclxufShFcnJvcikpO1xuXG52YXIgVXRpbCA9IHtcclxuICAgIGlzQ2xhc3M6IGZ1bmN0aW9uIChvKSB7XHJcbiAgICAgICAgcmV0dXJuIG8gJiYgb1snbmFtZSddICYmIG9bJ3Byb3RvdHlwZSddO1xyXG4gICAgfVxyXG59O1xuXG4vKipcclxuICogSGFuZGxlIGFsbCByZWZlcmVuY2VzIGNvbmNlcm5zXHJcbiAqL1xyXG52YXIgUmVmZXJlbmNlRW5naW5lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUmVmZXJlbmNlRW5naW5lKCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBseSBhbGwgcmVmZXJlbmNlcyB3aXRoIHRhcmdldCBhcyBzb3VyY2UgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRhcmdldCBjbGFzcyBzb3VyY2VcclxuICAgICAqIEBwYXJhbSBkZWZpbml0aW9ucyBzY2hlbWEgZGVmaW5pdGlvbnMgb2YgdGhlIHJvb3Qgc2NoZW1hXHJcbiAgICAgKiBAcGFyYW0gcm9vdFRhcmdldCByb290IHNjaGVtYSBjbGFzcywgaWYgbm90IHRhcmdldFxyXG4gICAgICovXHJcbiAgICBSZWZlcmVuY2VFbmdpbmUuY29tcHV0ZUpTT05SZWZlcmVuY2VzID0gZnVuY3Rpb24gKHRhcmdldCwgZGVmaW5pdGlvbnMsIHJvb3RUYXJnZXQpIHtcclxuICAgICAgICB2YXIgaXNSb290ID0gIXJvb3RUYXJnZXQ7XHJcbiAgICAgICAgcm9vdFRhcmdldCA9IHJvb3RUYXJnZXQgfHwgdGFyZ2V0O1xyXG4gICAgICAgIGlmICghZGVmaW5pdGlvbnMpIHtcclxuICAgICAgICAgICAgdmFyIHJvb3RUYXJnZXRTY2hlbWEgPSBTY2hlbWFFbmdpbmUuZ2V0UmVmbGVjdFNjaGVtYShyb290VGFyZ2V0KSB8fCB7fTtcclxuICAgICAgICAgICAgZGVmaW5pdGlvbnMgPSByb290VGFyZ2V0U2NoZW1hLmRlZmluaXRpb25zIHx8IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVmTWFwQ2xhc3MgPSBSZWZlcmVuY2VFbmdpbmUuZ2V0UmVmZXJlbmNlcyh0YXJnZXQubmFtZSwgdGFyZ2V0LnByb3RvdHlwZSk7XHJcbiAgICAgICAgcmVmTWFwQ2xhc3MuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgIHZhciByZWZUYXJnZXQgPSBhLnRhcmdldEZuKCk7XHJcbiAgICAgICAgICAgIGlmICghVXRpbC5pc0NsYXNzKHJlZlRhcmdldCkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb3RBSnNvblNjaGVtYUVycm9yKHJlZlRhcmdldCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHJlZlRhcmdldCAhPT0gcm9vdFRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldElEID0gUmVmZXJlbmNlRW5naW5lLmdlbmVyYXRlU2NoZW1hSUQocmVmVGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGlmICghZGVmaW5pdGlvbnNbdGFyZ2V0SURdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbnNbdGFyZ2V0SURdID0gU2NoZW1hRW5naW5lLmdldENvbXB1dGVkSlNPTlNjaGVtYShyZWZUYXJnZXQsIGRlZmluaXRpb25zLCByb290VGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcmVmU2NoZW1hID0ge1xyXG4gICAgICAgICAgICAgICAgJHJlZjogUmVmZXJlbmNlRW5naW5lLmdlbmVyYXRlUmVmKHJlZlRhcmdldCwgcm9vdFRhcmdldClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gYS5qc29uUHJvcGVydHlLZXlcclxuICAgICAgICAgICAgICAgID8gKF9hID0ge30sXHJcbiAgICAgICAgICAgICAgICAgICAgX2FbYS5qc29uUHJvcGVydHlLZXldID0gcmVmU2NoZW1hLFxyXG4gICAgICAgICAgICAgICAgICAgIF9hKSA6IHJlZlNjaGVtYTtcclxuICAgICAgICAgICAgUHJvcGVydHlFbmdpbmUuZGVmaW5lUmVmbGVjdFByb3BlcnRpZXModGFyZ2V0LnByb3RvdHlwZSwgYS5rZXksIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGVmaW5pdGlvbnMpLmxlbmd0aCAmJiBpc1Jvb3QpIHtcclxuICAgICAgICAgICAgU2NoZW1hRW5naW5lLmRlZmluZVJlZmxlY3RTY2hlbWEocm9vdFRhcmdldCwge1xyXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbnM6IGRlZmluaXRpb25zXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBhbmQgYWRkIGEgcmVmZXJlbmNlIHRvIHRoZSBnaXZlbiBDIGNsYXNzLFxyXG4gICAgICogd2hpY2ggdGFyZ2V0IHRoZSBjbGFzcyByZXR1cm5lZCBieSBjbGFzc1RhcmdldEZuLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwcm90b3R5cGVTb3VyY2UgcHJvdG90eXBlIG9mIHRoZSBDIGNsYXNzIHNvdXJjZVxyXG4gICAgICogQHBhcmFtIHByb3BlcnR5S2V5IHByb3BlcnR5IGNvbmNlcm5lZCBvZiB0aGUgQyBjbGFzcyBzb3VyY2VcclxuICAgICAqIEBwYXJhbSBqc29uUHJvcGVydHkgSlNPTiBwcm9wZXJ0eSBrZXkgY29uY2VybmVkLiBPciBudWxsIGlmIGNvbmNlcm5zIGFsbCB0aGUgSlNPTiBTY2hlbWFcclxuICAgICAqIEBwYXJhbSBjbGFzc1RhcmdldEZuIHJlc29sdmVyIG9mIHRoZSBjbGFzcyB0YXJnZXRlZFxyXG4gICAgICovXHJcbiAgICBSZWZlcmVuY2VFbmdpbmUuYWRkUmVmZXJlbmNlID0gZnVuY3Rpb24gKHByb3RvdHlwZVNvdXJjZSwgcHJvcGVydHlLZXksIGpzb25Qcm9wZXJ0eSwgY2xhc3NUYXJnZXRGbikge1xyXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSBwcm90b3R5cGVTb3VyY2UuY29uc3RydWN0b3IubmFtZTtcclxuICAgICAgICB2YXIgcmVmZXJlbmNlID0ge1xyXG4gICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSxcclxuICAgICAgICAgICAga2V5OiBwcm9wZXJ0eUtleSxcclxuICAgICAgICAgICAganNvblByb3BlcnR5S2V5OiBqc29uUHJvcGVydHksXHJcbiAgICAgICAgICAgIHRhcmdldEZuOiBjbGFzc1RhcmdldEZuXHJcbiAgICAgICAgfTtcclxuICAgICAgICB2YXIgcmVmZXJlbmNlTWFwID0gUmVmZXJlbmNlRW5naW5lLmdldFJlZmxlY3RSZWZlcmVuY2UocHJvdG90eXBlU291cmNlKSB8fCB7fTtcclxuICAgICAgICB2YXIgcmVmTWFwQ2xhc3MgPSByZWZlcmVuY2VNYXBbY2xhc3NOYW1lXSB8fCBbXTtcclxuICAgICAgICAvLyBpZiBhIHJlZmVyZW5jZSBmb3IgdGhpcyBrZXkgYW5kIGpzb24ga2V5IGFscmVhZHkgZXhpc3QsIHJlbW92ZSBpdFxyXG4gICAgICAgIHJlZk1hcENsYXNzID0gcmVmTWFwQ2xhc3MuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmtleSAhPT0gcmVmZXJlbmNlLmtleSB8fCBhLmpzb25Qcm9wZXJ0eUtleSAhPT0gcmVmZXJlbmNlLmpzb25Qcm9wZXJ0eUtleTsgfSk7XHJcbiAgICAgICAgcmVmZXJlbmNlTWFwW2NsYXNzTmFtZV0gPSByZWZNYXBDbGFzcztcclxuICAgICAgICByZWZNYXBDbGFzcy5wdXNoKHJlZmVyZW5jZSk7XHJcbiAgICAgICAgUmVmZXJlbmNlRW5naW5lLnNldFJlZmxlY3RSZWZlcmVuY2UocHJvdG90eXBlU291cmNlLCByZWZlcmVuY2VNYXApO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRm9yIHRoZSBnaXZlbiBjbGFzcyByZXR1cm4gYWxsIGl0cyByZWZlcmVuY2VzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjbGFzc05hbWVcclxuICAgICAqIEBwYXJhbSBwcm90b3R5cGVTb3VyY2UgcHJvdG90eXBlIG9mIHRoZSBjbGFzc1xyXG4gICAgICovXHJcbiAgICBSZWZlcmVuY2VFbmdpbmUuZ2V0UmVmZXJlbmNlcyA9IGZ1bmN0aW9uIChjbGFzc05hbWUsIHByb3RvdHlwZVNvdXJjZSkge1xyXG4gICAgICAgIHZhciByZWZlcmVuY2VNYXAgPSBSZWZlcmVuY2VFbmdpbmUuZ2V0UmVmbGVjdFJlZmVyZW5jZShwcm90b3R5cGVTb3VyY2UpIHx8IHt9O1xyXG4gICAgICAgIHJldHVybiByZWZlcmVuY2VNYXBbY2xhc3NOYW1lXSB8fCBbXTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIGEgJyRyZWYnIHZhbHVlIGZvciB0aGUgZ2l2ZW4gdGFyZ2V0IGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0YXJnZXRcclxuICAgICAqIEBwYXJhbSByb290VGFyZ2V0XHJcbiAgICAgKi9cclxuICAgIFJlZmVyZW5jZUVuZ2luZS5nZW5lcmF0ZVJlZiA9IGZ1bmN0aW9uICh0YXJnZXQsIHJvb3RUYXJnZXQpIHtcclxuICAgICAgICBpZiAodGFyZ2V0ID09PSByb290VGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnIyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIiMvZGVmaW5pdGlvbnMvXCIgKyBSZWZlcmVuY2VFbmdpbmUuZ2VuZXJhdGVTY2hlbWFJRCh0YXJnZXQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGUgYW4gSUQgZm9yIHRoZSBnaXZlbiB0YXJnZXQgY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRhcmdldFxyXG4gICAgICovXHJcbiAgICBSZWZlcmVuY2VFbmdpbmUuZ2VuZXJhdGVTY2hlbWFJRCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgICByZXR1cm4gXCJfXCIgKyB0YXJnZXQubmFtZSArIFwiX1wiO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSByZWZlcmVuY2UgbWFwIG9mIHRoZSBnaXZlbiBjbGFzcyBwcm90b3R5cGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHByb3RvdHlwZVRhcmdldCBwcm90b3R5cGUgb2YgdGhlIGNsYXNzXHJcbiAgICAgKi9cclxuICAgIFJlZmVyZW5jZUVuZ2luZS5nZXRSZWZsZWN0UmVmZXJlbmNlID0gZnVuY3Rpb24gKHByb3RvdHlwZVRhcmdldCkge1xyXG4gICAgICAgIHJldHVybiBSZWZsZWN0LmdldE1ldGFkYXRhKFJFRkxFQ1RfS0VZLkpTT05fUkVGRVJFTkNFLCBwcm90b3R5cGVUYXJnZXQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVmaW5lIHRoZSByZWZlcmVuY2UgbWFwIG9mIHRoZSBnaXZlbiBjbGFzcyBwcm90b3R5cGUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHByb3RvdHlwZVRhcmdldCBwcm90b3R5cGUgb2YgdGhlIGNsYXNzXHJcbiAgICAgKiBAcGFyYW0gcmVmZXJlbmNlTWFwXHJcbiAgICAgKi9cclxuICAgIFJlZmVyZW5jZUVuZ2luZS5zZXRSZWZsZWN0UmVmZXJlbmNlID0gZnVuY3Rpb24gKHByb3RvdHlwZVRhcmdldCwgcmVmZXJlbmNlTWFwKSB7XHJcbiAgICAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShSRUZMRUNUX0tFWS5KU09OX1JFRkVSRU5DRSwgcmVmZXJlbmNlTWFwLCBwcm90b3R5cGVUYXJnZXQpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSZWZlcmVuY2VFbmdpbmU7XHJcbn0oKSk7XG5cbi8qKlxyXG4gKiBIYW5kbGUgYWxsIEpTT05TY2hlbWEgY2xhc3MgY29uY2VybnMuXHJcbiAqL1xyXG52YXIgU2NoZW1hRW5naW5lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU2NoZW1hRW5naW5lKCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYSBmdWxsIEpTT04gU2NoZW1hIGZyb20gYSBjbGFzcywgd2l0aCBhbGwgcHJvcGVydGllcy5cclxuICAgICAqIENvbXB1dGUgYWxsIHRoZSBjbGFzcyByZWZlcmVuY2VzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0YXJnZXQgSlNPTlNjaGVtYSBjbGFzc1xyXG4gICAgICogQHBhcmFtIGRlZmluaXRpb25zIHNjaGVtYSBkZWZpbml0aW9ucyBvZiB0aGUgcm9vdCBzY2hlbWFcclxuICAgICAqIEBwYXJhbSByb290VGFyZ2V0IHJvb3Qgc2NoZW1hIGNsYXNzLCBpZiBub3QgdGFyZ2V0XHJcbiAgICAgKi9cclxuICAgIFNjaGVtYUVuZ2luZS5nZXRDb21wdXRlZEpTT05TY2hlbWEgPSBmdW5jdGlvbiAodGFyZ2V0LCBkZWZpbml0aW9ucywgcm9vdFRhcmdldCkge1xyXG4gICAgICAgIFJlZmVyZW5jZUVuZ2luZS5jb21wdXRlSlNPTlJlZmVyZW5jZXModGFyZ2V0LCBkZWZpbml0aW9ucywgcm9vdFRhcmdldCk7XHJcbiAgICAgICAgdmFyIHNjaGVtYSA9IFNjaGVtYUVuZ2luZS5nZXRSZWZsZWN0U2NoZW1hKHRhcmdldCk7XHJcbiAgICAgICAgaWYgKCFzY2hlbWEpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEFKc29uU2NoZW1hRXJyb3IodGFyZ2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2NoZW1hLnByb3BlcnRpZXMgPSBQcm9wZXJ0eUVuZ2luZS5nZXRSZWZsZWN0UHJvcGVydGllcyh0YXJnZXQucHJvdG90eXBlKTtcclxuICAgICAgICByZXR1cm4gc2NoZW1hO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVmaW5lIGJ5IHJlZmxlY3Rpb24gdGhlIEpTT04gc2NoZW1hIG9mIHRoZSBnaXZlbiBjbGFzcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IEpTT05TY2hlbWEgY2xhc3NcclxuICAgICAqIEBwYXJhbSB2YWx1ZSBwYXJ0aWFsIHNjaGVtYSBnaXZlbiBpbiBwYXJhbVxyXG4gICAgICovXHJcbiAgICBTY2hlbWFFbmdpbmUuZGVmaW5lUmVmbGVjdFNjaGVtYSA9IGZ1bmN0aW9uICh0YXJnZXQsIHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIGNsYXNzU2NoZW1hID0gXHJcbiAgICAgICAgLy8gd2UgZ2V0IHRoZSBleGlzdGluZyBzY2hlbWEgb2YgdGhlIGNsYXNzXHJcbiAgICAgICAgU2NoZW1hRW5naW5lLmdldFJlZmxlY3RTY2hlbWEodGFyZ2V0KSB8fFxyXG4gICAgICAgICAgICAvLyBvciB3ZSBjcmVhdGUgYW4gZW1wdHkgb25lIChvYmplY3QpXHJcbiAgICAgICAgICAgIFByb3BlcnR5RW5naW5lLmdldEpTT05Qcm9wZXJ0eVNjaGVtYSh7fSwge30sIE9iamVjdCk7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbihjbGFzc1NjaGVtYSwgdmFsdWUpO1xyXG4gICAgICAgIFNjaGVtYUVuZ2luZS5zZXRSZWZsZWN0U2NoZW1hKHRhcmdldCwgY2xhc3NTY2hlbWEpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgSlNPTiBzY2hlbWEgaWYgZXhpc3QgZm9yIHRoZSBnaXZlbiBjbGFzcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IEpTT05TY2hlbWEgY2xhc3NcclxuICAgICAqL1xyXG4gICAgU2NoZW1hRW5naW5lLmdldFJlZmxlY3RTY2hlbWEgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0TWV0YWRhdGEoUkVGTEVDVF9LRVkuSlNPTl9TQ0hFTUEsIHRhcmdldC5wcm90b3R5cGUpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRGVmaW5lIGEgSlNPTiBzY2hlbWEgaWYgZXhpc3QgZm9yIHRoZSBnaXZlbiBjbGFzcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IEpTT05TY2hlbWEgY2xhc3NcclxuICAgICAqIEBwYXJhbSBzY2hlbWEgSlNPTiBzY2hlbWFcclxuICAgICAqL1xyXG4gICAgU2NoZW1hRW5naW5lLnNldFJlZmxlY3RTY2hlbWEgPSBmdW5jdGlvbiAodGFyZ2V0LCBzY2hlbWEpIHtcclxuICAgICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFJFRkxFQ1RfS0VZLkpTT05fU0NIRU1BLCBzY2hlbWEsIHRhcmdldC5wcm90b3R5cGUpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTY2hlbWFFbmdpbmU7XHJcbn0oKSk7XG5cbi8qKlxyXG4gKiBUYWJib3VsZWggZ2l2ZSBhIHZhbGlkIEpTT04gU2NoZW1hIChkcmFmdCA3KSBmcm9tIGEgbW9kZWwgY2xhc3NcclxuICogd2hpY2ggaGFzIGJlZW4gZGVjb3JhdGVkIHdpdGggcHJvcGVydGllcy5cclxuICovXHJcbnZhciBUYWJib3VsZWggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUYWJib3VsZWgoKSB7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZyb20gYSBjbGFzcywgZ2l2ZSBhIEpTT04gU2NoZW1hIChkcmFmdCA3KS5cclxuICAgICAqIFRoZSBjbGFzcyBNVVNUIGJlIGEgdmFsaWQgSlNPTlNjaGVtYSBlbnRpdHksIGRlY29yYXRlZC5cclxuICAgICAqL1xyXG4gICAgVGFiYm91bGVoLmdlbmVyYXRlSlNPTlNjaGVtYSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcclxuICAgICAgICByZXR1cm4gU2NoZW1hRW5naW5lLmdldENvbXB1dGVkSlNPTlNjaGVtYSh0YXJnZXQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogRnJvbSBhbiBvYmplY3Qgb2YgY2xhc3NlcywgZ2l2ZSBhbiBvYmplY3Qgb2YgSlNPTiBTY2hlbWEgKGRyYWZ0IDcpLlxyXG4gICAgICogVGhlIGNsYXNzZXMgTVVTVCBiZSB2YWxpZCBKU09OU2NoZW1hIGVudGl0aWVzLCBkZWNvcmF0ZWQuXHJcbiAgICAgKiBUaGUgb2JqZWN0IHJldHVybmVkIGZvbGxvdyB0aGUgc2FtZSBtYXBwaW5nIGFzIHRoZSBvbmUgZ2l2ZW4uXHJcbiAgICAgKi9cclxuICAgIFRhYmJvdWxlaC5nZW5lcmF0ZU11bHRpcGxlSlNPTlNjaGVtYXMgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyh0YXJnZXQpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgayA9IF9hW19pXTtcclxuICAgICAgICAgICAgdmFyIGMgPSB0YXJnZXRba107XHJcbiAgICAgICAgICAgIG9ialtrXSA9IFRhYmJvdWxlaC5nZW5lcmF0ZUpTT05TY2hlbWEoYyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvYmo7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFRhYmJvdWxlaDtcclxufSgpKTtcblxudmFyIGNvbXB1dGUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7IHZhbHVlID0ge307IH1cclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgU2NoZW1hRW5naW5lLmRlZmluZVJlZmxlY3RTY2hlbWEodGFyZ2V0LCB2YWx1ZSk7XHJcbiAgICB9O1xyXG59O1xyXG5mdW5jdGlvbiBKU09OU2NoZW1hKGFyZykge1xyXG4gICAgLy8gdmFsdWVcclxuICAgIGlmICh0eXBlb2YgYXJnID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIHJldHVybiBjb21wdXRlKGFyZyk7XHJcbiAgICB9XHJcbiAgICAvLyB0YXJnZXRcclxuICAgIGNvbXB1dGUoKShhcmcpO1xyXG59XG5cbi8qKlxyXG4gKiBIYW5kbGUgZGVjb3JhdG9yIGFjdGlvbnMuXHJcbiAqL1xyXG52YXIgRGVjb3JhdG9yRW5naW5lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRGVjb3JhdG9yRW5naW5lKCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgdG8gdGhlIGNsYXNzL3Byb3BlcnR5IGpzb24gc2NoZW1hIHRoZSBnaXZlbiB2YWx1ZSwgb3IgY3JlYXRlIHRoZSBzY2hlbWEgaWYgbmVjZXNzYXJ5LlxyXG4gICAgICogVG8gdXNlIGZyb20gZGVjb3JhdG9yLCB3aGljaCBpcyB1c2VkIGFzIGV4cHJlc3Npb24gb3IgZnVuY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFyZ3MgZGVwZW5kaW5nIG9mIHRoZSBkZWNvcmF0b3Igc3RhdGUsIGEgc2luZ2xlIHR1cGxlIG9mIEosIG9yIERlY29yYXRvckNsYXNzUHJvcHNcclxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWVzIGluaXRpYWxWYWx1ZXMgd2hpY2ggbWF5IGJlIG92ZXJyaWRkZW5cclxuICAgICAqL1xyXG4gICAgRGVjb3JhdG9yRW5naW5lLmRlZmluZVByb3BlcnRpZXMgPSBmdW5jdGlvbiAoYXJncywgZGVmYXVsdFZhbHVlcykge1xyXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBhcmdzWzBdO1xyXG4gICAgICAgICAgICByZXR1cm4gRGVjb3JhdG9yRW5naW5lLmNvbXB1dGUoZGVmYXVsdFZhbHVlcywgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcHJvdG90eXBlID0gYXJnc1swXTtcclxuICAgICAgICB2YXIga2V5ID0gYXJnc1sxXTtcclxuICAgICAgICBEZWNvcmF0b3JFbmdpbmUuY29tcHV0ZShkZWZhdWx0VmFsdWVzKShwcm90b3R5cGUsIGtleSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gYSBkZWNvcmF0b3IgZnVuY3Rpb25cclxuICAgICAqIHdoaWNoIGhhbmRsZSByZWZlcmVuY2UgbWFwcGluZyBhbmQgZGVmaW5lIHRoZSBjbGFzcy9wcm9wZXJ0eSBqc29uIHNjaGVtYS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlc1xyXG4gICAgICogQHBhcmFtIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIERlY29yYXRvckVuZ2luZS5jb21wdXRlID0gZnVuY3Rpb24gKGRlZmF1bHRWYWx1ZXMsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHsgdmFsdWUgPSB7fTsgfVxyXG4gICAgICAgIHZhbHVlID0gX19hc3NpZ24oe30sIGRlZmF1bHRWYWx1ZXMsIHZhbHVlKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHByb3RvdHlwZSwga2V5LCBkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZVNjaGVtYSA9IHt9O1xyXG4gICAgICAgICAgICAvLyBJZiB3ZSBmb3VuZCBDbGFzc1Jlc29sdmVyLCB3ZSBjcmVhdGUgcmVmZXJlbmNlIGZvciBlYWNoIG9mIHRoZW1cclxuICAgICAgICAgICAgT2JqZWN0LmtleXModmFsdWUpLmZvckVhY2goZnVuY3Rpb24gKF9rKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgayA9IF9rO1xyXG4gICAgICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZVtrXTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIFJlZmVyZW5jZUVuZ2luZS5hZGRSZWZlcmVuY2UocHJvdG90eXBlLCBrZXksIGssIHYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVTY2hlbWFba10gPSB2O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgUHJvcGVydHlFbmdpbmUuZGVmaW5lUmVmbGVjdFByb3BlcnRpZXMocHJvdG90eXBlLCBrZXksIHZhbHVlU2NoZW1hKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBEZWNvcmF0b3JFbmdpbmU7XHJcbn0oKSk7XG5cbmZ1bmN0aW9uIEpTT05Qcm9wZXJ0eSgpIHtcclxuICAgIHZhciBhcmdzID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIHJldHVybiBEZWNvcmF0b3JFbmdpbmUuZGVmaW5lUHJvcGVydGllcyhhcmdzLCB7fSk7XHJcbn1cblxuZnVuY3Rpb24gSlNPTkJvb2xlYW4oKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRGVjb3JhdG9yRW5naW5lLmRlZmluZVByb3BlcnRpZXMoYXJncywge1xyXG4gICAgICAgIHR5cGU6ICdib29sZWFuJ1xyXG4gICAgfSk7XHJcbn1cblxuZnVuY3Rpb24gSlNPTlN0cmluZygpIHtcclxuICAgIHZhciBhcmdzID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIHJldHVybiBEZWNvcmF0b3JFbmdpbmUuZGVmaW5lUHJvcGVydGllcyhhcmdzLCB7XHJcbiAgICAgICAgdHlwZTogJ3N0cmluZydcclxuICAgIH0pO1xyXG59XG5cbmZ1bmN0aW9uIEpTT05OdW1iZXIoKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRGVjb3JhdG9yRW5naW5lLmRlZmluZVByb3BlcnRpZXMoYXJncywge1xyXG4gICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiBKU09OSW50ZWdlcigpIHtcclxuICAgIHZhciBhcmdzID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIHJldHVybiBEZWNvcmF0b3JFbmdpbmUuZGVmaW5lUHJvcGVydGllcyhhcmdzLCB7XHJcbiAgICAgICAgdHlwZTogJ2ludGVnZXInXHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiBKU09OT2JqZWN0KCkge1xyXG4gICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgLy8gUmVsYXRlZCBjbGFzc1xyXG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIHR5cGVvZiBhcmdzWzBdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChwcm90b3R5cGUsIGtleSwgZGVzY3JpcHRvcikge1xyXG4gICAgICAgICAgICB2YXIgY2xhc3NGbiA9IGFyZ3NbMF07XHJcbiAgICAgICAgICAgIFJlZmVyZW5jZUVuZ2luZS5hZGRSZWZlcmVuY2UocHJvdG90eXBlLCBrZXksIG51bGwsIGNsYXNzRm4pO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRGVjb3JhdG9yRW5naW5lLmRlZmluZVByb3BlcnRpZXMoYXJncywge1xyXG4gICAgICAgIHR5cGU6ICdvYmplY3QnXHJcbiAgICB9KTtcclxufVxuXG4vKipcclxuICogRGVjb3JhdG9yIGZvciBKU09OIGFycmF5IGF0dHJpYnV0ZS5cclxuICovXHJcbmZ1bmN0aW9uIEpTT05BcnJheSh2YWx1ZSkge1xyXG4gICAgLy8gUmVsYXRlZCBjbGFzc1xyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAocHJvdG90eXBlLCBrZXksIGRlc2NyaXB0b3IpIHtcclxuICAgICAgICAgICAgUmVmZXJlbmNlRW5naW5lLmFkZFJlZmVyZW5jZShwcm90b3R5cGUsIGtleSwgJ2l0ZW1zJywgdmFsdWUpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvLyBHaXZlbiB0eXBlXHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAocHJvdG90eXBlLCBrZXksIGRlc2NyaXB0b3IpIHtcclxuICAgICAgICAgICAgRGVjb3JhdG9yRW5naW5lLmRlZmluZVByb3BlcnRpZXMoW3Byb3RvdHlwZSwga2V5LCBkZXNjcmlwdG9yXSwge1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ2FycmF5JyxcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogdmFsdWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiBEZWNvcmF0b3JFbmdpbmUuZGVmaW5lUHJvcGVydGllcyhbdmFsdWVdLCB7XHJcbiAgICAgICAgdHlwZTogJ2FycmF5J1xyXG4gICAgfSk7XHJcbn1cblxuZXhwb3J0IGRlZmF1bHQgVGFiYm91bGVoO1xuZXhwb3J0IHsgSlNPTkFycmF5LCBKU09OQm9vbGVhbiwgSlNPTkludGVnZXIsIEpTT05OdW1iZXIsIEpTT05PYmplY3QsIEpTT05Qcm9wZXJ0eSwgSlNPTlNjaGVtYSwgSlNPTlN0cmluZywgTm90QUpzb25TY2hlbWFFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGFiYm91bGVoLmVzNS5qcy5tYXBcbiIsImltcG9ydCB7SlNPTlNjaGVtYSwgSlNPTlN0cmluZ30gZnJvbSBcInRhYmJvdWxlaFwiO1xyXG5cclxuQEpTT05TY2hlbWE8VXNlckFkZHJlc3M+KHtcclxuICAgIHJlcXVpcmVkOiBbJ3N0cmVldCcsICdjaXR5J11cclxufSlcclxuZXhwb3J0IGNsYXNzIFVzZXJBZGRyZXNzIHtcclxuXHJcbiAgICBASlNPTlN0cmluZ1xyXG4gICAgc3RyZWV0OiBzdHJpbmc7XHJcblxyXG4gICAgQEpTT05TdHJpbmdcclxuICAgIGNpdHk6IHN0cmluZztcclxuXHJcbn0iLCJpbXBvcnQge1VzZXJBZGRyZXNzfSBmcm9tIFwiLi9Vc2VyQWRkcmVzc1wiO1xyXG5pbXBvcnQge0pTT05PYmplY3QsIEpTT05TY2hlbWF9IGZyb20gXCJ0YWJib3VsZWhcIjtcclxuXHJcbkBKU09OU2NoZW1hPFVzZXJEYXRhPih7XHJcbiAgICByZXF1aXJlZDogWyduYW1lJywgJ2FnZScsICdhZGRyZXNzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIFVzZXJEYXRhIHtcclxuXHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgYWdlOiBudW1iZXI7XHJcblxyXG4gICAgQEpTT05PYmplY3QoKCkgPT4gVXNlckFkZHJlc3MpXHJcbiAgICBhZGRyZXNzOiBVc2VyQWRkcmVzcztcclxuXHJcbn0iLCJpbXBvcnQge0Vycm9yT2JqZWN0fSBmcm9tIFwiYWp2XCI7XHJcblxyXG5cclxuY29uc3Qgc2NoZW1hT3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NjaGVtYS1vdXRwdXQnKSBhcyBIVE1MUHJlRWxlbWVudDtcclxuY29uc3QgZGF0YUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RhdGEtaW5wdXQnKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG5jb25zdCBzdGF0ZU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0ZS1vdXRwdXQnKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuXHJcbmZ1bmN0aW9uIG9uU3VjY2VzcygpIHtcclxuICAgIHN0YXRlT3V0cHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Vycm9yJyk7XHJcbiAgICBzdGF0ZU91dHB1dC5jbGFzc0xpc3QuYWRkKCdzdWNjZXNzJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uRXJyb3IoZXJyb3JzOiBQaWNrPEVycm9yT2JqZWN0LCAnZGF0YVBhdGgnIHwgJ21lc3NhZ2UnPltdKSB7XHJcbiAgICBzdGF0ZU91dHB1dC5jbGFzc0xpc3QucmVtb3ZlKCdzdWNjZXNzJyk7XHJcbiAgICBzdGF0ZU91dHB1dC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG5cclxuICAgIHN0YXRlT3V0cHV0LmlubmVySFRNTCA9ICc8YnIvPjxici8+JyArIGVycm9ycy5tYXAoZSA9PiBlLmRhdGFQYXRoICsgJyA9PiAnICsgZS5tZXNzYWdlKS5qb2luKCc8YnIvPicpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkNoYW5nZSh2YWx1ZTogc3RyaW5nLCBkb1ZhbGlkYXRlOiAoZGF0YTogb2JqZWN0KSA9PiB7IHZhbGlkOiBib29sZWFuOyBlcnJvcnM6IEVycm9yT2JqZWN0W10gfSk6IHZvaWQge1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZG9WYWxpZGF0ZShKU09OLnBhcnNlKHZhbHVlKSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCd2YWxpZGF0ZSByZXN1bHQ6JywgcmVzdWx0KTtcclxuXHJcbiAgICAgICAgaWYgKHJlc3VsdC52YWxpZCkge1xyXG4gICAgICAgICAgICBvblN1Y2Nlc3MoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvbkVycm9yKHJlc3VsdC5lcnJvcnMpO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgIG9uRXJyb3IoW3tcclxuICAgICAgICAgICAgZGF0YVBhdGg6IGUubmFtZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogZS5tZXNzYWdlXHJcbiAgICAgICAgfV0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gRE9NSW5pdChzY2hlbWE6IG9iamVjdCwgZGVmYXVsdERhdGE6IG9iamVjdCwgZG9WYWxpZGF0ZTogKGRhdGE6IG9iamVjdCkgPT4geyB2YWxpZDogYm9vbGVhbjsgZXJyb3JzOiBFcnJvck9iamVjdFtdIH0pIHtcclxuXHJcbiAgICBzY2hlbWFPdXRwdXQuaW5uZXJUZXh0ID0gSlNPTi5zdHJpbmdpZnkoc2NoZW1hLCB1bmRlZmluZWQsICdcXHQnKTtcclxuXHJcbiAgICBkYXRhSW5wdXQub25rZXl1cCA9IGUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHt2YWx1ZX0gPSBlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcclxuXHJcbiAgICAgICAgb25DaGFuZ2UodmFsdWUsIGRvVmFsaWRhdGUpO1xyXG4gICAgfTtcclxuXHJcbiAgICBkYXRhSW5wdXQudmFsdWUgPSBKU09OLnN0cmluZ2lmeShkZWZhdWx0RGF0YSwgdW5kZWZpbmVkLCAnXFx0Jyk7XHJcblxyXG4gICAgb25DaGFuZ2UoZGF0YUlucHV0LnZhbHVlLCBkb1ZhbGlkYXRlKTtcclxufVxyXG4iLCJpbXBvcnQgVGFiYm91bGVoIGZyb20gXCJ0YWJib3VsZWhcIjtcbmltcG9ydCBBanYsIHtFcnJvck9iamVjdH0gZnJvbSAnYWp2JztcbmltcG9ydCB7VXNlckRhdGF9IGZyb20gXCIuL1VzZXJEYXRhXCI7XG5pbXBvcnQge0RPTUluaXR9IGZyb20gXCIuL2RvbU1hbmlwdWxhdGlvblwiO1xuXG4vLyBnZW5lcmF0ZSB0aGUgVXNlckRhdGEgc2NoZW1hXG5jb25zdCBzY2hlbWEgPSBUYWJib3VsZWguZ2VuZXJhdGVKU09OU2NoZW1hKFVzZXJEYXRhKTtcbmNvbnNvbGUubG9nKCdzY2hlbWE6Jywgc2NoZW1hKTtcblxuLy8gaW5zdGFudGlhdGUgQUpWICYgY29tcGlsZSB0aGUgc2NoZW1hXG5jb25zdCBhanYgPSBuZXcgQWp2KCk7XG5jb25zdCB2YWxpZGF0ZSA9IGFqdi5jb21waWxlKHNjaGVtYSk7XG5cbmNvbnN0IGRlZmF1bHREYXRhOiBVc2VyRGF0YSA9IHtcbiAgICBuYW1lOiAnVG90bycsXG4gICAgYWdlOiAyOCxcbiAgICBhZGRyZXNzOiB7XG4gICAgICAgIGNpdHk6ICdQYXJpcycsXG4gICAgICAgIHN0cmVldDogJzU2IHJ1ZSBTYWludCBNYXJ0aW4nXG4gICAgfVxufTtcblxuLy8gdmFsaWRhdGUgZGF0YSB3aXRoIEFKVlxuZnVuY3Rpb24gZG9WYWxpZGF0ZShkYXRhOiBvYmplY3QpOiB7IHZhbGlkOiBib29sZWFuOyBlcnJvcnM6IEVycm9yT2JqZWN0W10gfSB7XG4gICAgY29uc3QgdmFsaWQgPSB2YWxpZGF0ZShkYXRhKSBhcyBib29sZWFuO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmFsaWQsXG4gICAgICAgIGVycm9yczogdmFsaWRhdGUuZXJyb3JzIHx8IFtdXG4gICAgfTtcbn1cblxuRE9NSW5pdChzY2hlbWEsIGRlZmF1bHREYXRhLCBkb1ZhbGlkYXRlKTsiXSwic291cmNlUm9vdCI6IiJ9