!function(e){function t(t){for(var n,u,c=t[0],f=t[1],a=t[2],p=0,l=[];p<c.length;p++)u=c[p],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&l.push(o[u][0]),o[u]=0;for(n in f)Object.prototype.hasOwnProperty.call(f,n)&&(e[n]=f[n]);for(s&&s(t);l.length;)l.shift()();return i.push.apply(i,a||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,c=1;c<r.length;c++){var f=r[c];0!==o[f]&&(n=!1)}n&&(i.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},o={0:0},i=[];function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="";var c=window.webpackJsonp=window.webpackJsonp||[],f=c.push.bind(c);c.push=t,c=c.slice();for(var a=0;a<c.length;a++)t(c[a]);var s=f;i.push([49,1]),r()}({0:function(e,t,r){"use strict";(function(e,n){r.d(t,"a",function(){return m}),r.d(t,"b",function(){return g}),r.d(t,"c",function(){return b});var o,i,u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */!function(e){!function(t){var r="object"==typeof u?u:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(e);function i(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===r.Reflect?r.Reflect=e:o=i(r.Reflect,o),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",u="function"==typeof Object.create,c={__proto__:[]}instanceof Array,f=!u&&!c,a={create:u?function(){return x(Object.create(null))}:c?function(){return x({__proto__:null})}:function(){return x({})},has:f?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:f?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},s=Object.getPrototypeOf(Function),p="object"==typeof n&&n.env&&"true"===n.env.REFLECT_METADATA_USE_MAP_POLYFILL,l=p||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,o=r+1;o<n;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,o)},t.prototype.entries=function(){return new r(this._keys,this._values,u)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function o(e,t){return t}function u(e,t){return[e,t]}}():Map,y=p||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new l}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,h=new(p||"function"!=typeof WeakMap?function(){var e=16,r=a.create(),n=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&a.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?a.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+c()}while(a.has(r,e));return r[e]=!0,e}function i(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:a.create()})}return e[n]}function u(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function c(){var t,r=(t=e,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):u(new Uint8Array(t),t):u(new Array(t),t));r[6]=79&r[6]|64,r[8]=191&r[8]|128;for(var n="",o=0;o<e;++o){var i=r[o];4!==o&&6!==o&&8!==o||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function d(e,t,r){var n=h.get(e);if(w(n)){if(!r)return;n=new l,h.set(e,n)}var o=n.get(t);if(w(o)){if(!r)return;o=new l,n.set(t,o)}return o}function v(e,t,r){var n=d(t,r,!1);return!w(n)&&!!n.has(e)}function g(e,t,r){var n=d(t,r,!1);if(!w(n))return n.get(e)}function _(e,t,r,n){d(r,n,!0).set(e,t)}function b(e,t){var r=[],n=d(e,t,!1);if(w(n))return r;for(var o=function(e){var t=T(e,i);if(!E(t))throw new TypeError;var r=t.call(e);if(!S(r))throw new TypeError;return r}(n.keys()),u=0;;){var c=M(o);if(!c)return r.length=u,r;var f=c.value;try{r[u]=f}catch(e){try{N(o)}finally{throw e}}u++}}function m(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function w(e){return void 0===e}function O(e){return null===e}function S(e){return"object"==typeof e?null!==e:"function"==typeof e}function R(e,t){switch(m(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",n=T(e,o);if(void 0!==n){var i=n.call(e,r);if(S(i))throw new TypeError;return i}return function(e,t){if("string"===t){var r=e.toString;if(E(r))if(!S(o=r.call(e)))return o;if(E(n=e.valueOf))if(!S(o=n.call(e)))return o}else{var n;if(E(n=e.valueOf))if(!S(o=n.call(e)))return o;var o,i=e.toString;if(E(i))if(!S(o=i.call(e)))return o}throw new TypeError}(e,"default"===r?"number":r)}function j(e){var t=R(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function P(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function E(e){return"function"==typeof e}function k(e){return"function"==typeof e}function T(e,t){var r=e[t];if(null!=r){if(!E(r))throw new TypeError;return r}}function M(e){var t=e.next();return!t.done&&t}function N(e){var t=e.return;t&&t.call(e)}function J(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===s)return t;if(t!==s)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var o=n.constructor;return"function"!=typeof o?t:o===e?t:o}function x(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,t,r,n){if(w(r)){if(!P(e))throw new TypeError;if(!k(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!w(n)&&!O(n)){if(!k(n))throw new TypeError;t=n}}return t}(e,t)}if(!P(e))throw new TypeError;if(!S(t))throw new TypeError;if(!S(n)&&!w(n)&&!O(n))throw new TypeError;return O(n)&&(n=void 0),function(e,t,r,n){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,r,n);if(!w(i)&&!O(i)){if(!S(i))throw new TypeError;n=i}}return n}(e,t,r=j(r),n)}),e("metadata",function(e,t){return function(r,n){if(!S(r))throw new TypeError;if(!w(n)&&!function(e){switch(m(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;_(e,t,r,n)}}),e("defineMetadata",function(e,t,r,n){if(!S(r))throw new TypeError;return w(n)||(n=j(n)),_(e,t,r,n)}),e("hasMetadata",function(e,t,r){if(!S(t))throw new TypeError;return w(r)||(r=j(r)),function e(t,r,n){var o=v(t,r,n);if(o)return!0;var i=J(r);if(!O(i))return e(t,i,n);return!1}(e,t,r)}),e("hasOwnMetadata",function(e,t,r){if(!S(t))throw new TypeError;return w(r)||(r=j(r)),v(e,t,r)}),e("getMetadata",function(e,t,r){if(!S(t))throw new TypeError;return w(r)||(r=j(r)),function e(t,r,n){var o=v(t,r,n);if(o)return g(t,r,n);var i=J(r);if(!O(i))return e(t,i,n);return}(e,t,r)}),e("getOwnMetadata",function(e,t,r){if(!S(t))throw new TypeError;return w(r)||(r=j(r)),g(e,t,r)}),e("getMetadataKeys",function(e,t){if(!S(e))throw new TypeError;return w(t)||(t=j(t)),function e(t,r){var n=b(t,r);var o=J(t);if(null===o)return n;var i=e(o,r);if(i.length<=0)return n;if(n.length<=0)return i;var u=new y;var c=[];for(var f=0,a=n;f<a.length;f++){var s=a[f];u.has(s)||(u.add(s),c.push(s))}for(var p=0,l=i;p<l.length;p++){s=l[p];u.has(s)||(u.add(s),c.push(s))}return c}(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!S(e))throw new TypeError;return w(t)||(t=j(t)),b(e,t)}),e("deleteMetadata",function(e,t,r){if(!S(t))throw new TypeError;w(r)||(r=j(r));var n=d(t,r,!1);if(w(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var o=h.get(t);return o.delete(r),o.size>0||(h.delete(t),!0)})}(o)}()}(o||(o={})),function(e){e.TYPE="design:type",e.JSON_SCHEMA="tabbouleh:schema",e.JSON_PROPERTY="tabbouleh:property",e.JSON_REFERENCE="tabbouleh:references"}(i||(i={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var f=function(){return(f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(){function e(){}return e.getJSONSchemaType=function(e){switch(e){case Array:return{type:"array"};case Number:return{type:"number"};case String:return{type:"string"};case Object:return{type:"object"};default:return{type:"null"}}},e.getJSONPropertySchema=function(t,r,n){var o=f({},t,r);if(o.$ref)return o;var i=e.getJSONSchemaType(n);return f({},i,o)},e.getReflectProperties=function(e){return Reflect.getMetadata(i.JSON_PROPERTY,e)||{}},e.setReflectProperties=function(e,t){Reflect.defineMetadata(i.JSON_PROPERTY,t,e)},e.defineReflectProperties=function(t,r,n){var o=e.getReflectProperties(t),u=Reflect.getMetadata(i.JSON_SCHEMA,t,r)||{},c=Reflect.getMetadata(i.TYPE,t,r),a=e.getJSONPropertySchema(u,n,c);o[r]=f({},o[r]||{},a),e.setReflectProperties(t,o)},e}(),s=function(e){return"Class called by Tabbouleh but not decorated with @JSONSchema: "+e},p=function(e){function t(r){var n=e.call(this,s(r&&r.name?r.name:r))||this;return Error.call(n),Error.captureStackTrace(n,n.constructor),Object.setPrototypeOf(n,t.prototype),n}return function(e,t){function r(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t}(Error),l=function(e){return e&&e.name&&e.prototype},y=function(){function e(){}return e.computeJSONReferences=function(t,r,n){var o=!n;if(n=n||t,!r){var i=h.getReflectSchema(n)||{};r=i.definitions||{}}e.getReferences(t.name,t.prototype).forEach(function(o){var i,u=o.targetFn();if(!l(u))throw new p(u);if(u!==n){var c=e.generateSchemaID(u);r[c]||(r[c]=h.getComputedJSONSchema(u,r,n))}var f={$ref:e.generateRef(u,n)},s=o.jsonPropertyKey?((i={})[o.jsonPropertyKey]=f,i):f;a.defineReflectProperties(t.prototype,o.key,s)}),Object.keys(r).length&&o&&h.defineReflectSchema(n,{definitions:r})},e.addReference=function(t,r,n,o){var i=t.constructor.name,u={className:i,key:r,jsonPropertyKey:n,targetFn:o},c=e.getReflectReference(t)||{},f=c[i]||[];f=f.filter(function(e){return e.key!==u.key||e.jsonPropertyKey!==u.jsonPropertyKey}),c[i]=f,f.push(u),e.setReflectReference(t,c)},e.getReferences=function(t,r){return(e.getReflectReference(r)||{})[t]||[]},e.generateRef=function(t,r){return t===r?"#":"#/definitions/"+e.generateSchemaID(t)},e.generateSchemaID=function(e){return"_"+e.name+"_"},e.getReflectReference=function(e){return Reflect.getMetadata(i.JSON_REFERENCE,e)},e.setReflectReference=function(e,t){Reflect.defineMetadata(i.JSON_REFERENCE,t,e)},e}(),h=function(){function e(){}return e.getComputedJSONSchema=function(t,r,n){y.computeJSONReferences(t,r,n);var o=e.getReflectSchema(t);if(!o)throw new p(t);return o.properties=a.getReflectProperties(t.prototype),o},e.defineReflectSchema=function(t,r){var n=e.getReflectSchema(t)||a.getJSONPropertySchema({},{},Object);Object.assign(n,r),e.setReflectSchema(t,n)},e.getReflectSchema=function(e){return Reflect.getMetadata(i.JSON_SCHEMA,e.prototype)},e.setReflectSchema=function(e,t){Reflect.defineMetadata(i.JSON_SCHEMA,t,e.prototype)},e}(),d=function(){function e(){}return e.generateJSONSchema=function(e){return h.getComputedJSONSchema(e)},e.generateMultipleJSONSchemas=function(t){for(var r={},n=0,o=Object.keys(t);n<o.length;n++){var i=o[n],u=t[i];r[i]=e.generateJSONSchema(u)}return r},e}(),v=function(e){return void 0===e&&(e={}),function(t){h.defineReflectSchema(t,e)}};function g(e){if("object"==typeof e)return v(e);v()(e)}var _=function(){function e(){}return e.defineProperties=function(t,r){if(1===t.length){var n=t[0];return e.compute(r,n)}var o=t[0],i=t[1];e.compute(r)(o,i)},e.compute=function(e,t){return void 0===t&&(t={}),t=f({},e,t),function(e,r,n){var o={};Object.keys(t).forEach(function(n){var i=n,u=t[i];"function"==typeof u?y.addReference(e,r,i,u):o[i]=u}),a.defineReflectProperties(e,r,o)}},e}();function b(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _.defineProperties(e,{type:"string"})}function m(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&"function"==typeof e[0]?function(t,r,n){var o=e[0];y.addReference(t,r,null,o)}:_.defineProperties(e,{type:"object"})}t.d=d}).call(this,r(14),r(15))},49:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(13),i=r.n(o),u=function(e,t,r,n){var o,i=arguments.length,u=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(u=(i<3?o(u):i>3?o(t,r,u):o(t,r))||u);return i>3&&u&&Object.defineProperty(t,r,u),u},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(){}return u([n.c,c("design:type",String)],e.prototype,"street",void 0),u([n.c,c("design:type",String)],e.prototype,"city",void 0),e=u([Object(n.b)({required:["street","city"]})],e)}(),a=function(e,t,r,n){var o,i=arguments.length,u=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(u=(i<3?o(u):i>3?o(t,r,u):o(t,r))||u);return i>3&&u&&Object.defineProperty(t,r,u),u},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(){}return a([Object(n.a)(function(){return f}),s("design:type",f)],e.prototype,"address",void 0),e=a([Object(n.b)({required:["name","age","address"]})],e)}(),l=document.getElementById("schema-output"),y=document.getElementById("data-input"),h=document.getElementById("state-output");function d(e){h.classList.remove("success"),h.classList.add("error"),h.innerHTML="<br/><br/>"+e.map(function(e){return e.dataPath+" => "+e.message}).join("<br/>")}function v(e,t){try{var r=t(JSON.parse(e));console.log(r),r.valid?(h.classList.remove("error"),h.classList.add("success")):d(r.errors)}catch(e){console.error(e),d([{dataPath:e.name,message:e.message}])}}var g=n.d.generateJSONSchema(p);console.log(g);var _=(new i.a).compile(g);!function(e,t,r){l.innerText=JSON.stringify(e,void 0,"\t"),y.onkeyup=function(e){v(e.currentTarget.value,r)},y.value=JSON.stringify(t,void 0,"\t"),v(y.value,r)}(g,{name:"Toto",age:28,address:{city:"Paris",street:"56 rue Saint Martin"}},function(e){return{valid:_(e),errors:_.errors||[]}})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL3RhYmJvdWxlaC9kaXN0L3RhYmJvdWxlaC5lczUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VzZXJBZGRyZXNzLnRzIiwid2VicGFjazovLy8uL3NyYy9Vc2VyRGF0YS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZG9tTWFuaXB1bGF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjAiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsIlJlZmxlY3QkMSIsIlJFRkxFQ1RfS0VZIiwiY29tbW9uanNHbG9iYWwiLCJnbG9iYWxUaGlzIiwiZ2xvYmFsIiwic2VsZiIsIlJlZmxlY3QiLCJmYWN0b3J5Iiwicm9vdCIsInRoaXMiLCJGdW5jdGlvbiIsImV4cG9ydGVyIiwibWFrZUV4cG9ydGVyIiwidGFyZ2V0IiwicHJldmlvdXMiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImhhc093biIsInN1cHBvcnRzU3ltYm9sIiwidG9QcmltaXRpdmVTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsIml0ZXJhdG9yU3ltYm9sIiwiaXRlcmF0b3IiLCJzdXBwb3J0c0NyZWF0ZSIsInN1cHBvcnRzUHJvdG8iLCJfX3Byb3RvX18iLCJBcnJheSIsImRvd25MZXZlbCIsIkhhc2hNYXAiLCJNYWtlRGljdGlvbmFyeSIsImhhcyIsIm1hcCIsInVuZGVmaW5lZCIsImZ1bmN0aW9uUHJvdG90eXBlIiwiZ2V0UHJvdG90eXBlT2YiLCJ1c2VQb2x5ZmlsbCIsInByb2Nlc3MiLCJlbnYiLCJfTWFwIiwiTWFwIiwiZW50cmllcyIsImNhY2hlU2VudGluZWwiLCJhcnJheVNlbnRpbmVsIiwiTWFwSXRlcmF0b3IiLCJrZXlzIiwidmFsdWVzIiwic2VsZWN0b3IiLCJfaW5kZXgiLCJfa2V5cyIsIl92YWx1ZXMiLCJfc2VsZWN0b3IiLCJuZXh0IiwiaW5kZXgiLCJkb25lIiwidGhyb3ciLCJlcnJvciIsInJldHVybiIsIl9jYWNoZUtleSIsIl9jYWNoZUluZGV4IiwiX2ZpbmQiLCJzZXQiLCJkZWxldGUiLCJzaXplIiwiY2xlYXIiLCJnZXRLZXkiLCJnZXRWYWx1ZSIsImdldEVudHJ5IiwiaW5zZXJ0IiwiaW5kZXhPZiIsIl8iLCJDcmVhdGVNYXBQb2x5ZmlsbCIsIl9TZXQiLCJTZXQiLCJfbWFwIiwiYWRkIiwiTWV0YWRhdGEiLCJXZWFrTWFwIiwiVVVJRF9TSVpFIiwicm9vdEtleSIsIkNyZWF0ZVVuaXF1ZUtleSIsIl9rZXkiLCJ0YWJsZSIsIkdldE9yQ3JlYXRlV2Vha01hcFRhYmxlIiwiQ3JlYXRlVVVJRCIsIkZpbGxSYW5kb21CeXRlcyIsImJ1ZmZlciIsIk1hdGgiLCJyYW5kb20iLCJVaW50OEFycmF5IiwiY3J5cHRvIiwiZ2V0UmFuZG9tVmFsdWVzIiwibXNDcnlwdG8iLCJvZmZzZXQiLCJieXRlIiwidG9TdHJpbmciLCJ0b0xvd2VyQ2FzZSIsIkNyZWF0ZVdlYWtNYXBQb2x5ZmlsbCIsIkdldE9yQ3JlYXRlTWV0YWRhdGFNYXAiLCJPIiwiUCIsIkNyZWF0ZSIsInRhcmdldE1ldGFkYXRhIiwiSXNVbmRlZmluZWQiLCJtZXRhZGF0YU1hcCIsIk9yZGluYXJ5SGFzT3duTWV0YWRhdGEiLCJNZXRhZGF0YUtleSIsIk9yZGluYXJ5R2V0T3duTWV0YWRhdGEiLCJPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhIiwiTWV0YWRhdGFWYWx1ZSIsIk9yZGluYXJ5T3duTWV0YWRhdGFLZXlzIiwib2JqIiwibWV0aG9kIiwiR2V0TWV0aG9kIiwiSXNDYWxsYWJsZSIsIlR5cGVFcnJvciIsIklzT2JqZWN0IiwiR2V0SXRlcmF0b3IiLCJrIiwiSXRlcmF0b3JTdGVwIiwibmV4dFZhbHVlIiwiZSIsIkl0ZXJhdG9yQ2xvc2UiLCJUeXBlIiwieCIsIklzTnVsbCIsIlRvUHJpbWl0aXZlIiwiaW5wdXQiLCJQcmVmZXJyZWRUeXBlIiwiaGludCIsImV4b3RpY1RvUHJpbSIsInRvU3RyaW5nXzEiLCJ2YWx1ZU9mIiwidG9TdHJpbmdfMiIsIk9yZGluYXJ5VG9QcmltaXRpdmUiLCJUb1Byb3BlcnR5S2V5IiwiYXJndW1lbnQiLCJUb1N0cmluZyIsIklzQXJyYXkiLCJpc0FycmF5IiwiSXNDb25zdHJ1Y3RvciIsIlYiLCJmdW5jIiwiZiIsIk9yZGluYXJ5R2V0UHJvdG90eXBlT2YiLCJwcm90byIsInByb3RvdHlwZVByb3RvIiwiY29uc3RydWN0b3IiLCJfXyIsImRlY29yYXRvcnMiLCJwcm9wZXJ0eUtleSIsImF0dHJpYnV0ZXMiLCJkZWNvcmF0ZWQiLCJkZWNvcmF0b3IiLCJEZWNvcmF0ZUNvbnN0cnVjdG9yIiwiZGVzY3JpcHRvciIsIkRlY29yYXRlUHJvcGVydHkiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJJc1Byb3BlcnR5S2V5IiwiT3JkaW5hcnlIYXNNZXRhZGF0YSIsInBhcmVudCIsIk9yZGluYXJ5R2V0TWV0YWRhdGEiLCJPcmRpbmFyeU1ldGFkYXRhS2V5cyIsIm93bktleXMiLCJwYXJlbnRLZXlzIiwiX2kiLCJvd25LZXlzXzEiLCJfYSIsInBhcmVudEtleXNfMSIsImV4dGVuZFN0YXRpY3MiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX2Fzc2lnbiIsImFzc2lnbiIsImFyZ3VtZW50cyIsIlByb3BlcnR5RW5naW5lIiwiZ2V0SlNPTlNjaGVtYVR5cGUiLCJ0eXBlVFMiLCJ0eXBlIiwiTnVtYmVyIiwiU3RyaW5nIiwiZ2V0SlNPTlByb3BlcnR5U2NoZW1hIiwicmVmbGVjdEVudGl0eSIsInBhcmFtRW50aXR5IiwicGFydGlhbEVudGl0eSIsIiRyZWYiLCJ0eXBlRW50aXR5IiwiZ2V0UmVmbGVjdFByb3BlcnRpZXMiLCJnZXRNZXRhZGF0YSIsIkpTT05fUFJPUEVSVFkiLCJzZXRSZWZsZWN0UHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJkZWZpbmVNZXRhZGF0YSIsImRlZmluZVJlZmxlY3RQcm9wZXJ0aWVzIiwicmVmbGVjdFNjaGVtYSIsIkpTT05fU0NIRU1BIiwidHlwZVNjaGVtYSIsIlRZUEUiLCJmdWxsU2NoZW1hIiwibXNnIiwiTm90QUpzb25TY2hlbWFFcnJvciIsIl9zdXBlciIsIl90aGlzIiwiRXJyb3IiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIl9fZXh0ZW5kcyIsIlV0aWwiLCJSZWZlcmVuY2VFbmdpbmUiLCJjb21wdXRlSlNPTlJlZmVyZW5jZXMiLCJkZWZpbml0aW9ucyIsInJvb3RUYXJnZXQiLCJpc1Jvb3QiLCJyb290VGFyZ2V0U2NoZW1hIiwiU2NoZW1hRW5naW5lIiwiZ2V0UmVmbGVjdFNjaGVtYSIsImdldFJlZmVyZW5jZXMiLCJmb3JFYWNoIiwiYSIsInJlZlRhcmdldCIsInRhcmdldEZuIiwidGFyZ2V0SUQiLCJnZW5lcmF0ZVNjaGVtYUlEIiwiZ2V0Q29tcHV0ZWRKU09OU2NoZW1hIiwicmVmU2NoZW1hIiwiZ2VuZXJhdGVSZWYiLCJqc29uUHJvcGVydHlLZXkiLCJkZWZpbmVSZWZsZWN0U2NoZW1hIiwiYWRkUmVmZXJlbmNlIiwicHJvdG90eXBlU291cmNlIiwianNvblByb3BlcnR5IiwiY2xhc3NUYXJnZXRGbiIsImNsYXNzTmFtZSIsInJlZmVyZW5jZSIsInJlZmVyZW5jZU1hcCIsImdldFJlZmxlY3RSZWZlcmVuY2UiLCJyZWZNYXBDbGFzcyIsImZpbHRlciIsInNldFJlZmxlY3RSZWZlcmVuY2UiLCJwcm90b3R5cGVUYXJnZXQiLCJKU09OX1JFRkVSRU5DRSIsInNjaGVtYSIsImNsYXNzU2NoZW1hIiwic2V0UmVmbGVjdFNjaGVtYSIsIlRhYmJvdWxlaCIsImdlbmVyYXRlSlNPTlNjaGVtYSIsImdlbmVyYXRlTXVsdGlwbGVKU09OU2NoZW1hcyIsImNvbXB1dGUiLCJKU09OU2NoZW1hIiwiYXJnIiwiRGVjb3JhdG9yRW5naW5lIiwiZGVmaW5lUHJvcGVydGllcyIsImFyZ3MiLCJkZWZhdWx0VmFsdWVzIiwidmFsdWVTY2hlbWEiLCJfayIsInYiLCJKU09OU3RyaW5nIiwiSlNPTk9iamVjdCIsImNsYXNzRm4iLCJVc2VyQWRkcmVzcyIsInJlcXVpcmVkIiwiVXNlckRhdGEiLCJzY2hlbWFPdXRwdXQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZGF0YUlucHV0Iiwic3RhdGVPdXRwdXQiLCJvbkVycm9yIiwiZXJyb3JzIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiaW5uZXJIVE1MIiwiZGF0YVBhdGgiLCJtZXNzYWdlIiwiam9pbiIsIm9uQ2hhbmdlIiwiZG9WYWxpZGF0ZSIsIkpTT04iLCJwYXJzZSIsImNvbnNvbGUiLCJsb2ciLCJ2YWxpZCIsInZhbGlkYXRlIiwiY29tcGlsZSIsImRlZmF1bHREYXRhIiwiaW5uZXJUZXh0Iiwic3RyaW5naWZ5Iiwib25rZXl1cCIsIkRPTUluaXQiLCJhZ2UiLCJhZGRyZXNzIiwiY2l0eSIsInN0cmVldCJdLCJtYXBwaW5ncyI6ImFBQ0UsU0FBU0EsRUFBcUJDLEdBUTdCLElBUEEsSUFNSUMsRUFBVUMsRUFOVkMsRUFBV0gsRUFBSyxHQUNoQkksRUFBY0osRUFBSyxHQUNuQkssRUFBaUJMLEVBQUssR0FJSE0sRUFBSSxFQUFHQyxFQUFXLEdBQ3BDRCxFQUFJSCxFQUFTSyxPQUFRRixJQUN6QkosRUFBVUMsRUFBU0csR0FDaEJHLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtDLEVBQWlCWCxJQUFZVyxFQUFnQlgsSUFDcEZLLEVBQVNPLEtBQUtELEVBQWdCWCxHQUFTLElBRXhDVyxFQUFnQlgsR0FBVyxFQUU1QixJQUFJRCxLQUFZRyxFQUNaSyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLUixFQUFhSCxLQUNwRGMsRUFBUWQsR0FBWUcsRUFBWUgsSUFLbEMsSUFGR2UsR0FBcUJBLEVBQW9CaEIsR0FFdENPLEVBQVNDLFFBQ2RELEVBQVNVLE9BQVRWLEdBT0QsT0FIQVcsRUFBZ0JKLEtBQUtLLE1BQU1ELEVBQWlCYixHQUFrQixJQUd2RGUsSUFFUixTQUFTQSxJQUVSLElBREEsSUFBSUMsRUFDSWYsRUFBSSxFQUFHQSxFQUFJWSxFQUFnQlYsT0FBUUYsSUFBSyxDQUcvQyxJQUZBLElBQUlnQixFQUFpQkosRUFBZ0JaLEdBQ2pDaUIsR0FBWSxFQUNSQyxFQUFJLEVBQUdBLEVBQUlGLEVBQWVkLE9BQVFnQixJQUFLLENBQzlDLElBQUlDLEVBQVFILEVBQWVFLEdBQ0csSUFBM0JYLEVBQWdCWSxLQUFjRixHQUFZLEdBRTNDQSxJQUNGTCxFQUFnQlEsT0FBT3BCLElBQUssR0FDNUJlLEVBQVNNLEVBQW9CQSxFQUFvQkMsRUFBSU4sRUFBZSxLQUl0RSxPQUFPRCxFQUlSLElBQUlRLEVBQW1CLEdBS25CaEIsRUFBa0IsQ0FDckJpQixFQUFHLEdBR0FaLEVBQWtCLEdBR3RCLFNBQVNTLEVBQW9CMUIsR0FHNUIsR0FBRzRCLEVBQWlCNUIsR0FDbkIsT0FBTzRCLEVBQWlCNUIsR0FBVThCLFFBR25DLElBQUlDLEVBQVNILEVBQWlCNUIsR0FBWSxDQUN6Q0ssRUFBR0wsRUFDSGdDLEdBQUcsRUFDSEYsUUFBUyxJQVVWLE9BTkFoQixFQUFRZCxHQUFVVyxLQUFLb0IsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0osR0FHL0RLLEVBQU9DLEdBQUksRUFHSkQsRUFBT0QsUUFLZkosRUFBb0JPLEVBQUluQixFQUd4QlksRUFBb0JRLEVBQUlOLEVBR3hCRixFQUFvQlMsRUFBSSxTQUFTTCxFQUFTTSxFQUFNQyxHQUMzQ1gsRUFBb0JZLEVBQUVSLEVBQVNNLElBQ2xDNUIsT0FBTytCLGVBQWVULEVBQVNNLEVBQU0sQ0FBRUksWUFBWSxFQUFNQyxJQUFLSixLQUtoRVgsRUFBb0JnQixFQUFJLFNBQVNaLEdBQ1gsb0JBQVhhLFFBQTBCQSxPQUFPQyxhQUMxQ3BDLE9BQU8rQixlQUFlVCxFQUFTYSxPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RyQyxPQUFPK0IsZUFBZVQsRUFBUyxhQUFjLENBQUVlLE9BQU8sS0FRdkRuQixFQUFvQm9CLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRbkIsRUFBb0JtQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUt6QyxPQUFPMEMsT0FBTyxNQUd2QixHQUZBeEIsRUFBb0JnQixFQUFFTyxHQUN0QnpDLE9BQU8rQixlQUFlVSxFQUFJLFVBQVcsQ0FBRVQsWUFBWSxFQUFNSyxNQUFPQSxJQUN0RCxFQUFQRSxHQUE0QixpQkFBVEYsRUFBbUIsSUFBSSxJQUFJTSxLQUFPTixFQUFPbkIsRUFBb0JTLEVBQUVjLEVBQUlFLEVBQUssU0FBU0EsR0FBTyxPQUFPTixFQUFNTSxJQUFRQyxLQUFLLEtBQU1ELElBQzlJLE9BQU9GLEdBSVJ2QixFQUFvQjJCLEVBQUksU0FBU3RCLEdBQ2hDLElBQUlNLEVBQVNOLEdBQVVBLEVBQU9pQixXQUM3QixXQUF3QixPQUFPakIsRUFBZ0IsU0FDL0MsV0FBOEIsT0FBT0EsR0FFdEMsT0FEQUwsRUFBb0JTLEVBQUVFLEVBQVEsSUFBS0EsR0FDNUJBLEdBSVJYLEVBQW9CWSxFQUFJLFNBQVNnQixFQUFRQyxHQUFZLE9BQU8vQyxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLMkMsRUFBUUMsSUFHekc3QixFQUFvQjhCLEVBQUksR0FFeEIsSUFBSUMsRUFBYUMsT0FBcUIsYUFBSUEsT0FBcUIsY0FBSyxHQUNoRUMsRUFBbUJGLEVBQVc1QyxLQUFLdUMsS0FBS0ssR0FDNUNBLEVBQVc1QyxLQUFPZixFQUNsQjJELEVBQWFBLEVBQVdHLFFBQ3hCLElBQUksSUFBSXZELEVBQUksRUFBR0EsRUFBSW9ELEVBQVdsRCxPQUFRRixJQUFLUCxFQUFxQjJELEVBQVdwRCxJQUMzRSxJQUFJVSxFQUFzQjRDLEVBSTFCMUMsRUFBZ0JKLEtBQUssQ0FBQyxHQUFHLElBRWxCTSxJLGtDQ3ZKVCxrSEFnQkkwQyxFQWltQ0FDLEVBam5DQUMsRUFBdUMsb0JBQWZDLFdBQTZCQSxXQUErQixvQkFBWE4sT0FBeUJBLFlBQTJCLElBQVhPLEVBQXlCQSxFQUF5QixvQkFBVEMsS0FBdUJBLEtBQU87Ozs7Ozs7Ozs7Ozs7O2lGQWlCN0wsU0FBV0MsSUFHUCxTQUFXQyxHQUNQLElBQUlDLEVBQWlDLGlCQUFuQk4sRUFBOEJBLEVBQzVCLGlCQUFURyxLQUFvQkEsS0FDUCxpQkFBVEksS0FBb0JBLEtBQ3ZCQyxTQUFTLGVBQVRBLEdBQ1JDLEVBQVdDLEVBQWFOLEdBUTVCLFNBQVNNLEVBQWFDLEVBQVFDLEdBQzFCLE9BQU8sU0FBVXhCLEVBQUtOLEdBQ1MsbUJBQWhCNkIsRUFBT3ZCLElBQ2QzQyxPQUFPK0IsZUFBZW1DLEVBQVF2QixFQUFLLENBQUV5QixjQUFjLEVBQU1DLFVBQVUsRUFBTWhDLE1BQU9BLElBRWhGOEIsR0FDQUEsRUFBU3hCLEVBQUtOLFNBYkUsSUFBakJ3QixFQUFLRixRQUNaRSxFQUFLRixRQUFVQSxFQUdmSyxFQUFXQyxFQUFhSixFQUFLRixRQUFTSyxHQVkzQyxTQUFVQSxHQUNULElBQUlNLEVBQVN0RSxPQUFPQyxVQUFVQyxlQUUxQnFFLEVBQW1DLG1CQUFYcEMsT0FDeEJxQyxFQUFvQkQsUUFBZ0QsSUFBdkJwQyxPQUFPc0MsWUFBOEJ0QyxPQUFPc0MsWUFBYyxnQkFDdkdDLEVBQWlCSCxRQUE2QyxJQUFwQnBDLE9BQU93QyxTQUEyQnhDLE9BQU93QyxTQUFXLGFBQzlGQyxFQUEwQyxtQkFBbEI1RSxPQUFPMEMsT0FDL0JtQyxFQUFnQixDQUFFQyxVQUFXLGNBQWdCQyxNQUM3Q0MsR0FBYUosSUFBbUJDLEVBQ2hDSSxFQUFVLENBRVZ2QyxPQUFRa0MsRUFDRixXQUFjLE9BQU9NLEVBQWVsRixPQUFPMEMsT0FBTyxRQUNsRG1DLEVBQ0ksV0FBYyxPQUFPSyxFQUFlLENBQUVKLFVBQVcsUUFDakQsV0FBYyxPQUFPSSxFQUFlLEtBQzlDQyxJQUFLSCxFQUNDLFNBQVVJLEVBQUt6QyxHQUFPLE9BQU8yQixFQUFPbkUsS0FBS2lGLEVBQUt6QyxJQUM5QyxTQUFVeUMsRUFBS3pDLEdBQU8sT0FBT0EsS0FBT3lDLEdBQzFDbkQsSUFBSytDLEVBQ0MsU0FBVUksRUFBS3pDLEdBQU8sT0FBTzJCLEVBQU9uRSxLQUFLaUYsRUFBS3pDLEdBQU95QyxFQUFJekMsUUFBTzBDLEdBQ2hFLFNBQVVELEVBQUt6QyxHQUFPLE9BQU95QyxFQUFJekMsS0FHdkMyQyxFQUFvQnRGLE9BQU91RixlQUFleEIsVUFDMUN5QixFQUFpQyxpQkFBWkMsR0FBd0JBLEVBQVFDLEtBQTRELFNBQXJERCxFQUFRQyxJQUF1QyxrQ0FDM0dDLEVBQVFILEdBQThCLG1CQUFSSSxLQUF1RCxtQkFBMUJBLElBQUkzRixVQUFVNEYsUUFrMEI3RSxXQUNJLElBQUlDLEVBQWdCLEdBQ2hCQyxFQUFnQixHQUNoQkMsRUFBNkIsV0FDN0IsU0FBU0EsRUFBWUMsRUFBTUMsRUFBUUMsR0FDL0JyQyxLQUFLc0MsT0FBUyxFQUNkdEMsS0FBS3VDLE1BQVFKLEVBQ2JuQyxLQUFLd0MsUUFBVUosRUFDZnBDLEtBQUt5QyxVQUFZSixFQW9DckIsT0FsQ0FILEVBQVkvRixVQUFVLGNBQWdCLFdBQWMsT0FBTzZELE1BQzNEa0MsRUFBWS9GLFVBQVV5RSxHQUFrQixXQUFjLE9BQU9aLE1BQzdEa0MsRUFBWS9GLFVBQVV1RyxLQUFPLFdBQ3pCLElBQUlDLEVBQVEzQyxLQUFLc0MsT0FDakIsR0FBSUssR0FBUyxHQUFLQSxFQUFRM0MsS0FBS3VDLE1BQU10RyxPQUFRLENBQ3pDLElBQUlhLEVBQVNrRCxLQUFLeUMsVUFBVXpDLEtBQUt1QyxNQUFNSSxHQUFRM0MsS0FBS3dDLFFBQVFHLElBUzVELE9BUklBLEVBQVEsR0FBSzNDLEtBQUt1QyxNQUFNdEcsUUFDeEIrRCxLQUFLc0MsUUFBVSxFQUNmdEMsS0FBS3VDLE1BQVFOLEVBQ2JqQyxLQUFLd0MsUUFBVVAsR0FHZmpDLEtBQUtzQyxTQUVGLENBQUUvRCxNQUFPekIsRUFBUThGLE1BQU0sR0FFbEMsTUFBTyxDQUFFckUsV0FBT2dELEVBQVdxQixNQUFNLElBRXJDVixFQUFZL0YsVUFBVTBHLE1BQVEsU0FBVUMsR0FNcEMsTUFMSTlDLEtBQUtzQyxRQUFVLElBQ2Z0QyxLQUFLc0MsUUFBVSxFQUNmdEMsS0FBS3VDLE1BQVFOLEVBQ2JqQyxLQUFLd0MsUUFBVVAsR0FFYmEsR0FFVlosRUFBWS9GLFVBQVU0RyxPQUFTLFNBQVV4RSxHQU1yQyxPQUxJeUIsS0FBS3NDLFFBQVUsSUFDZnRDLEtBQUtzQyxRQUFVLEVBQ2Z0QyxLQUFLdUMsTUFBUU4sRUFDYmpDLEtBQUt3QyxRQUFVUCxHQUVaLENBQUUxRCxNQUFPQSxFQUFPcUUsTUFBTSxJQUUxQlYsRUF6Q3FCLEdBMkNoQyxPQUFzQixXQUNsQixTQUFTSixJQUNMOUIsS0FBS3VDLE1BQVEsR0FDYnZDLEtBQUt3QyxRQUFVLEdBQ2Z4QyxLQUFLZ0QsVUFBWWhCLEVBQ2pCaEMsS0FBS2lELGFBQWUsRUF5RHhCLE9BdkRBL0csT0FBTytCLGVBQWU2RCxFQUFJM0YsVUFBVyxPQUFRLENBQ3pDZ0MsSUFBSyxXQUFjLE9BQU82QixLQUFLdUMsTUFBTXRHLFFBQ3JDaUMsWUFBWSxFQUNab0MsY0FBYyxJQUVsQndCLEVBQUkzRixVQUFVa0YsSUFBTSxTQUFVeEMsR0FBTyxPQUFPbUIsS0FBS2tELE1BQU1yRSxHQUFnQixJQUFVLEdBQ2pGaUQsRUFBSTNGLFVBQVVnQyxJQUFNLFNBQVVVLEdBQzFCLElBQUk4RCxFQUFRM0MsS0FBS2tELE1BQU1yRSxHQUFnQixHQUN2QyxPQUFPOEQsR0FBUyxFQUFJM0MsS0FBS3dDLFFBQVFHLFFBQVNwQixHQUU5Q08sRUFBSTNGLFVBQVVnSCxJQUFNLFNBQVV0RSxFQUFLTixHQUMvQixJQUFJb0UsRUFBUTNDLEtBQUtrRCxNQUFNckUsR0FBZ0IsR0FFdkMsT0FEQW1CLEtBQUt3QyxRQUFRRyxHQUFTcEUsRUFDZnlCLE1BRVg4QixFQUFJM0YsVUFBVWlILE9BQVMsU0FBVXZFLEdBQzdCLElBQUk4RCxFQUFRM0MsS0FBS2tELE1BQU1yRSxHQUFnQixHQUN2QyxHQUFJOEQsR0FBUyxFQUFHLENBRVosSUFEQSxJQUFJVSxFQUFPckQsS0FBS3VDLE1BQU10RyxPQUNiRixFQUFJNEcsRUFBUSxFQUFHNUcsRUFBSXNILEVBQU10SCxJQUM5QmlFLEtBQUt1QyxNQUFNeEcsRUFBSSxHQUFLaUUsS0FBS3VDLE1BQU14RyxHQUMvQmlFLEtBQUt3QyxRQUFRekcsRUFBSSxHQUFLaUUsS0FBS3dDLFFBQVF6RyxHQVF2QyxPQU5BaUUsS0FBS3VDLE1BQU10RyxTQUNYK0QsS0FBS3dDLFFBQVF2RyxTQUNUNEMsSUFBUW1CLEtBQUtnRCxZQUNiaEQsS0FBS2dELFVBQVloQixFQUNqQmhDLEtBQUtpRCxhQUFlLElBRWpCLEVBRVgsT0FBTyxHQUVYbkIsRUFBSTNGLFVBQVVtSCxNQUFRLFdBQ2xCdEQsS0FBS3VDLE1BQU10RyxPQUFTLEVBQ3BCK0QsS0FBS3dDLFFBQVF2RyxPQUFTLEVBQ3RCK0QsS0FBS2dELFVBQVloQixFQUNqQmhDLEtBQUtpRCxhQUFlLEdBRXhCbkIsRUFBSTNGLFVBQVVnRyxLQUFPLFdBQWMsT0FBTyxJQUFJRCxFQUFZbEMsS0FBS3VDLE1BQU92QyxLQUFLd0MsUUFBU2UsSUFDcEZ6QixFQUFJM0YsVUFBVWlHLE9BQVMsV0FBYyxPQUFPLElBQUlGLEVBQVlsQyxLQUFLdUMsTUFBT3ZDLEtBQUt3QyxRQUFTZ0IsSUFDdEYxQixFQUFJM0YsVUFBVTRGLFFBQVUsV0FBYyxPQUFPLElBQUlHLEVBQVlsQyxLQUFLdUMsTUFBT3ZDLEtBQUt3QyxRQUFTaUIsSUFDdkYzQixFQUFJM0YsVUFBVSxjQUFnQixXQUFjLE9BQU82RCxLQUFLK0IsV0FDeERELEVBQUkzRixVQUFVeUUsR0FBa0IsV0FBYyxPQUFPWixLQUFLK0IsV0FDMURELEVBQUkzRixVQUFVK0csTUFBUSxTQUFVckUsRUFBSzZFLEdBU2pDLE9BUkkxRCxLQUFLZ0QsWUFBY25FLElBQ25CbUIsS0FBS2lELFlBQWNqRCxLQUFLdUMsTUFBTW9CLFFBQVEzRCxLQUFLZ0QsVUFBWW5FLElBRXZEbUIsS0FBS2lELFlBQWMsR0FBS1MsSUFDeEIxRCxLQUFLaUQsWUFBY2pELEtBQUt1QyxNQUFNdEcsT0FDOUIrRCxLQUFLdUMsTUFBTWhHLEtBQUtzQyxHQUNoQm1CLEtBQUt3QyxRQUFRakcsVUFBS2dGLElBRWZ2QixLQUFLaUQsYUFFVG5CLEVBOURVLEdBZ0VyQixTQUFTeUIsRUFBTzFFLEVBQUsrRSxHQUNqQixPQUFPL0UsRUFFWCxTQUFTMkUsRUFBU0ksRUFBR3JGLEdBQ2pCLE9BQU9BLEVBRVgsU0FBU2tGLEVBQVM1RSxFQUFLTixHQUNuQixNQUFPLENBQUNNLEVBQUtOLElBdjdCdUZzRixHQUFOL0IsSUFDbEdnQyxFQUFRcEMsR0FBOEIsbUJBQVJxQyxLQUF1RCxtQkFBMUJBLElBQUk1SCxVQUFVNEYsUUEyN0JuRCxXQUNsQixTQUFTZ0MsSUFDTC9ELEtBQUtnRSxLQUFPLElBQUluQyxFQWdCcEIsT0FkQTNGLE9BQU8rQixlQUFlOEYsRUFBSTVILFVBQVcsT0FBUSxDQUN6Q2dDLElBQUssV0FBYyxPQUFPNkIsS0FBS2dFLEtBQUtYLE1BQ3BDbkYsWUFBWSxFQUNab0MsY0FBYyxJQUVsQnlELEVBQUk1SCxVQUFVa0YsSUFBTSxTQUFVOUMsR0FBUyxPQUFPeUIsS0FBS2dFLEtBQUszQyxJQUFJOUMsSUFDNUR3RixFQUFJNUgsVUFBVThILElBQU0sU0FBVTFGLEdBQVMsT0FBT3lCLEtBQUtnRSxLQUFLYixJQUFJNUUsRUFBT0EsR0FBUXlCLE1BQzNFK0QsRUFBSTVILFVBQVVpSCxPQUFTLFNBQVU3RSxHQUFTLE9BQU95QixLQUFLZ0UsS0FBS1osT0FBTzdFLElBQ2xFd0YsRUFBSTVILFVBQVVtSCxNQUFRLFdBQWN0RCxLQUFLZ0UsS0FBS1YsU0FDOUNTLEVBQUk1SCxVQUFVZ0csS0FBTyxXQUFjLE9BQU9uQyxLQUFLZ0UsS0FBSzdCLFFBQ3BENEIsRUFBSTVILFVBQVVpRyxPQUFTLFdBQWMsT0FBT3BDLEtBQUtnRSxLQUFLNUIsVUFDdEQyQixFQUFJNUgsVUFBVTRGLFFBQVUsV0FBYyxPQUFPL0IsS0FBS2dFLEtBQUtqQyxXQUN2RGdDLEVBQUk1SCxVQUFVLGNBQWdCLFdBQWMsT0FBTzZELEtBQUttQyxRQUN4RDRCLEVBQUk1SCxVQUFVeUUsR0FBa0IsV0FBYyxPQUFPWixLQUFLbUMsUUFDbkQ0QixFQWxCVSxHQTM3QjZFQSxJQUlsR0csRUFBVyxJQUhDeEMsR0FBa0MsbUJBQVp5QyxRQWc5QnRDLFdBQ0ksSUFBSUMsRUFBWSxHQUNaakMsRUFBT2hCLEVBQVF2QyxTQUNmeUYsRUFBVUMsSUFDZCxPQUFzQixXQUNsQixTQUFTSCxJQUNMbkUsS0FBS3VFLEtBQU9ELElBdUJoQixPQXJCQUgsRUFBUWhJLFVBQVVrRixJQUFNLFNBQVVqQixHQUM5QixJQUFJb0UsRUFBUUMsRUFBd0JyRSxHQUFtQixHQUN2RCxZQUFpQm1CLElBQVZpRCxHQUFzQnJELEVBQVFFLElBQUltRCxFQUFPeEUsS0FBS3VFLE9BRXpESixFQUFRaEksVUFBVWdDLElBQU0sU0FBVWlDLEdBQzlCLElBQUlvRSxFQUFRQyxFQUF3QnJFLEdBQW1CLEdBQ3ZELFlBQWlCbUIsSUFBVmlELEVBQXNCckQsRUFBUWhELElBQUlxRyxFQUFPeEUsS0FBS3VFLFdBQVFoRCxHQUVqRTRDLEVBQVFoSSxVQUFVZ0gsSUFBTSxTQUFVL0MsRUFBUTdCLEdBR3RDLE9BRllrRyxFQUF3QnJFLEdBQW1CLEdBQ2pESixLQUFLdUUsTUFBUWhHLEVBQ1p5QixNQUVYbUUsRUFBUWhJLFVBQVVpSCxPQUFTLFNBQVVoRCxHQUNqQyxJQUFJb0UsRUFBUUMsRUFBd0JyRSxHQUFtQixHQUN2RCxZQUFpQm1CLElBQVZpRCxVQUE2QkEsRUFBTXhFLEtBQUt1RSxPQUVuREosRUFBUWhJLFVBQVVtSCxNQUFRLFdBRXRCdEQsS0FBS3VFLEtBQU9ELEtBRVRILEVBekJVLEdBMkJyQixTQUFTRyxJQUNMLElBQUl6RixFQUNKLEdBQ0lBLEVBQU0sY0FBZ0I2RixVQUNuQnZELEVBQVFFLElBQUljLEVBQU10RCxJQUV6QixPQURBc0QsRUFBS3RELElBQU8sRUFDTEEsRUFFWCxTQUFTNEYsRUFBd0JyRSxFQUFReEIsR0FDckMsSUFBSzRCLEVBQU9uRSxLQUFLK0QsRUFBUWlFLEdBQVUsQ0FDL0IsSUFBS3pGLEVBQ0QsT0FDSjFDLE9BQU8rQixlQUFlbUMsRUFBUWlFLEVBQVMsQ0FBRTlGLE1BQU80QyxFQUFRdkMsV0FFNUQsT0FBT3dCLEVBQU9pRSxHQUVsQixTQUFTTSxFQUFnQkMsRUFBUXZCLEdBQzdCLElBQUssSUFBSXRILEVBQUksRUFBR0EsRUFBSXNILElBQVF0SCxFQUN4QjZJLEVBQU83SSxHQUFxQixJQUFoQjhJLEtBQUtDLFNBQWtCLEVBQ3ZDLE9BQU9GLEVBWVgsU0FBU0YsSUFDTCxJQVhvQnJCLEVBV2hCNUgsR0FYZ0I0SCxFQVdNZSxFQVZBLG1CQUFmVyxXQUNlLG9CQUFYQyxPQUNBQSxPQUFPQyxnQkFBZ0IsSUFBSUYsV0FBVzFCLElBQ3pCLG9CQUFiNkIsU0FDQUEsU0FBU0QsZ0JBQWdCLElBQUlGLFdBQVcxQixJQUM1Q3NCLEVBQWdCLElBQUlJLFdBQVcxQixHQUFPQSxHQUUxQ3NCLEVBQWdCLElBQUkxRCxNQUFNb0MsR0FBT0EsSUFLeEM1SCxFQUFLLEdBQWUsR0FBVkEsRUFBSyxHQUFZLEdBQzNCQSxFQUFLLEdBQWUsSUFBVkEsRUFBSyxHQUFZLElBRTNCLElBREEsSUFBSXFCLEVBQVMsR0FDSnFJLEVBQVMsRUFBR0EsRUFBU2YsSUFBYWUsRUFBUSxDQUMvQyxJQUFJQyxFQUFPM0osRUFBSzBKLEdBQ0QsSUFBWEEsR0FBMkIsSUFBWEEsR0FBMkIsSUFBWEEsSUFDaENySSxHQUFVLEtBQ1ZzSSxFQUFPLEtBQ1B0SSxHQUFVLEtBQ2RBLEdBQVVzSSxFQUFLQyxTQUFTLElBQUlDLGNBRWhDLE9BQU94SSxHQTVoQzBEeUksR0FBVnBCLFNBNmUvRCxTQUFTcUIsRUFBdUJDLEVBQUdDLEVBQUdDLEdBQ2xDLElBQUlDLEVBQWlCMUIsRUFBUy9GLElBQUlzSCxHQUNsQyxHQUFJSSxFQUFZRCxHQUFpQixDQUM3QixJQUFLRCxFQUNELE9BQ0pDLEVBQWlCLElBQUkvRCxFQUNyQnFDLEVBQVNmLElBQUlzQyxFQUFHRyxHQUVwQixJQUFJRSxFQUFjRixFQUFlekgsSUFBSXVILEdBQ3JDLEdBQUlHLEVBQVlDLEdBQWMsQ0FDMUIsSUFBS0gsRUFDRCxPQUNKRyxFQUFjLElBQUlqRSxFQUNsQitELEVBQWV6QyxJQUFJdUMsRUFBR0ksR0FFMUIsT0FBT0EsRUFlWCxTQUFTQyxFQUF1QkMsRUFBYVAsRUFBR0MsR0FDNUMsSUFBSUksRUFBY04sRUFBdUJDLEVBQUdDLEdBQWMsR0FDMUQsT0FBSUcsRUFBWUMsTUFFQ0EsRUFBWXpFLElBQUkyRSxHQWVyQyxTQUFTQyxFQUF1QkQsRUFBYVAsRUFBR0MsR0FDNUMsSUFBSUksRUFBY04sRUFBdUJDLEVBQUdDLEdBQWMsR0FDMUQsSUFBSUcsRUFBWUMsR0FFaEIsT0FBT0EsRUFBWTNILElBQUk2SCxHQUkzQixTQUFTRSxFQUEwQkYsRUFBYUcsRUFBZVYsRUFBR0MsR0FDNUNGLEVBQXVCQyxFQUFHQyxHQUFjLEdBQzlDdkMsSUFBSTZDLEVBQWFHLEdBb0NqQyxTQUFTQyxFQUF3QlgsRUFBR0MsR0FDaEMsSUFBSXZELEVBQU8sR0FDUDJELEVBQWNOLEVBQXVCQyxFQUFHQyxHQUFjLEdBQzFELEdBQUlHLEVBQVlDLEdBQ1osT0FBTzNELEVBSVgsSUFIQSxJQUNJdEIsRUFrTFIsU0FBcUJ3RixHQUNqQixJQUFJQyxFQUFTQyxFQUFVRixFQUFLekYsR0FDNUIsSUFBSzRGLEVBQVdGLEdBQ1osTUFBTSxJQUFJRyxVQUNkLElBQUk1RixFQUFXeUYsRUFBT2pLLEtBQUtnSyxHQUMzQixJQUFLSyxFQUFTN0YsR0FDVixNQUFNLElBQUk0RixVQUNkLE9BQU81RixFQXpMUThGLENBRERiLEVBQVkzRCxRQUV0QnlFLEVBQUksSUFDSyxDQUNULElBQUlsRSxFQUFPbUUsRUFBYWhHLEdBQ3hCLElBQUs2QixFQUVELE9BREFQLEVBQUtsRyxPQUFTMkssRUFDUHpFLEVBRVgsSUFBSTJFLEVBQTBCcEUsRUFzTGhCbkUsTUFyTGQsSUFDSTRELEVBQUt5RSxHQUFLRSxFQUVkLE1BQU9DLEdBQ0gsSUFDSUMsRUFBY25HLEdBRWxCLFFBQ0ksTUFBTWtHLEdBR2RILEtBS1IsU0FBU0ssRUFBS0MsR0FDVixHQUFVLE9BQU5BLEVBQ0EsT0FBTyxFQUNYLGNBQWVBLEdBQ1gsSUFBSyxZQUFhLE9BQU8sRUFDekIsSUFBSyxVQUFXLE9BQU8sRUFDdkIsSUFBSyxTQUFVLE9BQU8sRUFDdEIsSUFBSyxTQUFVLE9BQU8sRUFDdEIsSUFBSyxTQUFVLE9BQU8sRUFDdEIsSUFBSyxTQUFVLE9BQWEsT0FBTkEsRUFBYSxFQUFlLEVBQ2xELFFBQVMsT0FBTyxHQUt4QixTQUFTckIsRUFBWXFCLEdBQ2pCLFlBQWEzRixJQUFOMkYsRUFJWCxTQUFTQyxFQUFPRCxHQUNaLE9BQWEsT0FBTkEsRUFTWCxTQUFTUixFQUFTUSxHQUNkLE1BQW9CLGlCQUFOQSxFQUF1QixPQUFOQSxFQUEwQixtQkFBTkEsRUFNdkQsU0FBU0UsRUFBWUMsRUFBT0MsR0FDeEIsT0FBUUwsRUFBS0ksSUFDVCxLQUFLLEVBQ0wsS0FBSyxFQUNMLEtBQUssRUFDTCxLQUFLLEVBQ0wsS0FBSyxFQUNMLEtBQUssRUFBZ0IsT0FBT0EsRUFFaEMsSUFBSUUsRUFBeUIsSUFBbEJELEVBQW1DLFNBQTZCLElBQWxCQSxFQUFtQyxTQUFXLFVBQ25HRSxFQUFlakIsRUFBVWMsRUFBTzNHLEdBQ3BDLFFBQXFCYSxJQUFqQmlHLEVBQTRCLENBQzVCLElBQUkxSyxFQUFTMEssRUFBYW5MLEtBQUtnTCxFQUFPRSxHQUN0QyxHQUFJYixFQUFTNUosR0FDVCxNQUFNLElBQUkySixVQUNkLE9BQU8zSixFQUVYLE9BSUosU0FBNkIySSxFQUFHOEIsR0FDNUIsR0FBYSxXQUFUQSxFQUFtQixDQUNuQixJQUFJRSxFQUFhaEMsRUFBRUosU0FDbkIsR0FBSW1CLEVBQVdpQixHQUVYLElBQUtmLEVBREQ1SixFQUFTMkssRUFBV3BMLEtBQUtvSixJQUV6QixPQUFPM0ksRUFHZixHQUFJMEosRUFEQWtCLEVBQVVqQyxFQUFFaUMsU0FHWixJQUFLaEIsRUFERDVKLEVBQVM0SyxFQUFRckwsS0FBS29KLElBRXRCLE9BQU8zSSxNQUdkLENBQ0QsSUFBSTRLLEVBQ0osR0FBSWxCLEVBREFrQixFQUFVakMsRUFBRWlDLFNBR1osSUFBS2hCLEVBREQ1SixFQUFTNEssRUFBUXJMLEtBQUtvSixJQUV0QixPQUFPM0ksRUFFZixJQUVRQSxFQUZKNkssRUFBYWxDLEVBQUVKLFNBQ25CLEdBQUltQixFQUFXbUIsR0FFWCxJQUFLakIsRUFERDVKLEVBQVM2SyxFQUFXdEwsS0FBS29KLElBRXpCLE9BQU8zSSxFQUduQixNQUFNLElBQUkySixVQWpDSG1CLENBQW9CUCxFQUFnQixZQUFURSxFQUFxQixTQUFXQSxHQStDdEUsU0FBU00sRUFBY0MsR0FDbkIsSUFBSWpKLEVBQU11SSxFQUFZVSxFQUFVLEdBQ2hDLE1BN0VvQixpQkE2RVBqSixFQUNGQSxFQVJmLFNBQWtCaUosR0FDZCxNQUFPLEdBQUtBLEVBUUxDLENBQVNsSixHQU1wQixTQUFTbUosRUFBUUYsR0FDYixPQUFPN0csTUFBTWdILFFBQ1BoSCxNQUFNZ0gsUUFBUUgsR0FDZEEsYUFBb0I1TCxPQUNoQjRMLGFBQW9CN0csTUFDeUIsbUJBQTdDL0UsT0FBT0MsVUFBVWtKLFNBQVNoSixLQUFLeUwsR0FJN0MsU0FBU3RCLEVBQVdzQixHQUVoQixNQUEyQixtQkFBYkEsRUFJbEIsU0FBU0ksRUFBY0osR0FFbkIsTUFBMkIsbUJBQWJBLEVBZWxCLFNBQVN2QixFQUFVNEIsRUFBR3pDLEdBQ2xCLElBQUkwQyxFQUFPRCxFQUFFekMsR0FDYixHQUFJMEMsUUFBSixDQUVBLElBQUs1QixFQUFXNEIsR0FDWixNQUFNLElBQUkzQixVQUNkLE9BQU8yQixHQW9CWCxTQUFTdkIsRUFBYWhHLEdBQ2xCLElBQUkvRCxFQUFTK0QsRUFBUzZCLE9BQ3RCLE9BQU81RixFQUFPOEYsTUFBZTlGLEVBSWpDLFNBQVNrSyxFQUFjbkcsR0FDbkIsSUFBSXdILEVBQUl4SCxFQUFpQixPQUNyQndILEdBQ0FBLEVBQUVoTSxLQUFLd0UsR0FNZixTQUFTeUgsRUFBdUI3QyxHQUM1QixJQUFJOEMsRUFBUXJNLE9BQU91RixlQUFlZ0UsR0FDbEMsR0FBaUIsbUJBQU5BLEdBQW9CQSxJQUFNakUsRUFDakMsT0FBTytHLEVBUVgsR0FBSUEsSUFBVS9HLEVBQ1YsT0FBTytHLEVBRVgsSUFBSXBNLEVBQVlzSixFQUFFdEosVUFDZHFNLEVBQWlCck0sR0FBYUQsT0FBT3VGLGVBQWV0RixHQUN4RCxHQUFzQixNQUFsQnFNLEdBQTBCQSxJQUFtQnRNLE9BQU9DLFVBQ3BELE9BQU9vTSxFQUVYLElBQUlFLEVBQWNELEVBQWVDLFlBQ2pDLE1BQTJCLG1CQUFoQkEsRUFDQUYsRUFFUEUsSUFBZ0JoRCxFQUNUOEMsRUFFSkUsRUFtT1gsU0FBU3JILEVBQWVpRixHQUdwQixPQUZBQSxFQUFJcUMsUUFBS25ILFNBQ0Y4RSxFQUFJcUMsR0FDSnJDLEVBbitCWG5HLEVBQVMsV0FyQlQsU0FBa0J5SSxFQUFZdkksRUFBUXdJLEVBQWFDLEdBQy9DLEdBQUtoRCxFQUFZK0MsR0FZWixDQUNELElBQUtaLEVBQVFXLEdBQ1QsTUFBTSxJQUFJbEMsVUFDZCxJQUFLeUIsRUFBYzlILEdBQ2YsTUFBTSxJQUFJcUcsVUFDZCxPQXdaUixTQUE2QmtDLEVBQVl2SSxHQUNyQyxJQUFLLElBQUlyRSxFQUFJNE0sRUFBVzFNLE9BQVMsRUFBR0YsR0FBSyxJQUFLQSxFQUFHLENBQzdDLElBQ0krTSxHQUFZQyxFQURBSixFQUFXNU0sSUFDRHFFLEdBQzFCLElBQUt5RixFQUFZaUQsS0FBZTNCLEVBQU8yQixHQUFZLENBQy9DLElBQUtaLEVBQWNZLEdBQ2YsTUFBTSxJQUFJckMsVUFDZHJHLEVBQVMwSSxHQUdqQixPQUFPMUksRUFsYUk0SSxDQUFvQkwsRUFBWXZJLEdBaEJ2QyxJQUFLNEgsRUFBUVcsR0FDVCxNQUFNLElBQUlsQyxVQUNkLElBQUtDLEVBQVN0RyxHQUNWLE1BQU0sSUFBSXFHLFVBQ2QsSUFBS0MsRUFBU21DLEtBQWdCaEQsRUFBWWdELEtBQWdCMUIsRUFBTzBCLEdBQzdELE1BQU0sSUFBSXBDLFVBSWQsT0FISVUsRUFBTzBCLEtBQ1BBLE9BQWF0SCxHQTZhekIsU0FBMEJvSCxFQUFZdkksRUFBUXdJLEVBQWFLLEdBQ3ZELElBQUssSUFBSWxOLEVBQUk0TSxFQUFXMU0sT0FBUyxFQUFHRixHQUFLLElBQUtBLEVBQUcsQ0FDN0MsSUFDSStNLEdBQVlDLEVBREFKLEVBQVc1TSxJQUNEcUUsRUFBUXdJLEVBQWFLLEdBQy9DLElBQUtwRCxFQUFZaUQsS0FBZTNCLEVBQU8yQixHQUFZLENBQy9DLElBQUtwQyxFQUFTb0MsR0FDVixNQUFNLElBQUlyQyxVQUNkd0MsRUFBYUgsR0FHckIsT0FBT0csRUFyYklDLENBQWlCUCxFQUFZdkksRUFEcEN3SSxFQUFjZixFQUFjZSxHQUM2QkMsS0ErRGpFM0ksRUFBUyxXQVZULFNBQWtCaUosRUFBYUMsR0FRM0IsT0FQQSxTQUFtQmhKLEVBQVF3SSxHQUN2QixJQUFLbEMsRUFBU3RHLEdBQ1YsTUFBTSxJQUFJcUcsVUFDZCxJQUFLWixFQUFZK0MsS0Fnb0J6QixTQUF1QmQsR0FDbkIsT0FBUWIsRUFBS2EsSUFDVCxLQUFLLEVBQ0wsS0FBSyxFQUFnQixPQUFPLEVBQzVCLFFBQVMsT0FBTyxHQXBvQmtCdUIsQ0FBY1QsR0FDNUMsTUFBTSxJQUFJbkMsVUFDZFAsRUFBMEJpRCxFQUFhQyxFQUFlaEosRUFBUXdJLE1BbUR0RTFJLEVBQVMsaUJBUFQsU0FBd0JpSixFQUFhQyxFQUFlaEosRUFBUXdJLEdBQ3hELElBQUtsQyxFQUFTdEcsR0FDVixNQUFNLElBQUlxRyxVQUdkLE9BRktaLEVBQVkrQyxLQUNiQSxFQUFjZixFQUFjZSxJQUN6QjFDLEVBQTBCaUQsRUFBYUMsRUFBZWhKLEVBQVF3SSxLQTRDekUxSSxFQUFTLGNBUFQsU0FBcUJpSixFQUFhL0ksRUFBUXdJLEdBQ3RDLElBQUtsQyxFQUFTdEcsR0FDVixNQUFNLElBQUlxRyxVQUdkLE9BRktaLEVBQVkrQyxLQUNiQSxFQUFjZixFQUFjZSxJQXFUcEMsU0FBU1UsRUFBb0J0RCxFQUFhUCxFQUFHQyxHQUN6QyxJQUFJbEYsRUFBU3VGLEVBQXVCQyxFQUFhUCxFQUFHQyxHQUNwRCxHQUFJbEYsRUFDQSxPQUFPLEVBQ1gsSUFBSStJLEVBQVNqQixFQUF1QjdDLEdBQ3BDLElBQUswQixFQUFPb0MsR0FDUixPQUFPRCxFQUFvQnRELEVBQWF1RCxFQUFRN0QsR0FDcEQsT0FBTyxFQTNUQTRELENBQW9CSCxFQUFhL0ksRUFBUXdJLEtBNENwRDFJLEVBQVMsaUJBUFQsU0FBd0JpSixFQUFhL0ksRUFBUXdJLEdBQ3pDLElBQUtsQyxFQUFTdEcsR0FDVixNQUFNLElBQUlxRyxVQUdkLE9BRktaLEVBQVkrQyxLQUNiQSxFQUFjZixFQUFjZSxJQUN6QjdDLEVBQXVCb0QsRUFBYS9JLEVBQVF3SSxLQTRDdkQxSSxFQUFTLGNBUFQsU0FBcUJpSixFQUFhL0ksRUFBUXdJLEdBQ3RDLElBQUtsQyxFQUFTdEcsR0FDVixNQUFNLElBQUlxRyxVQUdkLE9BRktaLEVBQVkrQyxLQUNiQSxFQUFjZixFQUFjZSxJQW9QcEMsU0FBU1ksRUFBb0J4RCxFQUFhUCxFQUFHQyxHQUN6QyxJQUFJbEYsRUFBU3VGLEVBQXVCQyxFQUFhUCxFQUFHQyxHQUNwRCxHQUFJbEYsRUFDQSxPQUFPeUYsRUFBdUJELEVBQWFQLEVBQUdDLEdBQ2xELElBQUk2RCxFQUFTakIsRUFBdUI3QyxHQUNwQyxJQUFLMEIsRUFBT29DLEdBQ1IsT0FBT0MsRUFBb0J4RCxFQUFhdUQsRUFBUTdELEdBQ3BELE9BMVBPOEQsQ0FBb0JMLEVBQWEvSSxFQUFRd0ksS0E0Q3BEMUksRUFBUyxpQkFQVCxTQUF3QmlKLEVBQWEvSSxFQUFRd0ksR0FDekMsSUFBS2xDLEVBQVN0RyxHQUNWLE1BQU0sSUFBSXFHLFVBR2QsT0FGS1osRUFBWStDLEtBQ2JBLEVBQWNmLEVBQWNlLElBQ3pCM0MsRUFBdUJrRCxFQUFhL0ksRUFBUXdJLEtBMkN2RDFJLEVBQVMsa0JBUFQsU0FBeUJFLEVBQVF3SSxHQUM3QixJQUFLbEMsRUFBU3RHLEdBQ1YsTUFBTSxJQUFJcUcsVUFHZCxPQUZLWixFQUFZK0MsS0FDYkEsRUFBY2YsRUFBY2UsSUEwTHBDLFNBQVNhLEVBQXFCaEUsRUFBR0MsR0FDN0IsSUFBSWdFLEVBQVV0RCxFQUF3QlgsRUFBR0MsR0FDekMsSUFBSTZELEVBQVNqQixFQUF1QjdDLEdBQ3BDLEdBQWUsT0FBWDhELEVBQ0EsT0FBT0csRUFDWCxJQUFJQyxFQUFhRixFQUFxQkYsRUFBUTdELEdBQzlDLEdBQUlpRSxFQUFXMU4sUUFBVSxFQUNyQixPQUFPeU4sRUFDWCxHQUFJQSxFQUFRek4sUUFBVSxFQUNsQixPQUFPME4sRUFDWCxJQUFJeEcsRUFBTSxJQUFJVyxFQUNkLElBQUkzQixFQUFPLEdBQ1gsSUFBSyxJQUFJeUgsRUFBSyxFQUFHQyxFQUFZSCxFQUFTRSxFQUFLQyxFQUFVNU4sT0FBUTJOLElBQU0sQ0FDL0QsSUFBSS9LLEVBQU1nTCxFQUFVRCxHQUNQekcsRUFBSTlCLElBQUl4QyxLQUVqQnNFLEVBQUljLElBQUlwRixHQUNSc0QsRUFBSzVGLEtBQUtzQyxJQUdsQixJQUFLLElBQUlpTCxFQUFLLEVBQUdDLEVBQWVKLEVBQVlHLEVBQUtDLEVBQWE5TixPQUFRNk4sSUFBTSxDQUNwRWpMLEVBQU1rTCxFQUFhRCxHQUNWM0csRUFBSTlCLElBQUl4QyxLQUVqQnNFLEVBQUljLElBQUlwRixHQUNSc0QsRUFBSzVGLEtBQUtzQyxJQUdsQixPQUFPc0QsRUFyTkFzSCxDQUFxQnJKLEVBQVF3SSxLQTJDeEMxSSxFQUFTLHFCQVBULFNBQTRCRSxFQUFRd0ksR0FDaEMsSUFBS2xDLEVBQVN0RyxHQUNWLE1BQU0sSUFBSXFHLFVBR2QsT0FGS1osRUFBWStDLEtBQ2JBLEVBQWNmLEVBQWNlLElBQ3pCeEMsRUFBd0JoRyxFQUFRd0ksS0F3RDNDMUksRUFBUyxpQkFuQlQsU0FBd0JpSixFQUFhL0ksRUFBUXdJLEdBQ3pDLElBQUtsQyxFQUFTdEcsR0FDVixNQUFNLElBQUlxRyxVQUNUWixFQUFZK0MsS0FDYkEsRUFBY2YsRUFBY2UsSUFDaEMsSUFBSTlDLEVBQWNOLEVBQXVCcEYsRUFBUXdJLEdBQXdCLEdBQ3pFLEdBQUkvQyxFQUFZQyxHQUNaLE9BQU8sRUFDWCxJQUFLQSxFQUFZMUMsT0FBTytGLEdBQ3BCLE9BQU8sRUFDWCxHQUFJckQsRUFBWXpDLEtBQU8sRUFDbkIsT0FBTyxFQUNYLElBQUl1QyxFQUFpQjFCLEVBQVMvRixJQUFJaUMsR0FFbEMsT0FEQXdGLEVBQWV4QyxPQUFPd0YsR0FDbEJoRCxFQUFldkMsS0FBTyxJQUUxQmEsRUFBU2QsT0FBT2hELElBQ1QsS0F4ZlhOLENBQVFJLEdBWlosR0FISixDQTJsQ0dYLElBQWNBLEVBQVksS0FNN0IsU0FBV0MsR0FJUEEsRUFBa0IsS0FBSSxjQUl0QkEsRUFBeUIsWUFBSSxtQkFJN0JBLEVBQTJCLGNBQUkscUJBSS9CQSxFQUE0QixlQUFJLHVCQWhCcEMsQ0FpQkdBLElBQWdCQSxFQUFjOzs7Ozs7Ozs7Ozs7Ozs7QUFrQmpDLElBQUl3SyxFQUFnQixTQUFTbk0sRUFBR29NLEdBSTVCLE9BSEFELEVBQWdCOU4sT0FBT2dPLGdCQUNsQixDQUFFbEosVUFBVyxjQUFnQkMsT0FBUyxTQUFVcEQsRUFBR29NLEdBQUtwTSxFQUFFbUQsVUFBWWlKLElBQ3ZFLFNBQVVwTSxFQUFHb00sR0FBSyxJQUFLLElBQUkvSyxLQUFLK0ssRUFBT0EsRUFBRTdOLGVBQWU4QyxLQUFJckIsRUFBRXFCLEdBQUsrSyxFQUFFL0ssTUFDcERyQixFQUFHb00sSUFTNUIsSUFBSUUsRUFBVyxXQVFYLE9BUEFBLEVBQVdqTyxPQUFPa08sUUFBVSxTQUFrQjVMLEdBQzFDLElBQUssSUFBSW5CLEVBQUd0QixFQUFJLEVBQUdnRCxFQUFJc0wsVUFBVXBPLE9BQVFGLEVBQUlnRCxFQUFHaEQsSUFFNUMsSUFBSyxJQUFJbUQsS0FEVDdCLEVBQUlnTixVQUFVdE8sR0FDT0csT0FBT0MsVUFBVUMsZUFBZUMsS0FBS2dCLEVBQUc2QixLQUFJVixFQUFFVSxHQUFLN0IsRUFBRTZCLElBRTlFLE9BQU9WLElBRUs1QixNQUFNb0QsS0FBTXFLLFlBTTVCQyxFQUFnQyxXQUNoQyxTQUFTQSxLQW9GVCxPQTdFQUEsRUFBZUMsa0JBQW9CLFNBQVVDLEdBQ3pDLE9BQVFBLEdBQ0osS0FBS3ZKLE1BQ0QsTUFBTyxDQUNId0osS0FBTSxTQUVkLEtBQUtDLE9BQ0QsTUFBTyxDQUNIRCxLQUFNLFVBRWQsS0FBS0UsT0FDRCxNQUFPLENBQ0hGLEtBQU0sVUFFZCxLQUFLdk8sT0FDRCxNQUFPLENBQ0h1TyxLQUFNLFVBRWQsUUFDSSxNQUFPLENBQ0hBLEtBQU0sVUFZdEJILEVBQWVNLHNCQUF3QixTQUFVQyxFQUFlQyxFQUFhTixHQUN6RSxJQUFJTyxFQUFnQlosRUFBUyxHQUFJVSxFQUFlQyxHQUNoRCxHQUFJQyxFQUFjQyxLQUNkLE9BQU9ELEVBRVgsSUFBSUUsRUFBYVgsRUFBZUMsa0JBQWtCQyxHQUNsRCxPQUFPTCxFQUFTLEdBQUljLEVBQVlGLElBT3BDVCxFQUFlWSxxQkFBdUIsU0FBVS9PLEdBQzVDLE9BQU8wRCxRQUFRc0wsWUFBWTNMLEVBQVk0TCxjQUFlalAsSUFBYyxJQVF4RW1PLEVBQWVlLHFCQUF1QixTQUFVbFAsRUFBV21QLEdBQ3ZEekwsUUFBUTBMLGVBQWUvTCxFQUFZNEwsY0FBZUUsRUFBWW5QLElBU2xFbU8sRUFBZWtCLHdCQUEwQixTQUFVclAsRUFBVzBDLEVBQUtOLEdBRS9ELElBQUkrTSxFQUFhaEIsRUFBZVkscUJBQXFCL08sR0FFakRzUCxFQUFnQjVMLFFBQVFzTCxZQUFZM0wsRUFBWWtNLFlBQWF2UCxFQUFXMEMsSUFBUSxHQUVoRjhNLEVBQWE5TCxRQUFRc0wsWUFBWTNMLEVBQVlvTSxLQUFNelAsRUFBVzBDLEdBRTlEZ04sRUFBYXZCLEVBQWVNLHNCQUFzQmEsRUFBZWxOLEVBQU9vTixHQUU1RUwsRUFBV3pNLEdBQU9zTCxFQUFTLEdBQUttQixFQUFXek0sSUFBUSxHQUFLZ04sR0FDeER2QixFQUFlZSxxQkFBcUJsUCxFQUFXbVAsSUFFNUNoQixFQXJGd0IsR0F3Ri9Cd0IsRUFBTSxTQUFVaE8sR0FDaEIsTUFBTyxpRUFBbUVBLEdBSzFFaU8sRUFBcUMsU0FBVUMsR0FLL0MsU0FBU0QsRUFBb0IzTCxHQUN6QixJQUFJNkwsRUFBUUQsRUFBTzNQLEtBQUsyRCxLQUFNOEwsRUFBSTFMLEdBQVVBLEVBQU90QyxLQUFPc0MsRUFBT3RDLEtBQU9zQyxLQUFZSixLQUlwRixPQUhBa00sTUFBTTdQLEtBQUs0UCxHQUNYQyxNQUFNQyxrQkFBa0JGLEVBQU9BLEVBQU14RCxhQUNyQ3ZNLE9BQU9nTyxlQUFlK0IsRUFBT0YsRUFBb0I1UCxXQUMxQzhQLEVBRVgsT0E5SEosU0FBbUJwTyxFQUFHb00sR0FFbEIsU0FBU3ZCLElBQU8xSSxLQUFLeUksWUFBYzVLLEVBRG5DbU0sRUFBY25NLEVBQUdvTSxHQUVqQnBNLEVBQUUxQixVQUFrQixPQUFOOE4sRUFBYS9OLE9BQU8wQyxPQUFPcUwsSUFBTXZCLEVBQUd2TSxVQUFZOE4sRUFBRTlOLFVBQVcsSUFBSXVNLEdBZ0gvRTBELENBQVVMLEVBQXFCQyxHQVd4QkQsRUFaNkIsQ0FhdENHLE9BRUVHLEVBQ1MsU0FBVXJPLEdBQ2YsT0FBT0EsR0FBS0EsRUFBUSxNQUFLQSxFQUFhLFdBTzFDc08sRUFBaUMsV0FDakMsU0FBU0EsS0FvSFQsT0EzR0FBLEVBQWdCQyxzQkFBd0IsU0FBVW5NLEVBQVFvTSxFQUFhQyxHQUNuRSxJQUFJQyxHQUFVRCxFQUVkLEdBREFBLEVBQWFBLEdBQWNyTSxHQUN0Qm9NLEVBQWEsQ0FDZCxJQUFJRyxFQUFtQkMsRUFBYUMsaUJBQWlCSixJQUFlLEdBQ3BFRCxFQUFjRyxFQUFpQkgsYUFBZSxHQUVoQ0YsRUFBZ0JRLGNBQWMxTSxFQUFPdEMsS0FBTXNDLEVBQU9qRSxXQUN4RDRRLFFBQVEsU0FBVUMsR0FDMUIsSUFBSWxELEVBQ0FtRCxFQUFZRCxFQUFFRSxXQUNsQixJQUFLYixFQUFhWSxHQUNkLE1BQU0sSUFBSWxCLEVBQW9Ca0IsR0FFbEMsR0FBSUEsSUFBY1IsRUFBWSxDQUMxQixJQUFJVSxFQUFXYixFQUFnQmMsaUJBQWlCSCxHQUMzQ1QsRUFBWVcsS0FDYlgsRUFBWVcsR0FBWVAsRUFBYVMsc0JBQXNCSixFQUFXVCxFQUFhQyxJQUczRixJQUFJYSxFQUFZLENBQ1p0QyxLQUFNc0IsRUFBZ0JpQixZQUFZTixFQUFXUixJQUU3Q2xPLEVBQVF5TyxFQUFFUSxrQkFDUDFELEVBQUssSUFDRGtELEVBQUVRLGlCQUFtQkYsRUFDeEJ4RCxHQUFNd0QsRUFDZGhELEVBQWVrQix3QkFBd0JwTCxFQUFPakUsVUFBVzZRLEVBQUVuTyxJQUFLTixLQUVoRXJDLE9BQU9pRyxLQUFLcUssR0FBYXZRLFFBQVV5USxHQUNuQ0UsRUFBYWEsb0JBQW9CaEIsRUFBWSxDQUN6Q0QsWUFBYUEsS0FhekJGLEVBQWdCb0IsYUFBZSxTQUFVQyxFQUFpQi9FLEVBQWFnRixFQUFjQyxHQUNqRixJQUFJQyxFQUFZSCxFQUFnQmxGLFlBQVkzSyxLQUN4Q2lRLEVBQVksQ0FDWkQsVUFBV0EsRUFDWGpQLElBQUsrSixFQUNMNEUsZ0JBQWlCSSxFQUNqQlYsU0FBVVcsR0FFVkcsRUFBZTFCLEVBQWdCMkIsb0JBQW9CTixJQUFvQixHQUN2RU8sRUFBY0YsRUFBYUYsSUFBYyxHQUU3Q0ksRUFBY0EsRUFBWUMsT0FBTyxTQUFVbkIsR0FBSyxPQUFPQSxFQUFFbk8sTUFBUWtQLEVBQVVsUCxLQUFPbU8sRUFBRVEsa0JBQW9CTyxFQUFVUCxrQkFDbEhRLEVBQWFGLEdBQWFJLEVBQzFCQSxFQUFZM1IsS0FBS3dSLEdBQ2pCekIsRUFBZ0I4QixvQkFBb0JULEVBQWlCSyxJQVF6RDFCLEVBQWdCUSxjQUFnQixTQUFVZ0IsRUFBV0gsR0FFakQsT0FEbUJyQixFQUFnQjJCLG9CQUFvQk4sSUFBb0IsSUFDdkRHLElBQWMsSUFRdEN4QixFQUFnQmlCLFlBQWMsU0FBVW5OLEVBQVFxTSxHQUM1QyxPQUFJck0sSUFBV3FNLEVBQ0osSUFFSixpQkFBbUJILEVBQWdCYyxpQkFBaUJoTixJQU8vRGtNLEVBQWdCYyxpQkFBbUIsU0FBVWhOLEdBQ3pDLE1BQU8sSUFBTUEsRUFBT3RDLEtBQU8sS0FPL0J3TyxFQUFnQjJCLG9CQUFzQixTQUFVSSxHQUM1QyxPQUFPeE8sUUFBUXNMLFlBQVkzTCxFQUFZOE8sZUFBZ0JELElBUTNEL0IsRUFBZ0I4QixvQkFBc0IsU0FBVUMsRUFBaUJMLEdBQzdEbk8sUUFBUTBMLGVBQWUvTCxFQUFZOE8sZUFBZ0JOLEVBQWNLLElBRTlEL0IsRUFySHlCLEdBMkhoQ00sRUFBOEIsV0FDOUIsU0FBU0EsS0FtRFQsT0F6Q0FBLEVBQWFTLHNCQUF3QixTQUFVak4sRUFBUW9NLEVBQWFDLEdBQ2hFSCxFQUFnQkMsc0JBQXNCbk0sRUFBUW9NLEVBQWFDLEdBQzNELElBQUk4QixFQUFTM0IsRUFBYUMsaUJBQWlCek0sR0FDM0MsSUFBS21PLEVBQ0QsTUFBTSxJQUFJeEMsRUFBb0IzTCxHQUdsQyxPQURBbU8sRUFBT2pELFdBQWFoQixFQUFlWSxxQkFBcUI5SyxFQUFPakUsV0FDeERvUyxHQVFYM0IsRUFBYWEsb0JBQXNCLFNBQVVyTixFQUFRN0IsR0FDakQsSUFBSWlRLEVBRUo1QixFQUFhQyxpQkFBaUJ6TSxJQUUxQmtLLEVBQWVNLHNCQUFzQixHQUFJLEdBQUkxTyxRQUNqREEsT0FBT2tPLE9BQU9vRSxFQUFhalEsR0FDM0JxTyxFQUFhNkIsaUJBQWlCck8sRUFBUW9PLElBTzFDNUIsRUFBYUMsaUJBQW1CLFNBQVV6TSxHQUN0QyxPQUFPUCxRQUFRc0wsWUFBWTNMLEVBQVlrTSxZQUFhdEwsRUFBT2pFLFlBUS9EeVEsRUFBYTZCLGlCQUFtQixTQUFVck8sRUFBUW1PLEdBQzlDMU8sUUFBUTBMLGVBQWUvTCxFQUFZa00sWUFBYTZDLEVBQVFuTyxFQUFPakUsWUFFNUR5USxFQXBEc0IsR0EyRDdCOEIsRUFBMkIsV0FDM0IsU0FBU0EsS0F1QlQsT0FqQkFBLEVBQVVDLG1CQUFxQixTQUFVdk8sR0FDckMsT0FBT3dNLEVBQWFTLHNCQUFzQmpOLElBTzlDc08sRUFBVUUsNEJBQThCLFNBQVV4TyxHQUU5QyxJQURBLElBQUlpRyxFQUFNLEdBQ0R1RCxFQUFLLEVBQUdFLEVBQUs1TixPQUFPaUcsS0FBSy9CLEdBQVN3SixFQUFLRSxFQUFHN04sT0FBUTJOLElBQU0sQ0FDN0QsSUFBSWhELEVBQUlrRCxFQUFHRixHQUNQaE0sRUFBSXdDLEVBQU93RyxHQUNmUCxFQUFJTyxHQUFLOEgsRUFBVUMsbUJBQW1CL1EsR0FFMUMsT0FBT3lJLEdBRUpxSSxFQXhCbUIsR0EyQjFCRyxFQUFVLFNBQVV0USxHQUVwQixZQURjLElBQVZBLElBQW9CQSxFQUFRLElBQ3pCLFNBQVU2QixHQUNid00sRUFBYWEsb0JBQW9Cck4sRUFBUTdCLEtBR2pELFNBQVN1USxFQUFXQyxHQUVoQixHQUFtQixpQkFBUkEsRUFDUCxPQUFPRixFQUFRRSxHQUduQkYsSUFBVUUsR0FNZCxJQUFJQyxFQUFpQyxXQUNqQyxTQUFTQSxLQTRDVCxPQW5DQUEsRUFBZ0JDLGlCQUFtQixTQUFVQyxFQUFNQyxHQUMvQyxHQUFvQixJQUFoQkQsRUFBS2pULE9BQWMsQ0FDbkIsSUFBSXNDLEVBQVEyUSxFQUFLLEdBQ2pCLE9BQU9GLEVBQWdCSCxRQUFRTSxFQUFlNVEsR0FFbEQsSUFBSXBDLEVBQVkrUyxFQUFLLEdBQ2pCclEsRUFBTXFRLEVBQUssR0FDZkYsRUFBZ0JILFFBQVFNLEVBQXhCSCxDQUF1QzdTLEVBQVcwQyxJQVN0RG1RLEVBQWdCSCxRQUFVLFNBQVVNLEVBQWU1USxHQUcvQyxZQUZjLElBQVZBLElBQW9CQSxFQUFRLElBQ2hDQSxFQUFRNEwsRUFBUyxHQUFJZ0YsRUFBZTVRLEdBQzdCLFNBQVVwQyxFQUFXMEMsRUFBS29LLEdBQzdCLElBQUltRyxFQUFjLEdBRWxCbFQsT0FBT2lHLEtBQUs1RCxHQUFPd08sUUFBUSxTQUFVc0MsR0FDakMsSUFBSXpJLEVBQUl5SSxFQUNKQyxFQUFJL1EsRUFBTXFJLEdBQ0csbUJBQU4wSSxFQUNQaEQsRUFBZ0JvQixhQUFhdlIsRUFBVzBDLEVBQUsrSCxFQUFHMEksR0FHaERGLEVBQVl4SSxHQUFLMEksSUFHekJoRixFQUFla0Isd0JBQXdCclAsRUFBVzBDLEVBQUt1USxLQUd4REosRUE3Q3lCLEdBa0VwQyxTQUFTTyxJQUVMLElBREEsSUFBSUwsRUFBTyxHQUNGdEYsRUFBSyxFQUFHQSxFQUFLUyxVQUFVcE8sT0FBUTJOLElBQ3BDc0YsRUFBS3RGLEdBQU1TLFVBQVVULEdBRXpCLE9BQU9vRixFQUFnQkMsaUJBQWlCQyxFQUFNLENBQzFDekUsS0FBTSxXQXdCZCxTQUFTK0UsSUFFTCxJQURBLElBQUlOLEVBQU8sR0FDRnRGLEVBQUssRUFBR0EsRUFBS1MsVUFBVXBPLE9BQVEyTixJQUNwQ3NGLEVBQUt0RixHQUFNUyxVQUFVVCxHQUd6QixPQUFvQixJQUFoQnNGLEVBQUtqVCxRQUFtQyxtQkFBWmlULEVBQUssR0FDMUIsU0FBVS9TLEVBQVcwQyxFQUFLb0ssR0FDN0IsSUFBSXdHLEVBQVVQLEVBQUssR0FDbkI1QyxFQUFnQm9CLGFBQWF2UixFQUFXMEMsRUFBSyxLQUFNNFEsSUFHcERULEVBQWdCQyxpQkFBaUJDLEVBQU0sQ0FDMUN6RSxLQUFNLFdBOEJDLFEsZ2hCQy9vRGYsMkJBUUEsT0FMSSxHQURDLEksc0RBSUQsR0FEQyxJLG9EQUxRaUYsRUFBVyxHQUh2QixZQUF3QixDQUNyQkMsU0FBVSxDQUFDLFNBQVUsV0FFWkQsR0FBYixHLHFiQ0NBLDJCQVNBLE9BRkksR0FEQyxZQUFXLFdBQU0sVyxnQkFDVCxJLDhCQVBBRSxFQUFRLEdBSHBCLFlBQXFCLENBQ2xCRCxTQUFVLENBQUMsT0FBUSxNQUFPLGNBRWpCQyxHQUFiLEdDSE1DLEVBQWVDLFNBQVNDLGVBQWUsaUJBQ3ZDQyxFQUFZRixTQUFTQyxlQUFlLGNBQ3BDRSxFQUFjSCxTQUFTQyxlQUFlLGdCQU81QyxTQUFTRyxFQUFRQyxHQUNiRixFQUFZRyxVQUFVQyxPQUFPLFdBQzdCSixFQUFZRyxVQUFVbk0sSUFBSSxTQUUxQmdNLEVBQVlLLFVBQVksYUFBZUgsRUFBTzdPLElBQUksU0FBQXlGLEdBQUssT0FBQUEsRUFBRXdKLFNBQVcsT0FBU3hKLEVBQUV5SixVQUFTQyxLQUFLLFNBR2pHLFNBQVNDLEVBQVNuUyxFQUFlb1MsR0FFN0IsSUFDSSxJQUFNN1QsRUFBUzZULEVBQVdDLEtBQUtDLE1BQU10UyxJQUVyQ3VTLFFBQVFDLElBQUlqVSxHQUVSQSxFQUFPa1UsT0FsQmZmLEVBQVlHLFVBQVVDLE9BQU8sU0FDN0JKLEVBQVlHLFVBQVVuTSxJQUFJLFlBb0JsQmlNLEVBQVFwVCxFQUFPcVQsUUFFckIsTUFBT3BKLEdBQ0wrSixRQUFRaE8sTUFBTWlFLEdBQ2RtSixFQUFRLENBQUMsQ0FDTEssU0FBVXhKLEVBQUVqSixLQUNaMFMsUUFBU3pKLEVBQUV5SixZQzdCdkIsSUFBTWpDLEVBQVMsSUFBVUksbUJBQW1CLEdBQzVDbUMsUUFBUUMsSUFBSXhDLEdBR1osSUFDTTBDLEdBRE0sSUFBSSxLQUNLQyxRQUFRM0MsSUQ2QnRCLFNBQWlCQSxFQUFnQjRDLEVBQXFCUixHQUV6RGQsRUFBYXVCLFVBQVlSLEtBQUtTLFVBQVU5QyxPQUFRaE4sRUFBVyxNQUUzRHlPLEVBQVVzQixRQUFVLFNBQUF2SyxHQUdoQjJKLEVBRk8sZ0JBQUFuUyxNQUVTb1MsSUFHcEJYLEVBQVV6UixNQUFRcVMsS0FBS1MsVUFBVUYsT0FBYTVQLEVBQVcsTUFFekRtUCxFQUFTVixFQUFVelIsTUFBT29TLEdDcEI5QlksQ0FBUWhELEVBbkJzQixDQUMxQnpRLEtBQU0sT0FDTjBULElBQUssR0FDTEMsUUFBUyxDQUNMQyxLQUFNLFFBQ05DLE9BQVEsd0JBS2hCLFNBQW9CbFcsR0FHaEIsTUFBTyxDQUNIdVYsTUFIVUMsRUFBU3hWLEdBSW5CMFUsT0FBUWMsRUFBU2QsUUFBVSIsImZpbGUiOiJtYWluLjJkZjQxNWMxY2I5MTI3MjEwZWUxLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQwOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFs0OSwxXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsInZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9O1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoQykgTWljcm9zb2Z0LiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcblxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXG5cblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbnZhciBSZWZsZWN0JDE7XG4oZnVuY3Rpb24gKFJlZmxlY3QpIHtcbiAgICAvLyBNZXRhZGF0YSBQcm9wb3NhbFxuICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvXG4gICAgKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgICAgIHZhciByb290ID0gdHlwZW9mIGNvbW1vbmpzR2xvYmFsID09PSBcIm9iamVjdFwiID8gY29tbW9uanNHbG9iYWwgOlxuICAgICAgICAgICAgdHlwZW9mIHNlbGYgPT09IFwib2JqZWN0XCIgPyBzZWxmIDpcbiAgICAgICAgICAgICAgICB0eXBlb2YgdGhpcyA9PT0gXCJvYmplY3RcIiA/IHRoaXMgOlxuICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbihcInJldHVybiB0aGlzO1wiKSgpO1xuICAgICAgICB2YXIgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIoUmVmbGVjdCk7XG4gICAgICAgIGlmICh0eXBlb2Ygcm9vdC5SZWZsZWN0ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByb290LlJlZmxlY3QgPSBSZWZsZWN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXhwb3J0ZXIgPSBtYWtlRXhwb3J0ZXIocm9vdC5SZWZsZWN0LCBleHBvcnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgZmFjdG9yeShleHBvcnRlcik7XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VFeHBvcnRlcih0YXJnZXQsIHByZXZpb3VzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldFtrZXldICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzKVxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91cyhrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KShmdW5jdGlvbiAoZXhwb3J0ZXIpIHtcbiAgICAgICAgdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gICAgICAgIC8vIGZlYXR1cmUgdGVzdCBmb3IgU3ltYm9sIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzU3ltYm9sID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB2YXIgdG9QcmltaXRpdmVTeW1ib2wgPSBzdXBwb3J0c1N5bWJvbCAmJiB0eXBlb2YgU3ltYm9sLnRvUHJpbWl0aXZlICE9PSBcInVuZGVmaW5lZFwiID8gU3ltYm9sLnRvUHJpbWl0aXZlIDogXCJAQHRvUHJpbWl0aXZlXCI7XG4gICAgICAgIHZhciBpdGVyYXRvclN5bWJvbCA9IHN1cHBvcnRzU3ltYm9sICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgIT09IFwidW5kZWZpbmVkXCIgPyBTeW1ib2wuaXRlcmF0b3IgOiBcIkBAaXRlcmF0b3JcIjtcbiAgICAgICAgdmFyIHN1cHBvcnRzQ3JlYXRlID0gdHlwZW9mIE9iamVjdC5jcmVhdGUgPT09IFwiZnVuY3Rpb25cIjsgLy8gZmVhdHVyZSB0ZXN0IGZvciBPYmplY3QuY3JlYXRlIHN1cHBvcnRcbiAgICAgICAgdmFyIHN1cHBvcnRzUHJvdG8gPSB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5OyAvLyBmZWF0dXJlIHRlc3QgZm9yIF9fcHJvdG9fXyBzdXBwb3J0XG4gICAgICAgIHZhciBkb3duTGV2ZWwgPSAhc3VwcG9ydHNDcmVhdGUgJiYgIXN1cHBvcnRzUHJvdG87XG4gICAgICAgIHZhciBIYXNoTWFwID0ge1xuICAgICAgICAgICAgLy8gY3JlYXRlIGFuIG9iamVjdCBpbiBkaWN0aW9uYXJ5IG1vZGUgKGEuay5hLiBcInNsb3dcIiBtb2RlIGluIHY4KVxuICAgICAgICAgICAgY3JlYXRlOiBzdXBwb3J0c0NyZWF0ZVxuICAgICAgICAgICAgICAgID8gZnVuY3Rpb24gKCkgeyByZXR1cm4gTWFrZURpY3Rpb25hcnkoT2JqZWN0LmNyZWF0ZShudWxsKSk7IH1cbiAgICAgICAgICAgICAgICA6IHN1cHBvcnRzUHJvdG9cbiAgICAgICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7IHJldHVybiBNYWtlRGljdGlvbmFyeSh7IF9fcHJvdG9fXzogbnVsbCB9KTsgfVxuICAgICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIE1ha2VEaWN0aW9uYXJ5KHt9KTsgfSxcbiAgICAgICAgICAgIGhhczogZG93bkxldmVsXG4gICAgICAgICAgICAgICAgPyBmdW5jdGlvbiAobWFwLCBrZXkpIHsgcmV0dXJuIGhhc093bi5jYWxsKG1hcCwga2V5KTsgfVxuICAgICAgICAgICAgICAgIDogZnVuY3Rpb24gKG1hcCwga2V5KSB7IHJldHVybiBrZXkgaW4gbWFwOyB9LFxuICAgICAgICAgICAgZ2V0OiBkb3duTGV2ZWxcbiAgICAgICAgICAgICAgICA/IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gaGFzT3duLmNhbGwobWFwLCBrZXkpID8gbWFwW2tleV0gOiB1bmRlZmluZWQ7IH1cbiAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIChtYXAsIGtleSkgeyByZXR1cm4gbWFwW2tleV07IH0sXG4gICAgICAgIH07XG4gICAgICAgIC8vIExvYWQgZ2xvYmFsIG9yIHNoaW0gdmVyc2lvbnMgb2YgTWFwLCBTZXQsIGFuZCBXZWFrTWFwXG4gICAgICAgIHZhciBmdW5jdGlvblByb3RvdHlwZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihGdW5jdGlvbik7XG4gICAgICAgIHZhciB1c2VQb2x5ZmlsbCA9IHR5cGVvZiBwcm9jZXNzID09PSBcIm9iamVjdFwiICYmIHByb2Nlc3MuZW52ICYmIHByb2Nlc3MuZW52W1wiUkVGTEVDVF9NRVRBREFUQV9VU0VfTUFQX1BPTFlGSUxMXCJdID09PSBcInRydWVcIjtcbiAgICAgICAgdmFyIF9NYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIE1hcCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBNYXAucHJvdG90eXBlLmVudHJpZXMgPT09IFwiZnVuY3Rpb25cIiA/IE1hcCA6IENyZWF0ZU1hcFBvbHlmaWxsKCk7XG4gICAgICAgIHZhciBfU2V0ID0gIXVzZVBvbHlmaWxsICYmIHR5cGVvZiBTZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU2V0LnByb3RvdHlwZS5lbnRyaWVzID09PSBcImZ1bmN0aW9uXCIgPyBTZXQgOiBDcmVhdGVTZXRQb2x5ZmlsbCgpO1xuICAgICAgICB2YXIgX1dlYWtNYXAgPSAhdXNlUG9seWZpbGwgJiYgdHlwZW9mIFdlYWtNYXAgPT09IFwiZnVuY3Rpb25cIiA/IFdlYWtNYXAgOiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKTtcbiAgICAgICAgLy8gW1tNZXRhZGF0YV1dIGludGVybmFsIHNsb3RcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnktb2JqZWN0LWludGVybmFsLW1ldGhvZHMtYW5kLWludGVybmFsLXNsb3RzXG4gICAgICAgIHZhciBNZXRhZGF0YSA9IG5ldyBfV2Vha01hcCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXBwbGllcyBhIHNldCBvZiBkZWNvcmF0b3JzIHRvIGEgcHJvcGVydHkgb2YgYSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gZGVjb3JhdG9ycyBBbiBhcnJheSBvZiBkZWNvcmF0b3JzLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IHRvIGRlY29yYXRlLlxuICAgICAgICAgKiBAcGFyYW0gYXR0cmlidXRlcyAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIGZvciB0aGUgdGFyZ2V0IGtleS5cbiAgICAgICAgICogQHJlbWFya3MgRGVjb3JhdG9ycyBhcmUgYXBwbGllZCBpbiByZXZlcnNlIG9yZGVyLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBFeGFtcGxlID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzQXJyYXksIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgIFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9yc0FycmF5LCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiLFxuICAgICAgICAgKiAgICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIixcbiAgICAgICAgICogICAgICAgICBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnNBcnJheSwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIsXG4gICAgICAgICAqICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpKSk7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBkZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIHByb3BlcnR5S2V5LCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNBcnJheShkZWNvcmF0b3JzKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoYXR0cmlidXRlcykgJiYgIUlzVW5kZWZpbmVkKGF0dHJpYnV0ZXMpICYmICFJc051bGwoYXR0cmlidXRlcykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoSXNOdWxsKGF0dHJpYnV0ZXMpKVxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERlY29yYXRlUHJvcGVydHkoZGVjb3JhdG9ycywgdGFyZ2V0LCBwcm9wZXJ0eUtleSwgYXR0cmlidXRlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQXJyYXkoZGVjb3JhdG9ycykpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzQ29uc3RydWN0b3IodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBEZWNvcmF0ZUNvbnN0cnVjdG9yKGRlY29yYXRvcnMsIHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWNvcmF0ZVwiLCBkZWNvcmF0ZSk7XG4gICAgICAgIC8vIDQuMS4yIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI3JlZmxlY3QubWV0YWRhdGFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGVmYXVsdCBtZXRhZGF0YSBkZWNvcmF0b3IgZmFjdG9yeSB0aGF0IGNhbiBiZSB1c2VkIG9uIGEgY2xhc3MsIGNsYXNzIG1lbWJlciwgb3IgcGFyYW1ldGVyLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgVGhlIGtleSBmb3IgdGhlIG1ldGFkYXRhIGVudHJ5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFWYWx1ZSBUaGUgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBlbnRyeS5cbiAgICAgICAgICogQHJldHVybnMgQSBkZWNvcmF0b3IgZnVuY3Rpb24uXG4gICAgICAgICAqIEByZW1hcmtzXG4gICAgICAgICAqIElmIGBtZXRhZGF0YUtleWAgaXMgYWxyZWFkeSBkZWZpbmVkIGZvciB0aGUgdGFyZ2V0IGFuZCB0YXJnZXQga2V5LCB0aGVcbiAgICAgICAgICogbWV0YWRhdGFWYWx1ZSBmb3IgdGhhdCBrZXkgd2lsbCBiZSBvdmVyd3JpdHRlbi5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IsIFR5cGVTY3JpcHQgb25seSlcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIEBSZWZsZWN0Lm1ldGFkYXRhKGtleSwgdmFsdWUpXG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSwgVHlwZVNjcmlwdCBvbmx5KVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBwcm9wZXJ0eTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICBAUmVmbGVjdC5tZXRhZGF0YShrZXksIHZhbHVlKVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgQFJlZmxlY3QubWV0YWRhdGEoa2V5LCB2YWx1ZSlcbiAgICAgICAgICogICAgICAgICBtZXRob2QoKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBkZWNvcmF0b3IodGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpICYmICFJc1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUsIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlY29yYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcIm1ldGFkYXRhXCIsIG1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmluZSBhIHVuaXF1ZSBtZXRhZGF0YSBlbnRyeSBvbiB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBtZXRhZGF0YVZhbHVlIEEgdmFsdWUgdGhhdCBjb250YWlucyBhdHRhY2hlZCBtZXRhZGF0YS5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0byBkZWZpbmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgb3B0aW9ucywgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBvcHRpb25zLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBkZWNvcmF0b3IgZmFjdG9yeSBhcyBtZXRhZGF0YS1wcm9kdWNpbmcgYW5ub3RhdGlvbi5cbiAgICAgICAgICogICAgIGZ1bmN0aW9uIE15QW5ub3RhdGlvbihvcHRpb25zKTogRGVjb3JhdG9yIHtcbiAgICAgICAgICogICAgICAgICByZXR1cm4gKHRhcmdldCwga2V5PykgPT4gUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIG9wdGlvbnMsIHRhcmdldCwga2V5KTtcbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRlZmluZU1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeURlZmluZU93bk1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlLCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImRlZmluZU1ldGFkYXRhXCIsIGRlZmluZU1ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbiBoYXMgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEga2V5IHdhcyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0IG9yIGl0cyBwcm90b3R5cGUgY2hhaW47IG90aGVyd2lzZSwgYGZhbHNlYC5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljUHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuaGFzTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUucHJvdG90eXBlLCBcIm1ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KSB7XG4gICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHRhcmdldCkpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgaWYgKCFJc1VuZGVmaW5lZChwcm9wZXJ0eUtleSkpXG4gICAgICAgICAgICAgICAgcHJvcGVydHlLZXkgPSBUb1Byb3BlcnR5S2V5KHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKG1ldGFkYXRhS2V5LCB0YXJnZXQsIHByb3BlcnR5S2V5KTtcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRlcihcImhhc01ldGFkYXRhXCIsIGhhc01ldGFkYXRhKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgYSB2YWx1ZSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHRhcmdldCBvYmplY3QgaGFzIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG1ldGFkYXRhIGtleSB3YXMgZGVmaW5lZCBvbiB0aGUgdGFyZ2V0IG9iamVjdDsgb3RoZXJ3aXNlLCBgZmFsc2VgLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5oYXNPd25NZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0Lmhhc093bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5SGFzT3duTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiaGFzT3duTWV0YWRhdGFcIiwgaGFzT3duTWV0YWRhdGEpO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBwcm92aWRlZCBtZXRhZGF0YSBrZXkgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRNZXRhZGF0YVwiLCBnZXRNZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSB2YWx1ZSBmb3IgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIGtleSBvbiB0aGUgdGFyZ2V0IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIG1ldGFkYXRhS2V5IEEga2V5IHVzZWQgdG8gc3RvcmUgYW5kIHJldHJpZXZlIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgbWV0YWRhdGEgdmFsdWUgZm9yIHRoZSBtZXRhZGF0YSBrZXkgaWYgZm91bmQ7IG90aGVyd2lzZSwgYHVuZGVmaW5lZGAuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNNZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGEoXCJjdXN0b206YW5ub3RhdGlvblwiLCBFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRPd25NZXRhZGF0YShtZXRhZGF0YUtleSwgdGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YVwiLCBnZXRPd25NZXRhZGF0YSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBtZXRhZGF0YSBrZXlzIGRlZmluZWQgb24gdGhlIHRhcmdldCBvYmplY3Qgb3IgaXRzIHByb3RvdHlwZSBjaGFpbi5cbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgdGFyZ2V0IG9iamVjdCBvbiB3aGljaCB0aGUgbWV0YWRhdGEgaXMgZGVmaW5lZC5cbiAgICAgICAgICogQHBhcmFtIHByb3BlcnR5S2V5IChPcHRpb25hbCkgVGhlIHByb3BlcnR5IGtleSBmb3IgdGhlIHRhcmdldC5cbiAgICAgICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgdW5pcXVlIG1ldGFkYXRhIGtleXMuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqXG4gICAgICAgICAqICAgICBjbGFzcyBFeGFtcGxlIHtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eSBkZWNsYXJhdGlvbnMgYXJlIG5vdCBwYXJ0IG9mIEVTNiwgdGhvdWdoIHRoZXkgYXJlIHZhbGlkIGluIFR5cGVTY3JpcHQ6XG4gICAgICAgICAqICAgICAgICAgLy8gc3RhdGljIHN0YXRpY1Byb3BlcnR5O1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5O1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgICAgIGNvbnN0cnVjdG9yKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIHN0YXRpYyBzdGF0aWNNZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgbWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgfVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gY29uc3RydWN0b3JcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0TWV0YWRhdGFLZXlzKEV4YW1wbGUpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJwcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY01ldGhvZFwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIG1ldGhvZCAob24gcHJvdG90eXBlKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRNZXRhZGF0YUtleXMoRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgcmV0dXJuIE9yZGluYXJ5TWV0YWRhdGFLZXlzKHRhcmdldCwgcHJvcGVydHlLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGV4cG9ydGVyKFwiZ2V0TWV0YWRhdGFLZXlzXCIsIGdldE1ldGFkYXRhS2V5cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSB1bmlxdWUgbWV0YWRhdGEga2V5cyBkZWZpbmVkIG9uIHRoZSB0YXJnZXQgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSB0YXJnZXQgb2JqZWN0IG9uIHdoaWNoIHRoZSBtZXRhZGF0YSBpcyBkZWZpbmVkLlxuICAgICAgICAgKiBAcGFyYW0gcHJvcGVydHlLZXkgKE9wdGlvbmFsKSBUaGUgcHJvcGVydHkga2V5IGZvciB0aGUgdGFyZ2V0LlxuICAgICAgICAgKiBAcmV0dXJucyBBbiBhcnJheSBvZiB1bmlxdWUgbWV0YWRhdGEga2V5cy5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIGNsYXNzIEV4YW1wbGUge1xuICAgICAgICAgKiAgICAgICAgIC8vIHByb3BlcnR5IGRlY2xhcmF0aW9ucyBhcmUgbm90IHBhcnQgb2YgRVM2LCB0aG91Z2ggdGhleSBhcmUgdmFsaWQgaW4gVHlwZVNjcmlwdDpcbiAgICAgICAgICogICAgICAgICAvLyBzdGF0aWMgc3RhdGljUHJvcGVydHk7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAgICAgY29uc3RydWN0b3IocCkgeyB9XG4gICAgICAgICAqICAgICAgICAgc3RhdGljIHN0YXRpY01ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgICAgICBtZXRob2QocCkgeyB9XG4gICAgICAgICAqICAgICB9XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBjb25zdHJ1Y3RvclxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5nZXRPd25NZXRhZGF0YUtleXMoRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLCBcInN0YXRpY1Byb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gcHJvcGVydHkgKG9uIHByb3RvdHlwZSlcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUucHJvdG90eXBlLCBcInByb3BlcnR5XCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBjb25zdHJ1Y3RvcilcbiAgICAgICAgICogICAgIHJlc3VsdCA9IFJlZmxlY3QuZ2V0T3duTWV0YWRhdGFLZXlzKEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmdldE93bk1ldGFkYXRhS2V5cyhFeGFtcGxlLnByb3RvdHlwZSwgXCJtZXRob2RcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSkge1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdCh0YXJnZXQpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIGlmICghSXNVbmRlZmluZWQocHJvcGVydHlLZXkpKVxuICAgICAgICAgICAgICAgIHByb3BlcnR5S2V5ID0gVG9Qcm9wZXJ0eUtleShwcm9wZXJ0eUtleSk7XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlPd25NZXRhZGF0YUtleXModGFyZ2V0LCBwcm9wZXJ0eUtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJnZXRPd25NZXRhZGF0YUtleXNcIiwgZ2V0T3duTWV0YWRhdGFLZXlzKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGV0ZXMgdGhlIG1ldGFkYXRhIGVudHJ5IGZyb20gdGhlIHRhcmdldCBvYmplY3Qgd2l0aCB0aGUgcHJvdmlkZWQga2V5LlxuICAgICAgICAgKiBAcGFyYW0gbWV0YWRhdGFLZXkgQSBrZXkgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgbWV0YWRhdGEuXG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIHRhcmdldCBvYmplY3Qgb24gd2hpY2ggdGhlIG1ldGFkYXRhIGlzIGRlZmluZWQuXG4gICAgICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSAoT3B0aW9uYWwpIFRoZSBwcm9wZXJ0eSBrZXkgZm9yIHRoZSB0YXJnZXQuXG4gICAgICAgICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgbWV0YWRhdGEgZW50cnkgd2FzIGZvdW5kIGFuZCBkZWxldGVkOyBvdGhlcndpc2UsIGZhbHNlLlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgY2xhc3MgRXhhbXBsZSB7XG4gICAgICAgICAqICAgICAgICAgLy8gcHJvcGVydHkgZGVjbGFyYXRpb25zIGFyZSBub3QgcGFydCBvZiBFUzYsIHRob3VnaCB0aGV5IGFyZSB2YWxpZCBpbiBUeXBlU2NyaXB0OlxuICAgICAgICAgKiAgICAgICAgIC8vIHN0YXRpYyBzdGF0aWNQcm9wZXJ0eTtcbiAgICAgICAgICogICAgICAgICAvLyBwcm9wZXJ0eTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgICAgICBjb25zdHJ1Y3RvcihwKSB7IH1cbiAgICAgICAgICogICAgICAgICBzdGF0aWMgc3RhdGljTWV0aG9kKHApIHsgfVxuICAgICAgICAgKiAgICAgICAgIG1ldGhvZChwKSB7IH1cbiAgICAgICAgICogICAgIH1cbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIGNvbnN0cnVjdG9yXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSk7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBwcm9wZXJ0eSAob24gY29uc3RydWN0b3IpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZSwgXCJzdGF0aWNQcm9wZXJ0eVwiKTtcbiAgICAgICAgICpcbiAgICAgICAgICogICAgIC8vIHByb3BlcnR5IChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwicHJvcGVydHlcIik7XG4gICAgICAgICAqXG4gICAgICAgICAqICAgICAvLyBtZXRob2QgKG9uIGNvbnN0cnVjdG9yKVxuICAgICAgICAgKiAgICAgcmVzdWx0ID0gUmVmbGVjdC5kZWxldGVNZXRhZGF0YShcImN1c3RvbTphbm5vdGF0aW9uXCIsIEV4YW1wbGUsIFwic3RhdGljTWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAgICAgLy8gbWV0aG9kIChvbiBwcm90b3R5cGUpXG4gICAgICAgICAqICAgICByZXN1bHQgPSBSZWZsZWN0LmRlbGV0ZU1ldGFkYXRhKFwiY3VzdG9tOmFubm90YXRpb25cIiwgRXhhbXBsZS5wcm90b3R5cGUsIFwibWV0aG9kXCIpO1xuICAgICAgICAgKlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZGVsZXRlTWV0YWRhdGEobWV0YWRhdGFLZXksIHRhcmdldCwgcHJvcGVydHlLZXkpIHtcbiAgICAgICAgICAgIGlmICghSXNPYmplY3QodGFyZ2V0KSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKHByb3BlcnR5S2V5KSlcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eUtleSA9IFRvUHJvcGVydHlLZXkocHJvcGVydHlLZXkpO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcCh0YXJnZXQsIHByb3BlcnR5S2V5LCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYgKCFtZXRhZGF0YU1hcC5kZWxldGUobWV0YWRhdGFLZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YU1hcC5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIHZhciB0YXJnZXRNZXRhZGF0YSA9IE1ldGFkYXRhLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgdGFyZ2V0TWV0YWRhdGEuZGVsZXRlKHByb3BlcnR5S2V5KTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRNZXRhZGF0YS5zaXplID4gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIE1ldGFkYXRhLmRlbGV0ZSh0YXJnZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0ZXIoXCJkZWxldGVNZXRhZGF0YVwiLCBkZWxldGVNZXRhZGF0YSk7XG4gICAgICAgIGZ1bmN0aW9uIERlY29yYXRlQ29uc3RydWN0b3IoZGVjb3JhdG9ycywgdGFyZ2V0KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0b3IgPSBkZWNvcmF0b3JzW2ldO1xuICAgICAgICAgICAgICAgIHZhciBkZWNvcmF0ZWQgPSBkZWNvcmF0b3IodGFyZ2V0KTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNDb25zdHJ1Y3RvcihkZWNvcmF0ZWQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBkZWNvcmF0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBEZWNvcmF0ZVByb3BlcnR5KGRlY29yYXRvcnMsIHRhcmdldCwgcHJvcGVydHlLZXksIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRvciA9IGRlY29yYXRvcnNbaV07XG4gICAgICAgICAgICAgICAgdmFyIGRlY29yYXRlZCA9IGRlY29yYXRvcih0YXJnZXQsIHByb3BlcnR5S2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgICAgICAgICBpZiAoIUlzVW5kZWZpbmVkKGRlY29yYXRlZCkgJiYgIUlzTnVsbChkZWNvcmF0ZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QoZGVjb3JhdGVkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvciA9IGRlY29yYXRlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvcjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIENyZWF0ZSkge1xuICAgICAgICAgICAgdmFyIHRhcmdldE1ldGFkYXRhID0gTWV0YWRhdGEuZ2V0KE8pO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKHRhcmdldE1ldGFkYXRhKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRhcmdldE1ldGFkYXRhID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICBNZXRhZGF0YS5zZXQoTywgdGFyZ2V0TWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gdGFyZ2V0TWV0YWRhdGEuZ2V0KFApO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSkge1xuICAgICAgICAgICAgICAgIGlmICghQ3JlYXRlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhTWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRNZXRhZGF0YS5zZXQoUCwgbWV0YWRhdGFNYXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhTWFwO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4xLjEgT3JkaW5hcnlIYXNNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTyk7XG4gICAgICAgICAgICBpZiAoIUlzTnVsbChwYXJlbnQpKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUhhc01ldGFkYXRhKE1ldGFkYXRhS2V5LCBwYXJlbnQsIFApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4yLjEgT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnloYXNvd25tZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUhhc093bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGFNYXAgPSBHZXRPckNyZWF0ZU1ldGFkYXRhTWFwKE8sIFAsIC8qQ3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgaWYgKElzVW5kZWZpbmVkKG1ldGFkYXRhTWFwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gVG9Cb29sZWFuKG1ldGFkYXRhTWFwLmhhcyhNZXRhZGF0YUtleSkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIDMuMS4zLjEgT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUClcbiAgICAgICAgLy8gaHR0cHM6Ly9yYnVja3Rvbi5naXRodWIuaW8vcmVmbGVjdC1tZXRhZGF0YS8jb3JkaW5hcnlnZXRtZXRhZGF0YVxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldE1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKSB7XG4gICAgICAgICAgICB2YXIgaGFzT3duID0gT3JkaW5hcnlIYXNPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTywgUCk7XG4gICAgICAgICAgICBpZiAoaGFzT3duKVxuICAgICAgICAgICAgICAgIHJldHVybiBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKTtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pO1xuICAgICAgICAgICAgaWYgKCFJc051bGwocGFyZW50KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlHZXRNZXRhZGF0YShNZXRhZGF0YUtleSwgcGFyZW50LCBQKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjQuMSBPcmRpbmFyeUdldE93bk1ldGFkYXRhKE1ldGFkYXRhS2V5LCBPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeWdldG93bm1ldGFkYXRhXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5R2V0T3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE8sIFApIHtcbiAgICAgICAgICAgIHZhciBtZXRhZGF0YU1hcCA9IEdldE9yQ3JlYXRlTWV0YWRhdGFNYXAoTywgUCwgLypDcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICBpZiAoSXNVbmRlZmluZWQobWV0YWRhdGFNYXApKVxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gbWV0YWRhdGFNYXAuZ2V0KE1ldGFkYXRhS2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNS4xIE9yZGluYXJ5RGVmaW5lT3duTWV0YWRhdGEoTWV0YWRhdGFLZXksIE1ldGFkYXRhVmFsdWUsIE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5ZGVmaW5lb3dubWV0YWRhdGFcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlEZWZpbmVPd25NZXRhZGF0YShNZXRhZGF0YUtleSwgTWV0YWRhdGFWYWx1ZSwgTywgUCkge1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIHRydWUpO1xuICAgICAgICAgICAgbWV0YWRhdGFNYXAuc2V0KE1ldGFkYXRhS2V5LCBNZXRhZGF0YVZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjEuNi4xIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApXG4gICAgICAgIC8vIGh0dHBzOi8vcmJ1Y2t0b24uZ2l0aHViLmlvL3JlZmxlY3QtbWV0YWRhdGEvI29yZGluYXJ5bWV0YWRhdGFrZXlzXG4gICAgICAgIGZ1bmN0aW9uIE9yZGluYXJ5TWV0YWRhdGFLZXlzKE8sIFApIHtcbiAgICAgICAgICAgIHZhciBvd25LZXlzID0gT3JkaW5hcnlPd25NZXRhZGF0YUtleXMoTywgUCk7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gT3JkaW5hcnlHZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG93bktleXM7XG4gICAgICAgICAgICB2YXIgcGFyZW50S2V5cyA9IE9yZGluYXJ5TWV0YWRhdGFLZXlzKHBhcmVudCwgUCk7XG4gICAgICAgICAgICBpZiAocGFyZW50S2V5cy5sZW5ndGggPD0gMClcbiAgICAgICAgICAgICAgICByZXR1cm4gb3duS2V5cztcbiAgICAgICAgICAgIGlmIChvd25LZXlzLmxlbmd0aCA8PSAwKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnRLZXlzO1xuICAgICAgICAgICAgdmFyIHNldCA9IG5ldyBfU2V0KCk7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBvd25LZXlzXzEgPSBvd25LZXlzOyBfaSA8IG93bktleXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gb3duS2V5c18xW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBwYXJlbnRLZXlzXzEgPSBwYXJlbnRLZXlzOyBfYSA8IHBhcmVudEtleXNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gcGFyZW50S2V5c18xW19hXTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzS2V5ID0gc2V0LmhhcyhrZXkpO1xuICAgICAgICAgICAgICAgIGlmICghaGFzS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHNldC5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gMy4xLjcuMSBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKVxuICAgICAgICAvLyBodHRwczovL3JidWNrdG9uLmdpdGh1Yi5pby9yZWZsZWN0LW1ldGFkYXRhLyNvcmRpbmFyeW93bm1ldGFkYXRha2V5c1xuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeU93bk1ldGFkYXRhS2V5cyhPLCBQKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhTWFwID0gR2V0T3JDcmVhdGVNZXRhZGF0YU1hcChPLCBQLCAvKkNyZWF0ZSovIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChJc1VuZGVmaW5lZChtZXRhZGF0YU1hcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICB2YXIga2V5c09iaiA9IG1ldGFkYXRhTWFwLmtleXMoKTtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IEdldEl0ZXJhdG9yKGtleXNPYmopO1xuICAgICAgICAgICAgdmFyIGsgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IEl0ZXJhdG9yU3RlcChpdGVyYXRvcik7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXMubGVuZ3RoID0gaztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBuZXh0VmFsdWUgPSBJdGVyYXRvclZhbHVlKG5leHQpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGtleXNba10gPSBuZXh0VmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDYgRUNNQVNjcmlwdCBEYXRhIFR5cDBlcyBhbmQgVmFsdWVzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtZGF0YS10eXBlcy1hbmQtdmFsdWVzXG4gICAgICAgIGZ1bmN0aW9uIFR5cGUoeCkge1xuICAgICAgICAgICAgaWYgKHggPT09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDEgLyogTnVsbCAqLztcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6IHJldHVybiAwIC8qIFVuZGVmaW5lZCAqLztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOiByZXR1cm4gMiAvKiBCb29sZWFuICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjogcmV0dXJuIDMgLyogU3RyaW5nICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjogcmV0dXJuIDQgLyogU3ltYm9sICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjogcmV0dXJuIDUgLyogTnVtYmVyICovO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjogcmV0dXJuIHggPT09IG51bGwgPyAxIC8qIE51bGwgKi8gOiA2IC8qIE9iamVjdCAqLztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gNiAvKiBPYmplY3QgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjEgVGhlIFVuZGVmaW5lZCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtdW5kZWZpbmVkLXR5cGVcbiAgICAgICAgZnVuY3Rpb24gSXNVbmRlZmluZWQoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHggPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuMiBUaGUgTnVsbCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMtbnVsbC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzTnVsbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4geCA9PT0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICAvLyA2LjEuNSBUaGUgU3ltYm9sIFR5cGVcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtZWNtYXNjcmlwdC1sYW5ndWFnZS10eXBlcy1zeW1ib2wtdHlwZVxuICAgICAgICBmdW5jdGlvbiBJc1N5bWJvbCh4KSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09IFwic3ltYm9sXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNi4xLjcgVGhlIE9iamVjdCBUeXBlXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9iamVjdC10eXBlXG4gICAgICAgIGZ1bmN0aW9uIElzT2JqZWN0KHgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiA/IHggIT09IG51bGwgOiB0eXBlb2YgeCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMSBUeXBlIENvbnZlcnNpb25cbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdHlwZS1jb252ZXJzaW9uXG4gICAgICAgIC8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3ByaW1pdGl2ZVxuICAgICAgICBmdW5jdGlvbiBUb1ByaW1pdGl2ZShpbnB1dCwgUHJlZmVycmVkVHlwZSkge1xuICAgICAgICAgICAgc3dpdGNoIChUeXBlKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBVbmRlZmluZWQgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogTnVsbCAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBCb29sZWFuICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIGlucHV0O1xuICAgICAgICAgICAgICAgIGNhc2UgNCAvKiBTeW1ib2wgKi86IHJldHVybiBpbnB1dDtcbiAgICAgICAgICAgICAgICBjYXNlIDUgLyogTnVtYmVyICovOiByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGludCA9IFByZWZlcnJlZFR5cGUgPT09IDMgLyogU3RyaW5nICovID8gXCJzdHJpbmdcIiA6IFByZWZlcnJlZFR5cGUgPT09IDUgLyogTnVtYmVyICovID8gXCJudW1iZXJcIiA6IFwiZGVmYXVsdFwiO1xuICAgICAgICAgICAgdmFyIGV4b3RpY1RvUHJpbSA9IEdldE1ldGhvZChpbnB1dCwgdG9QcmltaXRpdmVTeW1ib2wpO1xuICAgICAgICAgICAgaWYgKGV4b3RpY1RvUHJpbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGV4b3RpY1RvUHJpbS5jYWxsKGlucHV0LCBoaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gT3JkaW5hcnlUb1ByaW1pdGl2ZShpbnB1dCwgaGludCA9PT0gXCJkZWZhdWx0XCIgPyBcIm51bWJlclwiIDogaGludCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEuMSBPcmRpbmFyeVRvUHJpbWl0aXZlKE8sIGhpbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5dG9wcmltaXRpdmVcbiAgICAgICAgZnVuY3Rpb24gT3JkaW5hcnlUb1ByaW1pdGl2ZShPLCBoaW50KSB7XG4gICAgICAgICAgICBpZiAoaGludCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18xID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18xKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMS5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVPZiA9IE8udmFsdWVPZjtcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh2YWx1ZU9mKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdmFsdWVPZi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZU9mID0gTy52YWx1ZU9mO1xuICAgICAgICAgICAgICAgIGlmIChJc0NhbGxhYmxlKHZhbHVlT2YpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB2YWx1ZU9mLmNhbGwoTyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNPYmplY3QocmVzdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0b1N0cmluZ18yID0gTy50b1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoSXNDYWxsYWJsZSh0b1N0cmluZ18yKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdG9TdHJpbmdfMi5jYWxsKE8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzT2JqZWN0KHJlc3VsdCkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMiBUb0Jvb2xlYW4oYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8yMDE2LyNzZWMtdG9ib29sZWFuXG4gICAgICAgIGZ1bmN0aW9uIFRvQm9vbGVhbihhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuICEhYXJndW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4xLjEyIFRvU3RyaW5nKGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy10b3N0cmluZ1xuICAgICAgICBmdW5jdGlvbiBUb1N0cmluZyhhcmd1bWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCIgKyBhcmd1bWVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjEuMTQgVG9Qcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtdG9wcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBUb1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gVG9QcmltaXRpdmUoYXJndW1lbnQsIDMgLyogU3RyaW5nICovKTtcbiAgICAgICAgICAgIGlmIChJc1N5bWJvbChrZXkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICByZXR1cm4gVG9TdHJpbmcoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICAvLyA3LjIgVGVzdGluZyBhbmQgQ29tcGFyaXNvbiBPcGVyYXRpb25zXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXRlc3RpbmctYW5kLWNvbXBhcmlzb24tb3BlcmF0aW9uc1xuICAgICAgICAvLyA3LjIuMiBJc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pc2FycmF5XG4gICAgICAgIGZ1bmN0aW9uIElzQXJyYXkoYXJndW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5XG4gICAgICAgICAgICAgICAgPyBBcnJheS5pc0FycmF5KGFyZ3VtZW50KVxuICAgICAgICAgICAgICAgIDogYXJndW1lbnQgaW5zdGFuY2VvZiBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgPyBhcmd1bWVudCBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgICAgICAgICAgICAgIDogT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi4zIElzQ2FsbGFibGUoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY2FsbGFibGVcbiAgICAgICAgZnVuY3Rpb24gSXNDYWxsYWJsZShhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDYWxsXV0gaW50ZXJuYWwgbWV0aG9kLlxuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBhcmd1bWVudCA9PT0gXCJmdW5jdGlvblwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuMi40IElzQ29uc3RydWN0b3IoYXJndW1lbnQpXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWlzY29uc3RydWN0b3JcbiAgICAgICAgZnVuY3Rpb24gSXNDb25zdHJ1Y3Rvcihhcmd1bWVudCkge1xuICAgICAgICAgICAgLy8gTk9URTogVGhpcyBpcyBhbiBhcHByb3hpbWF0aW9uIGFzIHdlIGNhbm5vdCBjaGVjayBmb3IgW1tDb25zdHJ1Y3RdXSBpbnRlcm5hbCBtZXRob2QuXG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGFyZ3VtZW50ID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy4yLjcgSXNQcm9wZXJ0eUtleShhcmd1bWVudClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXNwcm9wZXJ0eWtleVxuICAgICAgICBmdW5jdGlvbiBJc1Byb3BlcnR5S2V5KGFyZ3VtZW50KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKFR5cGUoYXJndW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAzIC8qIFN0cmluZyAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgY2FzZSA0IC8qIFN5bWJvbCAqLzogcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIDcuMyBPcGVyYXRpb25zIG9uIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1vYmplY3RzXG4gICAgICAgIC8vIDcuMy45IEdldE1ldGhvZChWLCBQKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1nZXRtZXRob2RcbiAgICAgICAgZnVuY3Rpb24gR2V0TWV0aG9kKFYsIFApIHtcbiAgICAgICAgICAgIHZhciBmdW5jID0gVltQXTtcbiAgICAgICAgICAgIGlmIChmdW5jID09PSB1bmRlZmluZWQgfHwgZnVuYyA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKCFJc0NhbGxhYmxlKGZ1bmMpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNCBPcGVyYXRpb25zIG9uIEl0ZXJhdG9yIE9iamVjdHNcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3BlcmF0aW9ucy1vbi1pdGVyYXRvci1vYmplY3RzXG4gICAgICAgIGZ1bmN0aW9uIEdldEl0ZXJhdG9yKG9iaikge1xuICAgICAgICAgICAgdmFyIG1ldGhvZCA9IEdldE1ldGhvZChvYmosIGl0ZXJhdG9yU3ltYm9sKTtcbiAgICAgICAgICAgIGlmICghSXNDYWxsYWJsZShtZXRob2QpKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoKTsgLy8gZnJvbSBDYWxsXG4gICAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBtZXRob2QuY2FsbChvYmopO1xuICAgICAgICAgICAgaWYgKCFJc09iamVjdChpdGVyYXRvcikpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigpO1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgICAgICB9XG4gICAgICAgIC8vIDcuNC40IEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdClcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLzIwMTYvI3NlYy1pdGVyYXRvcnZhbHVlXG4gICAgICAgIGZ1bmN0aW9uIEl0ZXJhdG9yVmFsdWUoaXRlclJlc3VsdCkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJSZXN1bHQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjUgSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKVxuICAgICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1pdGVyYXRvcnN0ZXBcbiAgICAgICAgZnVuY3Rpb24gSXRlcmF0b3JTdGVwKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb25lID8gZmFsc2UgOiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtaXRlcmF0b3JjbG9zZVxuICAgICAgICBmdW5jdGlvbiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yKSB7XG4gICAgICAgICAgICB2YXIgZiA9IGl0ZXJhdG9yW1wicmV0dXJuXCJdO1xuICAgICAgICAgICAgaWYgKGYpXG4gICAgICAgICAgICAgICAgZi5jYWxsKGl0ZXJhdG9yKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA5LjEgT3JkaW5hcnkgT2JqZWN0IEludGVybmFsIE1ldGhvZHMgYW5kIEludGVybmFsIFNsb3RzXG4gICAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLW9yZGluYXJ5LW9iamVjdC1pbnRlcm5hbC1tZXRob2RzLWFuZC1pbnRlcm5hbC1zbG90c1xuICAgICAgICAvLyA5LjEuMS4xIE9yZGluYXJ5R2V0UHJvdG90eXBlT2YoTylcbiAgICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtb3JkaW5hcnlnZXRwcm90b3R5cGVvZlxuICAgICAgICBmdW5jdGlvbiBPcmRpbmFyeUdldFByb3RvdHlwZU9mKE8pIHtcbiAgICAgICAgICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihPKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgTyAhPT0gXCJmdW5jdGlvblwiIHx8IE8gPT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIFR5cGVTY3JpcHQgZG9lc24ndCBzZXQgX19wcm90b19fIGluIEVTNSwgYXMgaXQncyBub24tc3RhbmRhcmQuXG4gICAgICAgICAgICAvLyBUcnkgdG8gZGV0ZXJtaW5lIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLiBDb21wYXRpYmxlIGltcGxlbWVudGF0aW9uc1xuICAgICAgICAgICAgLy8gbXVzdCBlaXRoZXIgc2V0IF9fcHJvdG9fXyBvbiBhIHN1YmNsYXNzIGNvbnN0cnVjdG9yIHRvIHRoZSBzdXBlcmNsYXNzIGNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgLy8gb3IgZW5zdXJlIGVhY2ggY2xhc3MgaGFzIGEgdmFsaWQgYGNvbnN0cnVjdG9yYCBwcm9wZXJ0eSBvbiBpdHMgcHJvdG90eXBlIHRoYXRcbiAgICAgICAgICAgIC8vIHBvaW50cyBiYWNrIHRvIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgbm90IHRoZSBzYW1lIGFzIEZ1bmN0aW9uLltbUHJvdG90eXBlXV0sIHRoZW4gdGhpcyBpcyBkZWZpbmF0ZWx5IGluaGVyaXRlZC5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlbiBpbiBFUzYgb3Igd2hlbiB1c2luZyBfX3Byb3RvX18gaW4gYSBjb21wYXRpYmxlIGJyb3dzZXIuXG4gICAgICAgICAgICBpZiAocHJvdG8gIT09IGZ1bmN0aW9uUHJvdG90eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHRoZSBzdXBlciBwcm90b3R5cGUgaXMgT2JqZWN0LnByb3RvdHlwZSwgbnVsbCwgb3IgdW5kZWZpbmVkLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgdmFyIHByb3RvdHlwZSA9IE8ucHJvdG90eXBlO1xuICAgICAgICAgICAgdmFyIHByb3RvdHlwZVByb3RvID0gcHJvdG90eXBlICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpO1xuICAgICAgICAgICAgaWYgKHByb3RvdHlwZVByb3RvID09IG51bGwgfHwgcHJvdG90eXBlUHJvdG8gPT09IE9iamVjdC5wcm90b3R5cGUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb3RvO1xuICAgICAgICAgICAgLy8gSWYgdGhlIGNvbnN0cnVjdG9yIHdhcyBub3QgYSBmdW5jdGlvbiwgdGhlbiB3ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZSBoZXJpdGFnZS5cbiAgICAgICAgICAgIHZhciBjb25zdHJ1Y3RvciA9IHByb3RvdHlwZVByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zdHJ1Y3RvciAhPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgc29tZSBraW5kIG9mIHNlbGYtcmVmZXJlbmNlLCB0aGVuIHdlIGNhbm5vdCBkZXRlcm1pbmUgdGhlIGhlcml0YWdlLlxuICAgICAgICAgICAgaWYgKGNvbnN0cnVjdG9yID09PSBPKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcm90bztcbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYSBwcmV0dHkgZ29vZCBndWVzcyBhdCB0aGUgaGVyaXRhZ2UuXG4gICAgICAgICAgICByZXR1cm4gY29uc3RydWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgTWFwIHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgY2FjaGVTZW50aW5lbCA9IHt9O1xuICAgICAgICAgICAgdmFyIGFycmF5U2VudGluZWwgPSBbXTtcbiAgICAgICAgICAgIHZhciBNYXBJdGVyYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXBJdGVyYXRvcihrZXlzLCB2YWx1ZXMsIHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGtleXM7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG4gICAgICAgICAgICAgICAgTWFwSXRlcmF0b3IucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuX2tleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fc2VsZWN0b3IodGhpcy5fa2V5c1tpbmRleF0sIHRoaXMuX3ZhbHVlc1tpbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICsgMSA+PSB0aGlzLl9rZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS50aHJvdyA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5kZXggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBhcnJheVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5yZXR1cm4gPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2luZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzID0gYXJyYXlTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlcyA9IGFycmF5U2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gTWFwSXRlcmF0b3I7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBNYXAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleXMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlS2V5ID0gY2FjaGVTZW50aW5lbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9rZXlzLmxlbmd0aDsgfSxcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiB0aGlzLl9maW5kKGtleSwgLyppbnNlcnQqLyBmYWxzZSkgPj0gMDsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5fZmluZChrZXksIC8qaW5zZXJ0Ki8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggPj0gMCA/IHRoaXMuX3ZhbHVlc1tpbmRleF0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuX2ZpbmQoa2V5LCAvKmluc2VydCovIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5fa2V5cy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5c1tpIC0gMV0gPSB0aGlzLl9rZXlzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlc1tpIC0gMV0gPSB0aGlzLl92YWx1ZXNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXlzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWVzLmxlbmd0aC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gdGhpcy5fY2FjaGVLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUtleSA9IGNhY2hlU2VudGluZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IC0yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVLZXkgPSBjYWNoZVNlbnRpbmVsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZUluZGV4ID0gLTI7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcy5fa2V5cywgdGhpcy5fdmFsdWVzLCBnZXRLZXkpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IE1hcEl0ZXJhdG9yKHRoaXMuX2tleXMsIHRoaXMuX3ZhbHVlcywgZ2V0VmFsdWUpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBNYXBJdGVyYXRvcih0aGlzLl9rZXlzLCB0aGlzLl92YWx1ZXMsIGdldEVudHJ5KTsgfTtcbiAgICAgICAgICAgICAgICBNYXAucHJvdG90eXBlW1wiQEBpdGVyYXRvclwiXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZW50cmllcygpOyB9O1xuICAgICAgICAgICAgICAgIE1hcC5wcm90b3R5cGVbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgTWFwLnByb3RvdHlwZS5fZmluZCA9IGZ1bmN0aW9uIChrZXksIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVLZXkgIT09IGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMuaW5kZXhPZih0aGlzLl9jYWNoZUtleSA9IGtleSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlSW5kZXggPCAwICYmIGluc2VydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVJbmRleCA9IHRoaXMuX2tleXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fa2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZXMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUluZGV4O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hcDtcbiAgICAgICAgICAgIH0oKSk7XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRLZXkoa2V5LCBfKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFZhbHVlKF8sIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0RW50cnkoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBba2V5LCB2YWx1ZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmFpdmUgU2V0IHNoaW1cbiAgICAgICAgZnVuY3Rpb24gQ3JlYXRlU2V0UG9seWZpbGwoKSB7XG4gICAgICAgICAgICByZXR1cm4gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFNldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWFwID0gbmV3IF9NYXAoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldC5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnNpemU7IH0sXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuaGFzKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdGhpcy5fbWFwLnNldCh2YWx1ZSwgdmFsdWUpLCB0aGlzOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0aGlzLl9tYXAuZGVsZXRlKHZhbHVlKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgeyB0aGlzLl9tYXAuY2xlYXIoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9tYXAua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fbWFwLnZhbHVlcygpOyB9O1xuICAgICAgICAgICAgICAgIFNldC5wcm90b3R5cGUuZW50cmllcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX21hcC5lbnRyaWVzKCk7IH07XG4gICAgICAgICAgICAgICAgU2V0LnByb3RvdHlwZVtcIkBAaXRlcmF0b3JcIl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmtleXMoKTsgfTtcbiAgICAgICAgICAgICAgICBTZXQucHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMua2V5cygpOyB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBTZXQ7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5haXZlIFdlYWtNYXAgc2hpbVxuICAgICAgICBmdW5jdGlvbiBDcmVhdGVXZWFrTWFwUG9seWZpbGwoKSB7XG4gICAgICAgICAgICB2YXIgVVVJRF9TSVpFID0gMTY7XG4gICAgICAgICAgICB2YXIga2V5cyA9IEhhc2hNYXAuY3JlYXRlKCk7XG4gICAgICAgICAgICB2YXIgcm9vdEtleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgcmV0dXJuIC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBXZWFrTWFwKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9rZXkgPSBDcmVhdGVVbmlxdWVLZXkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgV2Vha01hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUgIT09IHVuZGVmaW5lZCA/IEhhc2hNYXAuaGFzKHRhYmxlLCB0aGlzLl9rZXkpIDogZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gSGFzaE1hcC5nZXQodGFibGUsIHRoaXMuX2tleSkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIC8qY3JlYXRlKi8gdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlW3RoaXMuX2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IEdldE9yQ3JlYXRlV2Vha01hcFRhYmxlKHRhcmdldCwgLypjcmVhdGUqLyBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZSAhPT0gdW5kZWZpbmVkID8gZGVsZXRlIHRhYmxlW3RoaXMuX2tleV0gOiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFdlYWtNYXAucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBub3QgYSByZWFsIGNsZWFyLCBqdXN0IG1ha2VzIHRoZSBwcmV2aW91cyBkYXRhIHVucmVhY2hhYmxlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2tleSA9IENyZWF0ZVVuaXF1ZUtleSgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIFdlYWtNYXA7XG4gICAgICAgICAgICB9KCkpO1xuICAgICAgICAgICAgZnVuY3Rpb24gQ3JlYXRlVW5pcXVlS2V5KCkge1xuICAgICAgICAgICAgICAgIHZhciBrZXk7XG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgICAga2V5ID0gXCJAQFdlYWtNYXBAQFwiICsgQ3JlYXRlVVVJRCgpO1xuICAgICAgICAgICAgICAgIHdoaWxlIChIYXNoTWFwLmhhcyhrZXlzLCBrZXkpKTtcbiAgICAgICAgICAgICAgICBrZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBHZXRPckNyZWF0ZVdlYWtNYXBUYWJsZSh0YXJnZXQsIGNyZWF0ZSkge1xuICAgICAgICAgICAgICAgIGlmICghaGFzT3duLmNhbGwodGFyZ2V0LCByb290S2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNyZWF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHJvb3RLZXksIHsgdmFsdWU6IEhhc2hNYXAuY3JlYXRlKCkgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRbcm9vdEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBGaWxsUmFuZG9tQnl0ZXMoYnVmZmVyLCBzaXplKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcltpXSA9IE1hdGgucmFuZG9tKCkgKiAweGZmIHwgMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gR2VuUmFuZG9tQnl0ZXMoc2l6ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgVWludDhBcnJheSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShzaXplKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBGaWxsUmFuZG9tQnl0ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSksIHNpemUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gRmlsbFJhbmRvbUJ5dGVzKG5ldyBBcnJheShzaXplKSwgc2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBDcmVhdGVVVUlEKCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gR2VuUmFuZG9tQnl0ZXMoVVVJRF9TSVpFKTtcbiAgICAgICAgICAgICAgICAvLyBtYXJrIGFzIHJhbmRvbSAtIFJGQyA0MTIyIMKnIDQuNFxuICAgICAgICAgICAgICAgIGRhdGFbNl0gPSBkYXRhWzZdICYgMHg0ZiB8IDB4NDA7XG4gICAgICAgICAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gJiAweGJmIHwgMHg4MDtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBVVUlEX1NJWkU7ICsrb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBieXRlID0gZGF0YVtvZmZzZXRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ID09PSA0IHx8IG9mZnNldCA9PT0gNiB8fCBvZmZzZXQgPT09IDgpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCItXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChieXRlIDwgMTYpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCIwXCI7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBieXRlLnRvU3RyaW5nKDE2KS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHVzZXMgYSBoZXVyaXN0aWMgdXNlZCBieSB2OCBhbmQgY2hha3JhIHRvIGZvcmNlIGFuIG9iamVjdCBpbnRvIGRpY3Rpb25hcnkgbW9kZS5cbiAgICAgICAgZnVuY3Rpb24gTWFrZURpY3Rpb25hcnkob2JqKSB7XG4gICAgICAgICAgICBvYmouX18gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBkZWxldGUgb2JqLl9fO1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgIH0pO1xufSkoUmVmbGVjdCQxIHx8IChSZWZsZWN0JDEgPSB7fSkpO1xuXG4vKipcclxuICogS2V5cyB1c2VkIHdpdGggcmVmbGVjdC1tZXRhZGF0YVxyXG4gKi9cclxudmFyIFJFRkxFQ1RfS0VZO1xyXG4oZnVuY3Rpb24gKFJFRkxFQ1RfS0VZKSB7XHJcbiAgICAvKipcclxuICAgICAqIEluZmVyIGEgcHJvcGVydHkgdHlwZVxyXG4gICAgICovXHJcbiAgICBSRUZMRUNUX0tFWVtcIlRZUEVcIl0gPSBcImRlc2lnbjp0eXBlXCI7XHJcbiAgICAvKipcclxuICAgICAqIENvbmNlcm5zIGpzb24gc2NoZW1hXHJcbiAgICAgKi9cclxuICAgIFJFRkxFQ1RfS0VZW1wiSlNPTl9TQ0hFTUFcIl0gPSBcInRhYmJvdWxlaDpzY2hlbWFcIjtcclxuICAgIC8qKlxyXG4gICAgICogQ29uY2VybnMgb2JqZWN0IHByb3BlcnRpZXMgc2NoZW1hXHJcbiAgICAgKi9cclxuICAgIFJFRkxFQ1RfS0VZW1wiSlNPTl9QUk9QRVJUWVwiXSA9IFwidGFiYm91bGVoOnByb3BlcnR5XCI7XHJcbiAgICAvKipcclxuICAgICAqIENvbmNlcm5zIHJlZmVyZW5jZXNcclxuICAgICAqL1xyXG4gICAgUkVGTEVDVF9LRVlbXCJKU09OX1JFRkVSRU5DRVwiXSA9IFwidGFiYm91bGVoOnJlZmVyZW5jZXNcIjtcclxufSkoUkVGTEVDVF9LRVkgfHwgKFJFRkxFQ1RfS0VZID0ge30pKTtcblxuLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcblxuLyoqXHJcbiAqIEhhbmRsZSBhbGwgSlNPTlByb3BlcnR5IGNvbmNlcm5zLlxyXG4gKi9cclxudmFyIFByb3BlcnR5RW5naW5lID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJvcGVydHlFbmdpbmUoKSB7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZyb20gYSBjbGFzcywgcmV0dXJuIGEgSlNPTlNjaGVtYSB3aGljaCBtYXkgY29udGFpbiBvbmx5IHRoZSAndHlwZScgYXNzb2NpYXRlZCB0byB0aGlzIGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlVFNcclxuICAgICAqL1xyXG4gICAgUHJvcGVydHlFbmdpbmUuZ2V0SlNPTlNjaGVtYVR5cGUgPSBmdW5jdGlvbiAodHlwZVRTKSB7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlVFMpIHtcclxuICAgICAgICAgICAgY2FzZSBBcnJheTpcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2FycmF5J1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY2FzZSBOdW1iZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdudW1iZXInXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjYXNlIFN0cmluZzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNhc2UgT2JqZWN0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0J1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ251bGwnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBhIEpTT04gU2NoZW1hIGZvciBhIHByb3BlcnR5LlxyXG4gICAgICogRGVmaW5lIHNjaGVtYSAndHlwZScgb25seSBpZiBubyAnJHJlZicgaXMgZGVmaW5lZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcmVmbGVjdEVudGl0eSBwYXJ0aWFsIHNjaGVtYSBnZXQgYnkgcmVmbGVjdGlvblxyXG4gICAgICogQHBhcmFtIHBhcmFtRW50aXR5IHBhcnRpYWwgc2NoZW1hIGdpdmVuIGluIHBhcmFtXHJcbiAgICAgKiBAcGFyYW0gdHlwZVRTIHJlZmxlY3RlZCB0eXBlIG9mIHRoZSBwcm9wZXJ0eVxyXG4gICAgICovXHJcbiAgICBQcm9wZXJ0eUVuZ2luZS5nZXRKU09OUHJvcGVydHlTY2hlbWEgPSBmdW5jdGlvbiAocmVmbGVjdEVudGl0eSwgcGFyYW1FbnRpdHksIHR5cGVUUykge1xyXG4gICAgICAgIHZhciBwYXJ0aWFsRW50aXR5ID0gX19hc3NpZ24oe30sIHJlZmxlY3RFbnRpdHksIHBhcmFtRW50aXR5KTtcclxuICAgICAgICBpZiAocGFydGlhbEVudGl0eS4kcmVmKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJ0aWFsRW50aXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdHlwZUVudGl0eSA9IFByb3BlcnR5RW5naW5lLmdldEpTT05TY2hlbWFUeXBlKHR5cGVUUyk7XHJcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCB0eXBlRW50aXR5LCBwYXJ0aWFsRW50aXR5KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBieSByZWZsZWN0aW9uIEpTT04gcHJvcGVydGllcyAoYWthIEpTT05TY2hlbWEucHJvcGVydGllcykgb2YgdGhlIEpTT05TY2hlbWEuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHByb3RvdHlwZSBwcm90b3R5cGUgb2YgdGhlIEpTT05TY2hlbWEgY2xhc3NcclxuICAgICAqL1xyXG4gICAgUHJvcGVydHlFbmdpbmUuZ2V0UmVmbGVjdFByb3BlcnRpZXMgPSBmdW5jdGlvbiAocHJvdG90eXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0TWV0YWRhdGEoUkVGTEVDVF9LRVkuSlNPTl9QUk9QRVJUWSwgcHJvdG90eXBlKSB8fCB7fTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERlZmluZSBieSByZWZsZWN0aW9uIEpTT04gcHJvcGVydGllcyAoYWthIEpTT05TY2hlbWEucHJvcGVydGllcykgb2YgdGhlIEpTT05TY2hlbWEuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHByb3RvdHlwZSBwcm90b3R5cGUgb2YgdGhlIEpTT05TY2hlbWEgY2xhc3NcclxuICAgICAqIEBwYXJhbSBwcm9wZXJ0aWVzIEpTT05TY2hlbWEucHJvcGVydGllcyBvZiB0aGUgSlNPTlNjaGVtYVxyXG4gICAgICovXHJcbiAgICBQcm9wZXJ0eUVuZ2luZS5zZXRSZWZsZWN0UHJvcGVydGllcyA9IGZ1bmN0aW9uIChwcm90b3R5cGUsIHByb3BlcnRpZXMpIHtcclxuICAgICAgICBSZWZsZWN0LmRlZmluZU1ldGFkYXRhKFJFRkxFQ1RfS0VZLkpTT05fUFJPUEVSVFksIHByb3BlcnRpZXMsIHByb3RvdHlwZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZpbmUgSlNPTiBzY2hlbWEgb2YgdGhlIGdpdmVuIHByb3BlcnR5LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwcm90b3R5cGUgcHJvdG90eXBlIG9mIHRoZSBKU09OU2NoZW1hIGNsYXNzXHJcbiAgICAgKiBAcGFyYW0ga2V5IHByb3BlcnR5IGtleSBvZiB0aGUgSlNPTlNjaGVtYSBjbGFzc1xyXG4gICAgICogQHBhcmFtIHZhbHVlIHBhcnRpYWwgc2NoZW1hIGdpdmVuIGluIHBhcmFtXHJcbiAgICAgKi9cclxuICAgIFByb3BlcnR5RW5naW5lLmRlZmluZVJlZmxlY3RQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKHByb3RvdHlwZSwga2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIC8vIGdldCBleGlzdGluZyBwcm9wZXJ0aWVzXHJcbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBQcm9wZXJ0eUVuZ2luZS5nZXRSZWZsZWN0UHJvcGVydGllcyhwcm90b3R5cGUpO1xyXG4gICAgICAgIC8vIGdldCB0aGUganNvbiBzY2hlbWEgb2YgdGhlIHByb3BlcnR5XHJcbiAgICAgICAgdmFyIHJlZmxlY3RTY2hlbWEgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFJFRkxFQ1RfS0VZLkpTT05fU0NIRU1BLCBwcm90b3R5cGUsIGtleSkgfHwge307XHJcbiAgICAgICAgLy8gZ2V0IHRoZSBpbmZlcmVkIHR5cGUgb2YgdGhlIHByb3BlcnR5XHJcbiAgICAgICAgdmFyIHR5cGVTY2hlbWEgPSBSZWZsZWN0LmdldE1ldGFkYXRhKFJFRkxFQ1RfS0VZLlRZUEUsIHByb3RvdHlwZSwga2V5KTtcclxuICAgICAgICAvLyBjb25zdHJ1Y3QgdGhlIGZpbmFsIHNjaGVtYVxyXG4gICAgICAgIHZhciBmdWxsU2NoZW1hID0gUHJvcGVydHlFbmdpbmUuZ2V0SlNPTlByb3BlcnR5U2NoZW1hKHJlZmxlY3RTY2hlbWEsIHZhbHVlLCB0eXBlU2NoZW1hKTtcclxuICAgICAgICAvLyBhZGQgdGhlIHNjaGVtYSB0byBleGlzdGluZyBwcm9wZXJ0aWVzXHJcbiAgICAgICAgcHJvcGVydGllc1trZXldID0gX19hc3NpZ24oe30sIChwcm9wZXJ0aWVzW2tleV0gfHwge30pLCBmdWxsU2NoZW1hKTtcclxuICAgICAgICBQcm9wZXJ0eUVuZ2luZS5zZXRSZWZsZWN0UHJvcGVydGllcyhwcm90b3R5cGUsIHByb3BlcnRpZXMpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQcm9wZXJ0eUVuZ2luZTtcclxufSgpKTtcblxudmFyIG1zZyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICByZXR1cm4gXCJDbGFzcyBjYWxsZWQgYnkgVGFiYm91bGVoIGJ1dCBub3QgZGVjb3JhdGVkIHdpdGggQEpTT05TY2hlbWE6IFwiICsgbmFtZTtcclxufTtcclxuLyoqXHJcbiAqIFRvIHRocm93IHdoZW4gYW4gZXhwZWN0ZWQgSlNPTiBTY2hlbWEgY2xhc3MgaXMgbm90IChvciB1bmRlZmluZWQpLlxyXG4gKi9cclxudmFyIE5vdEFKc29uU2NoZW1hRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoTm90QUpzb25TY2hlbWFFcnJvciwgX3N1cGVyKTtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHRhcmdldCB0aGUgZmFpbGluZyB0YXJnZXRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gTm90QUpzb25TY2hlbWFFcnJvcih0YXJnZXQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtc2codGFyZ2V0ICYmIHRhcmdldC5uYW1lID8gdGFyZ2V0Lm5hbWUgOiB0YXJnZXQpKSB8fCB0aGlzO1xyXG4gICAgICAgIEVycm9yLmNhbGwoX3RoaXMpO1xyXG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKF90aGlzLCBfdGhpcy5jb25zdHJ1Y3Rvcik7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKF90aGlzLCBOb3RBSnNvblNjaGVtYUVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIE5vdEFKc29uU2NoZW1hRXJyb3I7XHJcbn0oRXJyb3IpKTtcblxudmFyIFV0aWwgPSB7XHJcbiAgICBpc0NsYXNzOiBmdW5jdGlvbiAobykge1xyXG4gICAgICAgIHJldHVybiBvICYmIG9bJ25hbWUnXSAmJiBvWydwcm90b3R5cGUnXTtcclxuICAgIH1cclxufTtcblxuLyoqXHJcbiAqIEhhbmRsZSBhbGwgcmVmZXJlbmNlcyBjb25jZXJuc1xyXG4gKi9cclxudmFyIFJlZmVyZW5jZUVuZ2luZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJlZmVyZW5jZUVuZ2luZSgpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQXBwbHkgYWxsIHJlZmVyZW5jZXMgd2l0aCB0YXJnZXQgYXMgc291cmNlIGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0YXJnZXQgY2xhc3Mgc291cmNlXHJcbiAgICAgKiBAcGFyYW0gZGVmaW5pdGlvbnMgc2NoZW1hIGRlZmluaXRpb25zIG9mIHRoZSByb290IHNjaGVtYVxyXG4gICAgICogQHBhcmFtIHJvb3RUYXJnZXQgcm9vdCBzY2hlbWEgY2xhc3MsIGlmIG5vdCB0YXJnZXRcclxuICAgICAqL1xyXG4gICAgUmVmZXJlbmNlRW5naW5lLmNvbXB1dGVKU09OUmVmZXJlbmNlcyA9IGZ1bmN0aW9uICh0YXJnZXQsIGRlZmluaXRpb25zLCByb290VGFyZ2V0KSB7XHJcbiAgICAgICAgdmFyIGlzUm9vdCA9ICFyb290VGFyZ2V0O1xyXG4gICAgICAgIHJvb3RUYXJnZXQgPSByb290VGFyZ2V0IHx8IHRhcmdldDtcclxuICAgICAgICBpZiAoIWRlZmluaXRpb25zKSB7XHJcbiAgICAgICAgICAgIHZhciByb290VGFyZ2V0U2NoZW1hID0gU2NoZW1hRW5naW5lLmdldFJlZmxlY3RTY2hlbWEocm9vdFRhcmdldCkgfHwge307XHJcbiAgICAgICAgICAgIGRlZmluaXRpb25zID0gcm9vdFRhcmdldFNjaGVtYS5kZWZpbml0aW9ucyB8fCB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJlZk1hcENsYXNzID0gUmVmZXJlbmNlRW5naW5lLmdldFJlZmVyZW5jZXModGFyZ2V0Lm5hbWUsIHRhcmdldC5wcm90b3R5cGUpO1xyXG4gICAgICAgIHJlZk1hcENsYXNzLmZvckVhY2goZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICB2YXIgcmVmVGFyZ2V0ID0gYS50YXJnZXRGbigpO1xyXG4gICAgICAgICAgICBpZiAoIVV0aWwuaXNDbGFzcyhyZWZUYXJnZXQpKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90QUpzb25TY2hlbWFFcnJvcihyZWZUYXJnZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChyZWZUYXJnZXQgIT09IHJvb3RUYXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXRJRCA9IFJlZmVyZW5jZUVuZ2luZS5nZW5lcmF0ZVNjaGVtYUlEKHJlZlRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWRlZmluaXRpb25zW3RhcmdldElEXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb25zW3RhcmdldElEXSA9IFNjaGVtYUVuZ2luZS5nZXRDb21wdXRlZEpTT05TY2hlbWEocmVmVGFyZ2V0LCBkZWZpbml0aW9ucywgcm9vdFRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHJlZlNjaGVtYSA9IHtcclxuICAgICAgICAgICAgICAgICRyZWY6IFJlZmVyZW5jZUVuZ2luZS5nZW5lcmF0ZVJlZihyZWZUYXJnZXQsIHJvb3RUYXJnZXQpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGEuanNvblByb3BlcnR5S2V5XHJcbiAgICAgICAgICAgICAgICA/IChfYSA9IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIF9hW2EuanNvblByb3BlcnR5S2V5XSA9IHJlZlNjaGVtYSxcclxuICAgICAgICAgICAgICAgICAgICBfYSkgOiByZWZTY2hlbWE7XHJcbiAgICAgICAgICAgIFByb3BlcnR5RW5naW5lLmRlZmluZVJlZmxlY3RQcm9wZXJ0aWVzKHRhcmdldC5wcm90b3R5cGUsIGEua2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRlZmluaXRpb25zKS5sZW5ndGggJiYgaXNSb290KSB7XHJcbiAgICAgICAgICAgIFNjaGVtYUVuZ2luZS5kZWZpbmVSZWZsZWN0U2NoZW1hKHJvb3RUYXJnZXQsIHtcclxuICAgICAgICAgICAgICAgIGRlZmluaXRpb25zOiBkZWZpbml0aW9uc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYW5kIGFkZCBhIHJlZmVyZW5jZSB0byB0aGUgZ2l2ZW4gQyBjbGFzcyxcclxuICAgICAqIHdoaWNoIHRhcmdldCB0aGUgY2xhc3MgcmV0dXJuZWQgYnkgY2xhc3NUYXJnZXRGbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcHJvdG90eXBlU291cmNlIHByb3RvdHlwZSBvZiB0aGUgQyBjbGFzcyBzb3VyY2VcclxuICAgICAqIEBwYXJhbSBwcm9wZXJ0eUtleSBwcm9wZXJ0eSBjb25jZXJuZWQgb2YgdGhlIEMgY2xhc3Mgc291cmNlXHJcbiAgICAgKiBAcGFyYW0ganNvblByb3BlcnR5IEpTT04gcHJvcGVydHkga2V5IGNvbmNlcm5lZC4gT3IgbnVsbCBpZiBjb25jZXJucyBhbGwgdGhlIEpTT04gU2NoZW1hXHJcbiAgICAgKiBAcGFyYW0gY2xhc3NUYXJnZXRGbiByZXNvbHZlciBvZiB0aGUgY2xhc3MgdGFyZ2V0ZWRcclxuICAgICAqL1xyXG4gICAgUmVmZXJlbmNlRW5naW5lLmFkZFJlZmVyZW5jZSA9IGZ1bmN0aW9uIChwcm90b3R5cGVTb3VyY2UsIHByb3BlcnR5S2V5LCBqc29uUHJvcGVydHksIGNsYXNzVGFyZ2V0Rm4pIHtcclxuICAgICAgICB2YXIgY2xhc3NOYW1lID0gcHJvdG90eXBlU291cmNlLmNvbnN0cnVjdG9yLm5hbWU7XHJcbiAgICAgICAgdmFyIHJlZmVyZW5jZSA9IHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXHJcbiAgICAgICAgICAgIGtleTogcHJvcGVydHlLZXksXHJcbiAgICAgICAgICAgIGpzb25Qcm9wZXJ0eUtleToganNvblByb3BlcnR5LFxyXG4gICAgICAgICAgICB0YXJnZXRGbjogY2xhc3NUYXJnZXRGblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHJlZmVyZW5jZU1hcCA9IFJlZmVyZW5jZUVuZ2luZS5nZXRSZWZsZWN0UmVmZXJlbmNlKHByb3RvdHlwZVNvdXJjZSkgfHwge307XHJcbiAgICAgICAgdmFyIHJlZk1hcENsYXNzID0gcmVmZXJlbmNlTWFwW2NsYXNzTmFtZV0gfHwgW107XHJcbiAgICAgICAgLy8gaWYgYSByZWZlcmVuY2UgZm9yIHRoaXMga2V5IGFuZCBqc29uIGtleSBhbHJlYWR5IGV4aXN0LCByZW1vdmUgaXRcclxuICAgICAgICByZWZNYXBDbGFzcyA9IHJlZk1hcENsYXNzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5rZXkgIT09IHJlZmVyZW5jZS5rZXkgfHwgYS5qc29uUHJvcGVydHlLZXkgIT09IHJlZmVyZW5jZS5qc29uUHJvcGVydHlLZXk7IH0pO1xyXG4gICAgICAgIHJlZmVyZW5jZU1hcFtjbGFzc05hbWVdID0gcmVmTWFwQ2xhc3M7XHJcbiAgICAgICAgcmVmTWFwQ2xhc3MucHVzaChyZWZlcmVuY2UpO1xyXG4gICAgICAgIFJlZmVyZW5jZUVuZ2luZS5zZXRSZWZsZWN0UmVmZXJlbmNlKHByb3RvdHlwZVNvdXJjZSwgcmVmZXJlbmNlTWFwKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZvciB0aGUgZ2l2ZW4gY2xhc3MgcmV0dXJuIGFsbCBpdHMgcmVmZXJlbmNlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY2xhc3NOYW1lXHJcbiAgICAgKiBAcGFyYW0gcHJvdG90eXBlU291cmNlIHByb3RvdHlwZSBvZiB0aGUgY2xhc3NcclxuICAgICAqL1xyXG4gICAgUmVmZXJlbmNlRW5naW5lLmdldFJlZmVyZW5jZXMgPSBmdW5jdGlvbiAoY2xhc3NOYW1lLCBwcm90b3R5cGVTb3VyY2UpIHtcclxuICAgICAgICB2YXIgcmVmZXJlbmNlTWFwID0gUmVmZXJlbmNlRW5naW5lLmdldFJlZmxlY3RSZWZlcmVuY2UocHJvdG90eXBlU291cmNlKSB8fCB7fTtcclxuICAgICAgICByZXR1cm4gcmVmZXJlbmNlTWFwW2NsYXNzTmFtZV0gfHwgW107XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBhICckcmVmJyB2YWx1ZSBmb3IgdGhlIGdpdmVuIHRhcmdldCBjbGFzcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0XHJcbiAgICAgKiBAcGFyYW0gcm9vdFRhcmdldFxyXG4gICAgICovXHJcbiAgICBSZWZlcmVuY2VFbmdpbmUuZ2VuZXJhdGVSZWYgPSBmdW5jdGlvbiAodGFyZ2V0LCByb290VGFyZ2V0KSB7XHJcbiAgICAgICAgaWYgKHRhcmdldCA9PT0gcm9vdFRhcmdldCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJyMnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gXCIjL2RlZmluaXRpb25zL1wiICsgUmVmZXJlbmNlRW5naW5lLmdlbmVyYXRlU2NoZW1hSUQodGFyZ2V0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIGFuIElEIGZvciB0aGUgZ2l2ZW4gdGFyZ2V0IGNsYXNzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0YXJnZXRcclxuICAgICAqL1xyXG4gICAgUmVmZXJlbmNlRW5naW5lLmdlbmVyYXRlU2NoZW1hSUQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuIFwiX1wiICsgdGFyZ2V0Lm5hbWUgKyBcIl9cIjtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0aGUgcmVmZXJlbmNlIG1hcCBvZiB0aGUgZ2l2ZW4gY2xhc3MgcHJvdG90eXBlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwcm90b3R5cGVUYXJnZXQgcHJvdG90eXBlIG9mIHRoZSBjbGFzc1xyXG4gICAgICovXHJcbiAgICBSZWZlcmVuY2VFbmdpbmUuZ2V0UmVmbGVjdFJlZmVyZW5jZSA9IGZ1bmN0aW9uIChwcm90b3R5cGVUYXJnZXQpIHtcclxuICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXRNZXRhZGF0YShSRUZMRUNUX0tFWS5KU09OX1JFRkVSRU5DRSwgcHJvdG90eXBlVGFyZ2V0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERlZmluZSB0aGUgcmVmZXJlbmNlIG1hcCBvZiB0aGUgZ2l2ZW4gY2xhc3MgcHJvdG90eXBlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwcm90b3R5cGVUYXJnZXQgcHJvdG90eXBlIG9mIHRoZSBjbGFzc1xyXG4gICAgICogQHBhcmFtIHJlZmVyZW5jZU1hcFxyXG4gICAgICovXHJcbiAgICBSZWZlcmVuY2VFbmdpbmUuc2V0UmVmbGVjdFJlZmVyZW5jZSA9IGZ1bmN0aW9uIChwcm90b3R5cGVUYXJnZXQsIHJlZmVyZW5jZU1hcCkge1xyXG4gICAgICAgIFJlZmxlY3QuZGVmaW5lTWV0YWRhdGEoUkVGTEVDVF9LRVkuSlNPTl9SRUZFUkVOQ0UsIHJlZmVyZW5jZU1hcCwgcHJvdG90eXBlVGFyZ2V0KTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVmZXJlbmNlRW5naW5lO1xyXG59KCkpO1xuXG4vKipcclxuICogSGFuZGxlIGFsbCBKU09OU2NoZW1hIGNsYXNzIGNvbmNlcm5zLlxyXG4gKi9cclxudmFyIFNjaGVtYUVuZ2luZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFNjaGVtYUVuZ2luZSgpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgZnVsbCBKU09OIFNjaGVtYSBmcm9tIGEgY2xhc3MsIHdpdGggYWxsIHByb3BlcnRpZXMuXHJcbiAgICAgKiBDb21wdXRlIGFsbCB0aGUgY2xhc3MgcmVmZXJlbmNlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0IEpTT05TY2hlbWEgY2xhc3NcclxuICAgICAqIEBwYXJhbSBkZWZpbml0aW9ucyBzY2hlbWEgZGVmaW5pdGlvbnMgb2YgdGhlIHJvb3Qgc2NoZW1hXHJcbiAgICAgKiBAcGFyYW0gcm9vdFRhcmdldCByb290IHNjaGVtYSBjbGFzcywgaWYgbm90IHRhcmdldFxyXG4gICAgICovXHJcbiAgICBTY2hlbWFFbmdpbmUuZ2V0Q29tcHV0ZWRKU09OU2NoZW1hID0gZnVuY3Rpb24gKHRhcmdldCwgZGVmaW5pdGlvbnMsIHJvb3RUYXJnZXQpIHtcclxuICAgICAgICBSZWZlcmVuY2VFbmdpbmUuY29tcHV0ZUpTT05SZWZlcmVuY2VzKHRhcmdldCwgZGVmaW5pdGlvbnMsIHJvb3RUYXJnZXQpO1xyXG4gICAgICAgIHZhciBzY2hlbWEgPSBTY2hlbWFFbmdpbmUuZ2V0UmVmbGVjdFNjaGVtYSh0YXJnZXQpO1xyXG4gICAgICAgIGlmICghc2NoZW1hKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RBSnNvblNjaGVtYUVycm9yKHRhcmdldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNjaGVtYS5wcm9wZXJ0aWVzID0gUHJvcGVydHlFbmdpbmUuZ2V0UmVmbGVjdFByb3BlcnRpZXModGFyZ2V0LnByb3RvdHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIHNjaGVtYTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERlZmluZSBieSByZWZsZWN0aW9uIHRoZSBKU09OIHNjaGVtYSBvZiB0aGUgZ2l2ZW4gY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRhcmdldCBKU09OU2NoZW1hIGNsYXNzXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgcGFydGlhbCBzY2hlbWEgZ2l2ZW4gaW4gcGFyYW1cclxuICAgICAqL1xyXG4gICAgU2NoZW1hRW5naW5lLmRlZmluZVJlZmxlY3RTY2hlbWEgPSBmdW5jdGlvbiAodGFyZ2V0LCB2YWx1ZSkge1xyXG4gICAgICAgIHZhciBjbGFzc1NjaGVtYSA9IFxyXG4gICAgICAgIC8vIHdlIGdldCB0aGUgZXhpc3Rpbmcgc2NoZW1hIG9mIHRoZSBjbGFzc1xyXG4gICAgICAgIFNjaGVtYUVuZ2luZS5nZXRSZWZsZWN0U2NoZW1hKHRhcmdldCkgfHxcclxuICAgICAgICAgICAgLy8gb3Igd2UgY3JlYXRlIGFuIGVtcHR5IG9uZSAob2JqZWN0KVxyXG4gICAgICAgICAgICBQcm9wZXJ0eUVuZ2luZS5nZXRKU09OUHJvcGVydHlTY2hlbWEoe30sIHt9LCBPYmplY3QpO1xyXG4gICAgICAgIE9iamVjdC5hc3NpZ24oY2xhc3NTY2hlbWEsIHZhbHVlKTtcclxuICAgICAgICBTY2hlbWFFbmdpbmUuc2V0UmVmbGVjdFNjaGVtYSh0YXJnZXQsIGNsYXNzU2NoZW1hKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiBhIEpTT04gc2NoZW1hIGlmIGV4aXN0IGZvciB0aGUgZ2l2ZW4gY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRhcmdldCBKU09OU2NoZW1hIGNsYXNzXHJcbiAgICAgKi9cclxuICAgIFNjaGVtYUVuZ2luZS5nZXRSZWZsZWN0U2NoZW1hID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIHJldHVybiBSZWZsZWN0LmdldE1ldGFkYXRhKFJFRkxFQ1RfS0VZLkpTT05fU0NIRU1BLCB0YXJnZXQucHJvdG90eXBlKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIERlZmluZSBhIEpTT04gc2NoZW1hIGlmIGV4aXN0IGZvciB0aGUgZ2l2ZW4gY2xhc3MuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRhcmdldCBKU09OU2NoZW1hIGNsYXNzXHJcbiAgICAgKiBAcGFyYW0gc2NoZW1hIEpTT04gc2NoZW1hXHJcbiAgICAgKi9cclxuICAgIFNjaGVtYUVuZ2luZS5zZXRSZWZsZWN0U2NoZW1hID0gZnVuY3Rpb24gKHRhcmdldCwgc2NoZW1hKSB7XHJcbiAgICAgICAgUmVmbGVjdC5kZWZpbmVNZXRhZGF0YShSRUZMRUNUX0tFWS5KU09OX1NDSEVNQSwgc2NoZW1hLCB0YXJnZXQucHJvdG90eXBlKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU2NoZW1hRW5naW5lO1xyXG59KCkpO1xuXG4vKipcclxuICogVGFiYm91bGVoIGdpdmUgYSB2YWxpZCBKU09OIFNjaGVtYSAoZHJhZnQgNykgZnJvbSBhIG1vZGVsIGNsYXNzXHJcbiAqIHdoaWNoIGhhcyBiZWVuIGRlY29yYXRlZCB3aXRoIHByb3BlcnRpZXMuXHJcbiAqL1xyXG52YXIgVGFiYm91bGVoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVGFiYm91bGVoKCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGcm9tIGEgY2xhc3MsIGdpdmUgYSBKU09OIFNjaGVtYSAoZHJhZnQgNykuXHJcbiAgICAgKiBUaGUgY2xhc3MgTVVTVCBiZSBhIHZhbGlkIEpTT05TY2hlbWEgZW50aXR5LCBkZWNvcmF0ZWQuXHJcbiAgICAgKi9cclxuICAgIFRhYmJvdWxlaC5nZW5lcmF0ZUpTT05TY2hlbWEgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XHJcbiAgICAgICAgcmV0dXJuIFNjaGVtYUVuZ2luZS5nZXRDb21wdXRlZEpTT05TY2hlbWEodGFyZ2V0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEZyb20gYW4gb2JqZWN0IG9mIGNsYXNzZXMsIGdpdmUgYW4gb2JqZWN0IG9mIEpTT04gU2NoZW1hIChkcmFmdCA3KS5cclxuICAgICAqIFRoZSBjbGFzc2VzIE1VU1QgYmUgdmFsaWQgSlNPTlNjaGVtYSBlbnRpdGllcywgZGVjb3JhdGVkLlxyXG4gICAgICogVGhlIG9iamVjdCByZXR1cm5lZCBmb2xsb3cgdGhlIHNhbWUgbWFwcGluZyBhcyB0aGUgb25lIGdpdmVuLlxyXG4gICAgICovXHJcbiAgICBUYWJib3VsZWguZ2VuZXJhdGVNdWx0aXBsZUpTT05TY2hlbWFzID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXModGFyZ2V0KTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGsgPSBfYVtfaV07XHJcbiAgICAgICAgICAgIHZhciBjID0gdGFyZ2V0W2tdO1xyXG4gICAgICAgICAgICBvYmpba10gPSBUYWJib3VsZWguZ2VuZXJhdGVKU09OU2NoZW1hKGMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBUYWJib3VsZWg7XHJcbn0oKSk7XG5cbnZhciBjb21wdXRlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9IHt9OyB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgICAgIFNjaGVtYUVuZ2luZS5kZWZpbmVSZWZsZWN0U2NoZW1hKHRhcmdldCwgdmFsdWUpO1xyXG4gICAgfTtcclxufTtcclxuZnVuY3Rpb24gSlNPTlNjaGVtYShhcmcpIHtcclxuICAgIC8vIHZhbHVlXHJcbiAgICBpZiAodHlwZW9mIGFyZyA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICByZXR1cm4gY29tcHV0ZShhcmcpO1xyXG4gICAgfVxyXG4gICAgLy8gdGFyZ2V0XHJcbiAgICBjb21wdXRlKCkoYXJnKTtcclxufVxuXG4vKipcclxuICogSGFuZGxlIGRlY29yYXRvciBhY3Rpb25zLlxyXG4gKi9cclxudmFyIERlY29yYXRvckVuZ2luZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIERlY29yYXRvckVuZ2luZSgpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkIHRvIHRoZSBjbGFzcy9wcm9wZXJ0eSBqc29uIHNjaGVtYSB0aGUgZ2l2ZW4gdmFsdWUsIG9yIGNyZWF0ZSB0aGUgc2NoZW1hIGlmIG5lY2Vzc2FyeS5cclxuICAgICAqIFRvIHVzZSBmcm9tIGRlY29yYXRvciwgd2hpY2ggaXMgdXNlZCBhcyBleHByZXNzaW9uIG9yIGZ1bmN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhcmdzIGRlcGVuZGluZyBvZiB0aGUgZGVjb3JhdG9yIHN0YXRlLCBhIHNpbmdsZSB0dXBsZSBvZiBKLCBvciBEZWNvcmF0b3JDbGFzc1Byb3BzXHJcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlcyBpbml0aWFsVmFsdWVzIHdoaWNoIG1heSBiZSBvdmVycmlkZGVuXHJcbiAgICAgKi9cclxuICAgIERlY29yYXRvckVuZ2luZS5kZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKGFyZ3MsIGRlZmF1bHRWYWx1ZXMpIHtcclxuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gYXJnc1swXTtcclxuICAgICAgICAgICAgcmV0dXJuIERlY29yYXRvckVuZ2luZS5jb21wdXRlKGRlZmF1bHRWYWx1ZXMsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHByb3RvdHlwZSA9IGFyZ3NbMF07XHJcbiAgICAgICAgdmFyIGtleSA9IGFyZ3NbMV07XHJcbiAgICAgICAgRGVjb3JhdG9yRW5naW5lLmNvbXB1dGUoZGVmYXVsdFZhbHVlcykocHJvdG90eXBlLCBrZXkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIGEgZGVjb3JhdG9yIGZ1bmN0aW9uXHJcbiAgICAgKiB3aGljaCBoYW5kbGUgcmVmZXJlbmNlIG1hcHBpbmcgYW5kIGRlZmluZSB0aGUgY2xhc3MvcHJvcGVydHkganNvbiBzY2hlbWEuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZXNcclxuICAgICAqIEBwYXJhbSB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBEZWNvcmF0b3JFbmdpbmUuY29tcHV0ZSA9IGZ1bmN0aW9uIChkZWZhdWx0VmFsdWVzLCB2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7IHZhbHVlID0ge307IH1cclxuICAgICAgICB2YWx1ZSA9IF9fYXNzaWduKHt9LCBkZWZhdWx0VmFsdWVzLCB2YWx1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChwcm90b3R5cGUsIGtleSwgZGVzY3JpcHRvcikge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWVTY2hlbWEgPSB7fTtcclxuICAgICAgICAgICAgLy8gSWYgd2UgZm91bmQgQ2xhc3NSZXNvbHZlciwgd2UgY3JlYXRlIHJlZmVyZW5jZSBmb3IgZWFjaCBvZiB0aGVtXHJcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHZhbHVlKS5mb3JFYWNoKGZ1bmN0aW9uIChfaykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGsgPSBfaztcclxuICAgICAgICAgICAgICAgIHZhciB2ID0gdmFsdWVba107XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHYgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBSZWZlcmVuY2VFbmdpbmUuYWRkUmVmZXJlbmNlKHByb3RvdHlwZSwga2V5LCBrLCB2KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlU2NoZW1hW2tdID0gdjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFByb3BlcnR5RW5naW5lLmRlZmluZVJlZmxlY3RQcm9wZXJ0aWVzKHByb3RvdHlwZSwga2V5LCB2YWx1ZVNjaGVtYSk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRGVjb3JhdG9yRW5naW5lO1xyXG59KCkpO1xuXG5mdW5jdGlvbiBKU09OUHJvcGVydHkoKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRGVjb3JhdG9yRW5naW5lLmRlZmluZVByb3BlcnRpZXMoYXJncywge30pO1xyXG59XG5cbmZ1bmN0aW9uIEpTT05Cb29sZWFuKCkge1xyXG4gICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIERlY29yYXRvckVuZ2luZS5kZWZpbmVQcm9wZXJ0aWVzKGFyZ3MsIHtcclxuICAgICAgICB0eXBlOiAnYm9vbGVhbidcclxuICAgIH0pO1xyXG59XG5cbmZ1bmN0aW9uIEpTT05TdHJpbmcoKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRGVjb3JhdG9yRW5naW5lLmRlZmluZVByb3BlcnRpZXMoYXJncywge1xyXG4gICAgICAgIHR5cGU6ICdzdHJpbmcnXHJcbiAgICB9KTtcclxufVxuXG5mdW5jdGlvbiBKU09OTnVtYmVyKCkge1xyXG4gICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIERlY29yYXRvckVuZ2luZS5kZWZpbmVQcm9wZXJ0aWVzKGFyZ3MsIHtcclxuICAgICAgICB0eXBlOiAnbnVtYmVyJ1xyXG4gICAgfSk7XHJcbn1cblxuZnVuY3Rpb24gSlNPTkludGVnZXIoKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRGVjb3JhdG9yRW5naW5lLmRlZmluZVByb3BlcnRpZXMoYXJncywge1xyXG4gICAgICAgIHR5cGU6ICdpbnRlZ2VyJ1xyXG4gICAgfSk7XHJcbn1cblxuZnVuY3Rpb24gSlNPTk9iamVjdCgpIHtcclxuICAgIHZhciBhcmdzID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgIH1cclxuICAgIC8vIFJlbGF0ZWQgY2xhc3NcclxuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXJnc1swXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAocHJvdG90eXBlLCBrZXksIGRlc2NyaXB0b3IpIHtcclxuICAgICAgICAgICAgdmFyIGNsYXNzRm4gPSBhcmdzWzBdO1xyXG4gICAgICAgICAgICBSZWZlcmVuY2VFbmdpbmUuYWRkUmVmZXJlbmNlKHByb3RvdHlwZSwga2V5LCBudWxsLCBjbGFzc0ZuKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIERlY29yYXRvckVuZ2luZS5kZWZpbmVQcm9wZXJ0aWVzKGFyZ3MsIHtcclxuICAgICAgICB0eXBlOiAnb2JqZWN0J1xyXG4gICAgfSk7XHJcbn1cblxuLyoqXHJcbiAqIERlY29yYXRvciBmb3IgSlNPTiBhcnJheSBhdHRyaWJ1dGUuXHJcbiAqL1xyXG5mdW5jdGlvbiBKU09OQXJyYXkodmFsdWUpIHtcclxuICAgIC8vIFJlbGF0ZWQgY2xhc3NcclxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHByb3RvdHlwZSwga2V5LCBkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgICAgIFJlZmVyZW5jZUVuZ2luZS5hZGRSZWZlcmVuY2UocHJvdG90eXBlLCBrZXksICdpdGVtcycsIHZhbHVlKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLy8gR2l2ZW4gdHlwZVxyXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHByb3RvdHlwZSwga2V5LCBkZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgICAgIERlY29yYXRvckVuZ2luZS5kZWZpbmVQcm9wZXJ0aWVzKFtwcm90b3R5cGUsIGtleSwgZGVzY3JpcHRvcl0sIHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdhcnJheScsXHJcbiAgICAgICAgICAgICAgICBpdGVtczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHZhbHVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gRGVjb3JhdG9yRW5naW5lLmRlZmluZVByb3BlcnRpZXMoW3ZhbHVlXSwge1xyXG4gICAgICAgIHR5cGU6ICdhcnJheSdcclxuICAgIH0pO1xyXG59XG5cbmV4cG9ydCBkZWZhdWx0IFRhYmJvdWxlaDtcbmV4cG9ydCB7IEpTT05BcnJheSwgSlNPTkJvb2xlYW4sIEpTT05JbnRlZ2VyLCBKU09OTnVtYmVyLCBKU09OT2JqZWN0LCBKU09OUHJvcGVydHksIEpTT05TY2hlbWEsIEpTT05TdHJpbmcsIE5vdEFKc29uU2NoZW1hRXJyb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRhYmJvdWxlaC5lczUuanMubWFwXG4iLCJpbXBvcnQge0pTT05TY2hlbWEsIEpTT05TdHJpbmd9IGZyb20gXCJ0YWJib3VsZWhcIjtcclxuXHJcbkBKU09OU2NoZW1hPFVzZXJBZGRyZXNzPih7XHJcbiAgICByZXF1aXJlZDogWydzdHJlZXQnLCAnY2l0eSddXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBVc2VyQWRkcmVzcyB7XHJcblxyXG4gICAgQEpTT05TdHJpbmdcclxuICAgIHN0cmVldDogc3RyaW5nO1xyXG5cclxuICAgIEBKU09OU3RyaW5nXHJcbiAgICBjaXR5OiBzdHJpbmc7XHJcblxyXG59IiwiaW1wb3J0IHtVc2VyQWRkcmVzc30gZnJvbSBcIi4vVXNlckFkZHJlc3NcIjtcclxuaW1wb3J0IHtKU09OT2JqZWN0LCBKU09OU2NoZW1hfSBmcm9tIFwidGFiYm91bGVoXCI7XHJcblxyXG5ASlNPTlNjaGVtYTxVc2VyRGF0YT4oe1xyXG4gICAgcmVxdWlyZWQ6IFsnbmFtZScsICdhZ2UnLCAnYWRkcmVzcyddXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBVc2VyRGF0YSB7XHJcblxyXG4gICAgbmFtZTogc3RyaW5nO1xyXG5cclxuICAgIGFnZTogbnVtYmVyO1xyXG5cclxuICAgIEBKU09OT2JqZWN0KCgpID0+IFVzZXJBZGRyZXNzKVxyXG4gICAgYWRkcmVzczogVXNlckFkZHJlc3M7XHJcblxyXG59IiwiaW1wb3J0IHtFcnJvck9iamVjdH0gZnJvbSBcImFqdlwiO1xyXG5cclxuXHJcbmNvbnN0IHNjaGVtYU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2hlbWEtb3V0cHV0JykgYXMgSFRNTFByZUVsZW1lbnQ7XHJcbmNvbnN0IGRhdGFJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRhLWlucHV0JykgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcclxuY29uc3Qgc3RhdGVPdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdGUtb3V0cHV0JykgYXMgSFRNTERpdkVsZW1lbnQ7XHJcblxyXG5mdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XHJcbiAgICBzdGF0ZU91dHB1dC5jbGFzc0xpc3QucmVtb3ZlKCdlcnJvcicpO1xyXG4gICAgc3RhdGVPdXRwdXQuY2xhc3NMaXN0LmFkZCgnc3VjY2VzcycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvbkVycm9yKGVycm9yczogUGljazxFcnJvck9iamVjdCwgJ2RhdGFQYXRoJyB8ICdtZXNzYWdlJz5bXSkge1xyXG4gICAgc3RhdGVPdXRwdXQuY2xhc3NMaXN0LnJlbW92ZSgnc3VjY2VzcycpO1xyXG4gICAgc3RhdGVPdXRwdXQuY2xhc3NMaXN0LmFkZCgnZXJyb3InKTtcclxuXHJcbiAgICBzdGF0ZU91dHB1dC5pbm5lckhUTUwgPSAnPGJyLz48YnIvPicgKyBlcnJvcnMubWFwKGUgPT4gZS5kYXRhUGF0aCArICcgPT4gJyArIGUubWVzc2FnZSkuam9pbignPGJyLz4nKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25DaGFuZ2UodmFsdWU6IHN0cmluZywgZG9WYWxpZGF0ZTogKGRhdGE6IG9iamVjdCkgPT4geyB2YWxpZDogYm9vbGVhbjsgZXJyb3JzOiBFcnJvck9iamVjdFtdIH0pOiB2b2lkIHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRvVmFsaWRhdGUoSlNPTi5wYXJzZSh2YWx1ZSkpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG5cclxuICAgICAgICBpZiAocmVzdWx0LnZhbGlkKSB7XHJcbiAgICAgICAgICAgIG9uU3VjY2VzcygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG9uRXJyb3IocmVzdWx0LmVycm9ycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgb25FcnJvcihbe1xyXG4gICAgICAgICAgICBkYXRhUGF0aDogZS5uYW1lLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBlLm1lc3NhZ2VcclxuICAgICAgICB9XSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBET01Jbml0KHNjaGVtYTogb2JqZWN0LCBkZWZhdWx0RGF0YTogb2JqZWN0LCBkb1ZhbGlkYXRlOiAoZGF0YTogb2JqZWN0KSA9PiB7IHZhbGlkOiBib29sZWFuOyBlcnJvcnM6IEVycm9yT2JqZWN0W10gfSkge1xyXG5cclxuICAgIHNjaGVtYU91dHB1dC5pbm5lclRleHQgPSBKU09OLnN0cmluZ2lmeShzY2hlbWEsIHVuZGVmaW5lZCwgJ1xcdCcpO1xyXG5cclxuICAgIGRhdGFJbnB1dC5vbmtleXVwID0gZSA9PiB7XHJcbiAgICAgICAgY29uc3Qge3ZhbHVlfSA9IGUuY3VycmVudFRhcmdldCBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG5cclxuICAgICAgICBvbkNoYW5nZSh2YWx1ZSwgZG9WYWxpZGF0ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRhdGFJbnB1dC52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KGRlZmF1bHREYXRhLCB1bmRlZmluZWQsICdcXHQnKTtcclxuXHJcbiAgICBvbkNoYW5nZShkYXRhSW5wdXQudmFsdWUsIGRvVmFsaWRhdGUpO1xyXG59XHJcbiIsImltcG9ydCBUYWJib3VsZWggZnJvbSBcInRhYmJvdWxlaFwiO1xuaW1wb3J0IEFqdiwge0Vycm9yT2JqZWN0fSBmcm9tICdhanYnO1xuaW1wb3J0IHtVc2VyRGF0YX0gZnJvbSBcIi4vVXNlckRhdGFcIjtcbmltcG9ydCB7RE9NSW5pdH0gZnJvbSBcIi4vZG9tTWFuaXB1bGF0aW9uXCI7XG5cbi8vIGdlbmVyYXRlIHRoZSBVc2VyRGF0YSBzY2hlbWFcbmNvbnN0IHNjaGVtYSA9IFRhYmJvdWxlaC5nZW5lcmF0ZUpTT05TY2hlbWEoVXNlckRhdGEpO1xuY29uc29sZS5sb2coc2NoZW1hKTtcblxuLy8gaW5zdGFudGlhdGUgQUpWICYgY29tcGlsZSB0aGUgc2NoZW1hXG5jb25zdCBhanYgPSBuZXcgQWp2KCk7XG5jb25zdCB2YWxpZGF0ZSA9IGFqdi5jb21waWxlKHNjaGVtYSk7XG5cbmNvbnN0IGRlZmF1bHREYXRhOiBVc2VyRGF0YSA9IHtcbiAgICBuYW1lOiAnVG90bycsXG4gICAgYWdlOiAyOCxcbiAgICBhZGRyZXNzOiB7XG4gICAgICAgIGNpdHk6ICdQYXJpcycsXG4gICAgICAgIHN0cmVldDogJzU2IHJ1ZSBTYWludCBNYXJ0aW4nXG4gICAgfVxufTtcblxuLy8gdmFsaWRhdGUgZGF0YSB3aXRoIEFKVlxuZnVuY3Rpb24gZG9WYWxpZGF0ZShkYXRhOiBvYmplY3QpOiB7IHZhbGlkOiBib29sZWFuOyBlcnJvcnM6IEVycm9yT2JqZWN0W10gfSB7XG4gICAgY29uc3QgdmFsaWQgPSB2YWxpZGF0ZShkYXRhKSBhcyBib29sZWFuO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmFsaWQsXG4gICAgICAgIGVycm9yczogdmFsaWRhdGUuZXJyb3JzIHx8IFtdXG4gICAgfTtcbn1cblxuRE9NSW5pdChzY2hlbWEsIGRlZmF1bHREYXRhLCBkb1ZhbGlkYXRlKTsiXSwic291cmNlUm9vdCI6IiJ9